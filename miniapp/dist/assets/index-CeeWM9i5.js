function Nh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var md={exports:{}},oo={},xd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),Eh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),_h=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Dh=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Ih=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),Eu=Symbol.iterator;function Oh(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vd=Object.assign,yd={};function zr(e,t,n){this.props=e,this.context=t,this.refs=yd,this.updater=n||gd}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wd(){}wd.prototype=zr.prototype;function yi(e,t,n){this.props=e,this.context=t,this.refs=yd,this.updater=n||gd}var wi=yi.prototype=new wd;wi.constructor=yi;vd(wi,zr.prototype);wi.isPureReactComponent=!0;var Mu=Array.isArray,kd=Object.prototype.hasOwnProperty,ki={current:null},bd={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,n){var r,l={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)kd.call(t,r)&&!bd.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Ol,type:e,key:s,ref:o,props:l,_owner:ki.current}}function Ah(e,t){return{$$typeof:Ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ol}function Fh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _u=/\/+/g;function Fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fh(""+e.key):t.toString(36)}function gs(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ol:case Eh:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+Fo(o,0):r,Mu(l)?(n="",e!=null&&(n=e.replace(_u,"$&/")+"/"),gs(l,t,n,"",function(c){return c})):l!=null&&(bi(l)&&(l=Ah(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(_u,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Mu(e))for(var i=0;i<e.length;i++){s=e[i];var u=r+Fo(s,i);o+=gs(s,t,n,u,l)}else if(u=Oh(e),typeof u=="function")for(e=u.call(e),i=0;!(s=e.next()).done;)s=s.value,u=r+Fo(s,i++),o+=gs(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(e,t,n){if(e==null)return e;var r=[],l=0;return gs(e,r,"","",function(s){return t.call(n,s,l++)}),r}function $h(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},vs={transition:null},Uh={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:vs,ReactCurrentOwner:ki};function jd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Yl,forEach:function(e,t,n){Yl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yl(e,function(){t++}),t},toArray:function(e){return Yl(e,function(t){return t})||[]},only:function(e){if(!bi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=zr;X.Fragment=Mh;X.Profiler=Th;X.PureComponent=yi;X.StrictMode=_h;X.Suspense=Ph;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uh;X.act=jd;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vd({},e.props),l=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ki.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)kd.call(t,u)&&!bd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Ol,type:e.type,key:l,ref:s,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:Dh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rh,_context:e},e.Consumer=e};X.createElement=Sd;X.createFactory=function(e){var t=Sd.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:zh,render:e}};X.isValidElement=bi;X.lazy=function(e){return{$$typeof:Lh,_payload:{_status:-1,_result:e},_init:$h}};X.memo=function(e,t){return{$$typeof:Ih,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};X.unstable_act=jd;X.useCallback=function(e,t){return Ze.current.useCallback(e,t)};X.useContext=function(e){return Ze.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ze.current.useEffect(e,t)};X.useId=function(){return Ze.current.useId()};X.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ze.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};X.useRef=function(e){return Ze.current.useRef(e)};X.useState=function(e){return Ze.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ze.current.useTransition()};X.version="18.3.1";xd.exports=X;var d=xd.exports;const fe=Ch(d),Bh=Nh({__proto__:null,default:fe},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=d,Vh=Symbol.for("react.element"),Wh=Symbol.for("react.fragment"),Xh=Object.prototype.hasOwnProperty,Kh=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qh={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,n){var r,l={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Xh.call(t,r)&&!Qh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Vh,type:e,key:s,ref:o,props:l,_owner:Kh.current}}oo.Fragment=Wh;oo.jsx=Nd;oo.jsxs=Nd;md.exports=oo;var a=md.exports,wa={},Cd={exports:{}},gt={},Ed={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var O=D.length;D.push(L);e:for(;0<O;){var Q=O-1>>>1,U=D[Q];if(0<l(U,L))D[Q]=L,D[O]=U,O=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],O=D.pop();if(O!==L){D[0]=O;e:for(var Q=0,U=D.length,ae=U>>>1;Q<ae;){var ne=2*(Q+1)-1,Ce=D[ne],ee=ne+1,he=D[ee];if(0>l(Ce,O))ee<U&&0>l(he,Ce)?(D[Q]=he,D[ee]=O,Q=ee):(D[Q]=Ce,D[ne]=O,Q=ne);else if(ee<U&&0>l(he,O))D[Q]=he,D[ee]=O,Q=ee;else break e}}return L}function l(D,L){var O=D.sortIndex-L.sortIndex;return O!==0?O:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var u=[],c=[],p=1,f=null,h=3,y=!1,k=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=D)r(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function j(D){if(v=!1,g(D),!k)if(n(u)!==null)k=!0,we(w);else{var L=n(c);L!==null&&le(j,L.startTime-D)}}function w(D,L){k=!1,v&&(v=!1,x(C),C=-1),y=!0;var O=h;try{for(g(L),f=n(u);f!==null&&(!(f.expirationTime>L)||D&&!R());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var U=Q(f.expirationTime<=L);L=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(u)&&r(u),g(L)}else r(u);f=n(u)}if(f!==null)var ae=!0;else{var ne=n(c);ne!==null&&le(j,ne.startTime-L),ae=!1}return ae}finally{f=null,h=O,y=!1}}var N=!1,S=null,C=-1,_=5,T=-1;function R(){return!(e.unstable_now()-T<_)}function V(){if(S!==null){var D=e.unstable_now();T=D;var L=!0;try{L=S(!0,D)}finally{L?A():(N=!1,S=null)}}else N=!1}var A;if(typeof m=="function")A=function(){m(V)};else if(typeof MessageChannel!="undefined"){var B=new MessageChannel,Ne=B.port2;B.port1.onmessage=V,A=function(){Ne.postMessage(null)}}else A=function(){b(V,0)};function we(D){S=D,N||(N=!0,A())}function le(D,L){C=b(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,we(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var O=h;h=L;try{return D()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=h;h=D;try{return L()}finally{h=O}},e.unstable_scheduleCallback=function(D,L,O){var Q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,D={id:p++,callback:L,priorityLevel:D,startTime:O,expirationTime:U,sortIndex:-1},O>Q?(D.sortIndex=O,t(c,D),n(u)===null&&D===n(c)&&(v?(x(C),C=-1):v=!0,le(j,O-Q))):(D.sortIndex=U,t(u,D),k||y||(k=!0,we(w))),D},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(D){var L=h;return function(){var O=h;h=L;try{return D.apply(this,arguments)}finally{h=O}}}})(Md);Ed.exports=Md;var Yh=Ed.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=d,xt=Yh;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _d=new Set,hl={};function Jn(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(hl[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var ln=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ka=Object.prototype.hasOwnProperty,Jh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tu={},Ru={};function qh(e){return ka.call(Ru,e)?!0:ka.call(Tu,e)?!1:Jh.test(e)?Ru[e]=!0:(Tu[e]=!0,!1)}function Zh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function em(e,t,n,r){if(t===null||typeof t=="undefined"||Zh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;function ji(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Si,ji);Be[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Si,ji);Be[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Si,ji);Be[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ni(e,t,n,r){var l=Be.hasOwnProperty(t)?Be[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(em(t,n,l,r)&&(n=null),r||l===null?qh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var un=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),sr=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),Ci=Symbol.for("react.strict_mode"),ba=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Rd=Symbol.for("react.context"),Ei=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),Mi=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Dd=Symbol.for("react.offscreen"),Du=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Du&&e[Du]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,$o;function qr(e){if($o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Uo=!1;function Bo(e,t){if(!e||Uo)return"";Uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,i=s.length-1;1<=o&&0<=i&&l[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==s[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==s[i]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=i);break}}}finally{Uo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function tm(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=Bo(e.type,!1),e;case 11:return e=Bo(e.type.render,!1),e;case 1:return e=Bo(e.type,!0),e;default:return""}}function Na(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case sr:return"Portal";case ba:return"Profiler";case Ci:return"StrictMode";case Sa:return"Suspense";case ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rd:return(e.displayName||"Context")+".Consumer";case Td:return(e._context.displayName||"Context")+".Provider";case Ei:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mi:return t=e.displayName||null,t!==null?t:Na(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Na(e(t))}catch(n){}}return null}function nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(t);case 8:return t===Ci?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rm(e){var t=zd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jl(e){e._valueTracker||(e._valueTracker=rm(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ca(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function zu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Id(e,t){t=t.checked,t!=null&&Ni(e,"checked",t,!1)}function Ea(e,t){Id(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||Ts(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function vr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function _a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Zr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function Ld(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Od(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Od(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,Ad=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ml(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nl[t]=nl[e]})});function Fd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nl.hasOwnProperty(e)&&nl[e]?(""+t).trim():t+"px"}function $d(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Fd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var sm=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(sm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function _i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,yr=null,wr=null;function Ou(e){if(e=$l(e)){if(typeof Pa!="function")throw Error(M(280));var t=e.stateNode;t&&(t=fo(t),Pa(e.stateNode,e.type,t))}}function Ud(e){yr?wr?wr.push(e):wr=[e]:yr=e}function Bd(){if(yr){var e=yr,t=wr;if(wr=yr=null,Ou(e),t)for(e=0;e<t.length;e++)Ou(t[e])}}function Hd(e,t){return e(t)}function Vd(){}var Ho=!1;function Wd(e,t,n){if(Ho)return e(t,n);Ho=!0;try{return Hd(e,t,n)}finally{Ho=!1,(yr!==null||wr!==null)&&(Vd(),Bd())}}function xl(e,t){var n=e.stateNode;if(n===null)return null;var r=fo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ia=!1;if(ln)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch(e){Ia=!1}function om(e,t,n,r,l,s,o,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var rl=!1,Rs=null,Ds=!1,La=null,am={onError:function(e){rl=!0,Rs=e}};function im(e,t,n,r,l,s,o,i,u){rl=!1,Rs=null,om.apply(am,arguments)}function um(e,t,n,r,l,s,o,i,u){if(im.apply(this,arguments),rl){if(rl){var c=Rs;rl=!1,Rs=null}else throw Error(M(198));Ds||(Ds=!0,La=c)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Au(e){if(qn(e)!==e)throw Error(M(188))}function cm(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Au(l),e;if(s===r)return Au(l),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,i=l.child;i;){if(i===n){o=!0,n=l,r=s;break}if(i===r){o=!0,r=l,n=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===n){o=!0,n=s,r=l;break}if(i===r){o=!0,r=s,n=l;break}i=i.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Kd(e){return e=cm(e),e!==null?Qd(e):null}function Qd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qd(e);if(t!==null)return t;e=e.sibling}return null}var Yd=xt.unstable_scheduleCallback,Fu=xt.unstable_cancelCallback,dm=xt.unstable_shouldYield,fm=xt.unstable_requestPaint,Me=xt.unstable_now,pm=xt.unstable_getCurrentPriorityLevel,Ti=xt.unstable_ImmediatePriority,Gd=xt.unstable_UserBlockingPriority,zs=xt.unstable_NormalPriority,hm=xt.unstable_LowPriority,Jd=xt.unstable_IdlePriority,ao=null,Xt=null;function mm(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch(t){}}var It=Math.clz32?Math.clz32:vm,xm=Math.log,gm=Math.LN2;function vm(e){return e>>>=0,e===0?32:31-(xm(e)/gm|0)|0}var Zl=64,es=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ps(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~l;i!==0?r=el(i):(s&=o,s!==0&&(r=el(s)))}else o=n&~l,o!==0?r=el(o):s!==0&&(r=el(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-It(t),l=1<<n,r|=e[n],t&=~l;return r}function ym(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-It(s),i=1<<o,u=l[o];u===-1?(!(i&n)||i&r)&&(l[o]=ym(i,t)):u<=t&&(e.expiredLanes|=i),s&=~i}}function Oa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qd(){var e=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),e}function Vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function km(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-It(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-It(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var re=0;function Zd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ef,Di,tf,nf,rf,Aa=!1,ts=[],jn=null,Nn=null,Cn=null,gl=new Map,vl=new Map,yn=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(t.pointerId)}}function Wr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=$l(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Sm(e,t,n,r,l){switch(t){case"focusin":return jn=Wr(jn,e,t,n,r,l),!0;case"dragenter":return Nn=Wr(Nn,e,t,n,r,l),!0;case"mouseover":return Cn=Wr(Cn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return gl.set(s,Wr(gl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,vl.set(s,Wr(vl.get(s)||null,e,t,n,r,l)),!0}return!1}function lf(e){var t=$n(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Xd(n),t!==null){e.blockedOn=t,rf(e.priority,function(){tf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return t=$l(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function Uu(e,t,n){ys(e)&&n.delete(t)}function jm(){Aa=!1,jn!==null&&ys(jn)&&(jn=null),Nn!==null&&ys(Nn)&&(Nn=null),Cn!==null&&ys(Cn)&&(Cn=null),gl.forEach(Uu),vl.forEach(Uu)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,Aa||(Aa=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,jm)))}function yl(e){function t(l){return Xr(l,e)}if(0<ts.length){Xr(ts[0],e);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&Xr(jn,e),Nn!==null&&Xr(Nn,e),Cn!==null&&Xr(Cn,e),gl.forEach(t),vl.forEach(t),n=0;n<yn.length;n++)r=yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)lf(n),n.blockedOn===null&&yn.shift()}var kr=un.ReactCurrentBatchConfig,Is=!0;function Nm(e,t,n,r){var l=re,s=kr.transition;kr.transition=null;try{re=1,zi(e,t,n,r)}finally{re=l,kr.transition=s}}function Cm(e,t,n,r){var l=re,s=kr.transition;kr.transition=null;try{re=4,zi(e,t,n,r)}finally{re=l,kr.transition=s}}function zi(e,t,n,r){if(Is){var l=Fa(e,t,n,r);if(l===null)ea(e,t,r,Ls,n),$u(e,r);else if(Sm(l,e,t,n,r))r.stopPropagation();else if($u(e,r),t&4&&-1<bm.indexOf(e)){for(;l!==null;){var s=$l(l);if(s!==null&&ef(s),s=Fa(e,t,n,r),s===null&&ea(e,t,r,Ls,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else ea(e,t,r,null,n)}}var Ls=null;function Fa(e,t,n,r){if(Ls=null,e=_i(r),e=$n(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ls=e,null}function sf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pm()){case Ti:return 1;case Gd:return 4;case zs:case hm:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var kn=null,Pi=null,ws=null;function of(){if(ws)return ws;var e,t=Pi,n=t.length,r,l="value"in kn?kn.value:kn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[s-r];r++);return ws=l.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function Bu(){return!1}function vt(e){function t(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ns:Bu,this.isPropagationStopped=Bu,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=vt(Pr),Fl=ye({},Pr,{view:0,detail:0}),Em=vt(Fl),Wo,Xo,Kr,io=ye({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Wo=e.screenX-Kr.screenX,Xo=e.screenY-Kr.screenY):Xo=Wo=0,Kr=e),Wo)},movementY:function(e){return"movementY"in e?e.movementY:Xo}}),Hu=vt(io),Mm=ye({},io,{dataTransfer:0}),_m=vt(Mm),Tm=ye({},Fl,{relatedTarget:0}),Ko=vt(Tm),Rm=ye({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=vt(Rm),zm=ye({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=vt(zm),Im=ye({},Pr,{data:0}),Vu=vt(Im),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function Li(){return Fm}var $m=ye({},Fl,{key:function(e){if(e.key){var t=Lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Um=vt($m),Bm=ye({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=vt(Bm),Hm=ye({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),Vm=vt(Hm),Wm=ye({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=vt(Wm),Km=ye({},io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=vt(Km),Ym=[9,13,27,32],Oi=ln&&"CompositionEvent"in window,ll=null;ln&&"documentMode"in document&&(ll=document.documentMode);var Gm=ln&&"TextEvent"in window&&!ll,af=ln&&(!Oi||ll&&8<ll&&11>=ll),Xu=" ",Ku=!1;function uf(e,t){switch(e){case"keyup":return Ym.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Jm(e,t){switch(e){case"compositionend":return cf(t);case"keypress":return t.which!==32?null:(Ku=!0,Xu);case"textInput":return e=t.data,e===Xu&&Ku?null:e;default:return null}}function qm(e,t){if(ar)return e==="compositionend"||!Oi&&uf(e,t)?(e=of(),ws=Pi=kn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return af&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function df(e,t,n,r){Ud(r),t=Os(t,"onChange"),0<t.length&&(n=new Ii("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sl=null,wl=null;function ex(e){bf(e,0)}function uo(e){var t=cr(e);if(Pd(t))return e}function tx(e,t){if(e==="change")return t}var ff=!1;if(ln){var Qo;if(ln){var Yo="oninput"in document;if(!Yo){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),Yo=typeof Yu.oninput=="function"}Qo=Yo}else Qo=!1;ff=Qo&&(!document.documentMode||9<document.documentMode)}function Gu(){sl&&(sl.detachEvent("onpropertychange",pf),wl=sl=null)}function pf(e){if(e.propertyName==="value"&&uo(wl)){var t=[];df(t,wl,e,_i(e)),Wd(ex,t)}}function nx(e,t,n){e==="focusin"?(Gu(),sl=t,wl=n,sl.attachEvent("onpropertychange",pf)):e==="focusout"&&Gu()}function rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(wl)}function lx(e,t){if(e==="click")return uo(t)}function sx(e,t){if(e==="input"||e==="change")return uo(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:ox;function kl(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ka.call(t,l)||!Ot(e[l],t[l]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var n=Ju(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ju(n)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mf(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ax(e){var t=mf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hf(n.ownerDocument.documentElement,n)){if(r!==null&&Ai(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=qu(n,s);var o=qu(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ix=ln&&"documentMode"in document&&11>=document.documentMode,ir=null,$a=null,ol=null,Ua=!1;function Zu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||ir==null||ir!==Ts(r)||(r=ir,"selectionStart"in r&&Ai(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&kl(ol,r)||(ol=r,r=Os($a,"onSelect"),0<r.length&&(t=new Ii("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Go={},xf={};ln&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function co(e){if(Go[e])return Go[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xf)return Go[e]=t[n];return e}var gf=co("animationend"),vf=co("animationiteration"),yf=co("animationstart"),wf=co("transitionend"),kf=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){kf.set(e,t),Jn(t,[e])}for(var Jo=0;Jo<ec.length;Jo++){var qo=ec[Jo],ux=qo.toLowerCase(),cx=qo[0].toUpperCase()+qo.slice(1);In(ux,"on"+cx)}In(gf,"onAnimationEnd");In(vf,"onAnimationIteration");In(yf,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(wf,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function tc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,um(r,t,void 0,e),e.currentTarget=null}function bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==s&&l.isPropagationStopped())break e;tc(l,i,c),s=u}else for(o=0;o<r.length;o++){if(i=r[o],u=i.instance,c=i.currentTarget,i=i.listener,u!==s&&l.isPropagationStopped())break e;tc(l,i,c),s=u}}}if(Ds)throw e=La,Ds=!1,La=null,e}function de(e,t){var n=t[Xa];n===void 0&&(n=t[Xa]=new Set);var r=e+"__bubble";n.has(r)||(Sf(t,e,2,!1),n.add(r))}function Zo(e,t,n){var r=0;t&&(r|=4),Sf(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[ls]){e[ls]=!0,_d.forEach(function(n){n!=="selectionchange"&&(dx.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Zo("selectionchange",!1,t))}}function Sf(e,t,n,r){switch(sf(t)){case 1:var l=Nm;break;case 4:l=Cm;break;default:l=zi}n=l.bind(null,t,n,e),l=void 0,!Ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ea(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;i!==null;){if(o=$n(i),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}i=i.parentNode}}r=r.return}Wd(function(){var c=s,p=_i(n),f=[];e:{var h=kf.get(e);if(h!==void 0){var y=Ii,k=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":y=Um;break;case"focusin":k="focus",y=Ko;break;case"focusout":k="blur",y=Ko;break;case"beforeblur":case"afterblur":y=Ko;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Vm;break;case gf:case vf:case yf:y=Dm;break;case wf:y=Xm;break;case"scroll":y=Em;break;case"wheel":y=Qm;break;case"copy":case"cut":case"paste":y=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Wu}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=xl(m,x),j!=null&&v.push(Sl(m,j,g)))),b)break;m=m.return}0<v.length&&(h=new y(h,k,null,n,p),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==za&&(k=n.relatedTarget||n.fromElement)&&($n(k)||k[sn]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=c,k=k?$n(k):null,k!==null&&(b=qn(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=c),y!==k)){if(v=Hu,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Wu,j="onPointerLeave",x="onPointerEnter",m="pointer"),b=y==null?h:cr(y),g=k==null?h:cr(k),h=new v(j,m+"leave",y,n,p),h.target=b,h.relatedTarget=g,j=null,$n(p)===c&&(v=new v(x,m+"enter",k,n,p),v.target=g,v.relatedTarget=b,j=v),b=j,y&&k)t:{for(v=y,x=k,m=0,g=v;g;g=rr(g))m++;for(g=0,j=x;j;j=rr(j))g++;for(;0<m-g;)v=rr(v),m--;for(;0<g-m;)x=rr(x),g--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=rr(v),x=rr(x)}v=null}else v=null;y!==null&&nc(f,h,y,v,!1),k!==null&&b!==null&&nc(f,b,k,v,!0)}}e:{if(h=c?cr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=tx;else if(Qu(h))if(ff)w=sx;else{w=rx;var N=nx}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=lx);if(w&&(w=w(e,c))){df(f,w,n,p);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ma(h,"number",h.value)}switch(N=c?cr(c):window,e){case"focusin":(Qu(N)||N.contentEditable==="true")&&(ir=N,$a=c,ol=null);break;case"focusout":ol=$a=ir=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,Zu(f,n,p);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Zu(f,n,p)}var S;if(Oi)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ar?uf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(af&&n.locale!=="ko"&&(ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&ar&&(S=of()):(kn=p,Pi="value"in kn?kn.value:kn.textContent,ar=!0)),N=Os(c,C),0<N.length&&(C=new Vu(C,e,null,n,p),f.push({event:C,listeners:N}),S?C.data=S:(S=cf(n),S!==null&&(C.data=S)))),(S=Gm?Jm(e,n):qm(e,n))&&(c=Os(c,"onBeforeInput"),0<c.length&&(p=new Vu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=S))}bf(f,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Os(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=xl(e,n),s!=null&&r.unshift(Sl(e,s,l)),s=xl(e,t),s!=null&&r.push(Sl(e,s,l))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,n,r,l){for(var s=t._reactName,o=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,l?(u=xl(n,s),u!=null&&o.unshift(Sl(n,u,i))):l||(u=xl(n,s),u!=null&&o.push(Sl(n,u,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fx=/\r\n?/g,px=/\u0000|\uFFFD/g;function rc(e){return(typeof e=="string"?e:""+e).replace(fx,`
`).replace(px,"")}function ss(e,t,n){if(t=rc(t),rc(e)!==t&&n)throw Error(M(425))}function As(){}var Ba=null,Ha=null;function Va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,mx=typeof queueMicrotask=="function"?queueMicrotask:typeof lc!="undefined"?function(e){return lc.resolve(null).then(e).catch(xx)}:Wa;function xx(e){setTimeout(function(){throw e})}function ta(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),yl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);yl(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ir,jl="__reactProps$"+Ir,sn="__reactContainer$"+Ir,Xa="__reactEvents$"+Ir,gx="__reactListeners$"+Ir,vx="__reactHandles$"+Ir;function $n(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sc(e);e!==null;){if(n=e[Wt])return n;e=sc(e)}return t}e=n,n=e.parentNode}return null}function $l(e){return e=e[Wt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function fo(e){return e[jl]||null}var Ka=[],dr=-1;function Ln(e){return{current:e}}function pe(e){0>dr||(e.current=Ka[dr],Ka[dr]=null,dr--)}function ue(e,t){dr++,Ka[dr]=e.current,e.current=t}var zn={},Qe=Ln(zn),st=Ln(!1),Xn=zn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ot(e){return e=e.childContextTypes,e!=null}function Fs(){pe(st),pe(Qe)}function oc(e,t,n){if(Qe.current!==zn)throw Error(M(168));ue(Qe,t),ue(st,n)}function jf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,nm(e)||"Unknown",l));return ye({},n,r)}function $s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,Xn=Qe.current,ue(Qe,e),ue(st,st.current),!0}function ac(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=jf(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,pe(st),pe(Qe),ue(Qe,e)):pe(st),ue(st,n)}var en=null,po=!1,na=!1;function Nf(e){en===null?en=[e]:en.push(e)}function yx(e){po=!0,Nf(e)}function On(){if(!na&&en!==null){na=!0;var e=0,t=re;try{var n=en;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}en=null,po=!1}catch(l){throw en!==null&&(en=en.slice(e+1)),Yd(Ti,On),l}finally{re=t,na=!1}}return null}var fr=[],pr=0,Us=null,Bs=0,bt=[],St=0,Kn=null,tn=1,nn="";function An(e,t){fr[pr++]=Bs,fr[pr++]=Us,Us=e,Bs=t}function Cf(e,t,n){bt[St++]=tn,bt[St++]=nn,bt[St++]=Kn,Kn=e;var r=tn;e=nn;var l=32-It(r)-1;r&=~(1<<l),n+=1;var s=32-It(t)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,tn=1<<32-It(t)+l|n<<l|r,nn=s+e}else tn=1<<s|n<<l|r,nn=e}function Fi(e){e.return!==null&&(An(e,1),Cf(e,1,0))}function $i(e){for(;e===Us;)Us=fr[--pr],fr[pr]=null,Bs=fr[--pr],fr[pr]=null;for(;e===Kn;)Kn=bt[--St],bt[St]=null,nn=bt[--St],bt[St]=null,tn=bt[--St],bt[St]=null}var mt=null,ht=null,me=!1,Pt=null;function Ef(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ic(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ht=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,ht=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(me){var t=ht;if(t){var n=t;if(!ic(e,t)){if(Qa(e))throw Error(M(418));t=En(n.nextSibling);var r=mt;t&&ic(e,t)?Ef(r,n):(e.flags=e.flags&-4097|2,me=!1,mt=e)}}else{if(Qa(e))throw Error(M(418));e.flags=e.flags&-4097|2,me=!1,mt=e}}}function uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function os(e){if(e!==mt)return!1;if(!me)return uc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Va(e.type,e.memoizedProps)),t&&(t=ht)){if(Qa(e))throw Mf(),Error(M(418));for(;t;)Ef(e,t),t=En(t.nextSibling)}if(uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=mt?En(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=ht;e;)e=En(e.nextSibling)}function Er(){ht=mt=null,me=!1}function Ui(e){Pt===null?Pt=[e]:Pt.push(e)}var wx=un.ReactCurrentBatchConfig;function Qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var i=l.refs;o===null?delete i[s]:i[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cc(e){var t=e._init;return t(e._payload)}function _f(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Rn(x,m),x.index=0,x.sibling=null,x}function s(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,j){return m===null||m.tag!==6?(m=ua(g,x.mode,j),m.return=x,m):(m=l(m,g),m.return=x,m)}function u(x,m,g,j){var w=g.type;return w===or?p(x,m,g.props.children,j,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&cc(w)===m.type)?(j=l(m,g.props),j.ref=Qr(x,m,g),j.return=x,j):(j=Ms(g.type,g.key,g.props,null,x.mode,j),j.ref=Qr(x,m,g),j.return=x,j)}function c(x,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ca(g,x.mode,j),m.return=x,m):(m=l(m,g.children||[]),m.return=x,m)}function p(x,m,g,j,w){return m===null||m.tag!==7?(m=Vn(g,x.mode,j,w),m.return=x,m):(m=l(m,g),m.return=x,m)}function f(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ua(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gl:return g=Ms(m.type,m.key,m.props,null,x.mode,g),g.ref=Qr(x,null,m),g.return=x,g;case sr:return m=ca(m,x.mode,g),m.return=x,m;case xn:var j=m._init;return f(x,j(m._payload),g)}if(Zr(m)||Hr(m))return m=Vn(m,x.mode,g,null),m.return=x,m;as(x,m)}return null}function h(x,m,g,j){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:i(x,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gl:return g.key===w?u(x,m,g,j):null;case sr:return g.key===w?c(x,m,g,j):null;case xn:return w=g._init,h(x,m,w(g._payload),j)}if(Zr(g)||Hr(g))return w!==null?null:p(x,m,g,j,null);as(x,g)}return null}function y(x,m,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,i(m,x,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Gl:return x=x.get(j.key===null?g:j.key)||null,u(m,x,j,w);case sr:return x=x.get(j.key===null?g:j.key)||null,c(m,x,j,w);case xn:var N=j._init;return y(x,m,g,N(j._payload),w)}if(Zr(j)||Hr(j))return x=x.get(g)||null,p(m,x,j,w,null);as(m,j)}return null}function k(x,m,g,j){for(var w=null,N=null,S=m,C=m=0,_=null;S!==null&&C<g.length;C++){S.index>C?(_=S,S=null):_=S.sibling;var T=h(x,S,g[C],j);if(T===null){S===null&&(S=_);break}e&&S&&T.alternate===null&&t(x,S),m=s(T,m,C),N===null?w=T:N.sibling=T,N=T,S=_}if(C===g.length)return n(x,S),me&&An(x,C),w;if(S===null){for(;C<g.length;C++)S=f(x,g[C],j),S!==null&&(m=s(S,m,C),N===null?w=S:N.sibling=S,N=S);return me&&An(x,C),w}for(S=r(x,S);C<g.length;C++)_=y(S,x,C,g[C],j),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?C:_.key),m=s(_,m,C),N===null?w=_:N.sibling=_,N=_);return e&&S.forEach(function(R){return t(x,R)}),me&&An(x,C),w}function v(x,m,g,j){var w=Hr(g);if(typeof w!="function")throw Error(M(150));if(g=w.call(g),g==null)throw Error(M(151));for(var N=w=null,S=m,C=m=0,_=null,T=g.next();S!==null&&!T.done;C++,T=g.next()){S.index>C?(_=S,S=null):_=S.sibling;var R=h(x,S,T.value,j);if(R===null){S===null&&(S=_);break}e&&S&&R.alternate===null&&t(x,S),m=s(R,m,C),N===null?w=R:N.sibling=R,N=R,S=_}if(T.done)return n(x,S),me&&An(x,C),w;if(S===null){for(;!T.done;C++,T=g.next())T=f(x,T.value,j),T!==null&&(m=s(T,m,C),N===null?w=T:N.sibling=T,N=T);return me&&An(x,C),w}for(S=r(x,S);!T.done;C++,T=g.next())T=y(S,x,C,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),m=s(T,m,C),N===null?w=T:N.sibling=T,N=T);return e&&S.forEach(function(V){return t(x,V)}),me&&An(x,C),w}function b(x,m,g,j){if(typeof g=="object"&&g!==null&&g.type===or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Gl:e:{for(var w=g.key,N=m;N!==null;){if(N.key===w){if(w=g.type,w===or){if(N.tag===7){n(x,N.sibling),m=l(N,g.props.children),m.return=x,x=m;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&cc(w)===N.type){n(x,N.sibling),m=l(N,g.props),m.ref=Qr(x,N,g),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}g.type===or?(m=Vn(g.props.children,x.mode,j,g.key),m.return=x,x=m):(j=Ms(g.type,g.key,g.props,null,x.mode,j),j.ref=Qr(x,m,g),j.return=x,x=j)}return o(x);case sr:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=l(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=ca(g,x.mode,j),m.return=x,x=m}return o(x);case xn:return N=g._init,b(x,m,N(g._payload),j)}if(Zr(g))return k(x,m,g,j);if(Hr(g))return v(x,m,g,j);as(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=l(m,g),m.return=x,x=m):(n(x,m),m=ua(g,x.mode,j),m.return=x,x=m),o(x)):n(x,m)}return b}var Mr=_f(!0),Tf=_f(!1),Hs=Ln(null),Vs=null,hr=null,Bi=null;function Hi(){Bi=hr=Vs=null}function Vi(e){var t=Hs.current;pe(Hs),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){Vs=e,Bi=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Bi!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Vs===null)throw Error(M(308));hr=e,Vs.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Un=null;function Wi(e){Un===null?Un=[e]:Un.push(e)}function Rf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Wi(t)):(n.next=l.next,l.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gn=!1;function Xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,on(e,n)}return l=r.interleaved,l===null?(t.next=t,Wi(r)):(t.next=l.next,l.next=t),r.interleaved=t,on(e,n)}function bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ri(e,n)}}function dc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var l=e.updateQueue;gn=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var u=i,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=c:i.next=c,p.lastBaseUpdate=u))}if(s!==null){var f=l.baseState;o=0,p=c=u=null,i=s;do{var h=i.lane,y=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(h=t,y=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){f=k.call(y,f,h);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,h=typeof k=="function"?k.call(y,f,h):k,h==null)break e;f=ye({},f,h);break e;case 2:gn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else y={eventTime:y,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(c=p=y,u=f):p=p.next=y,o|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Yn|=o,e.lanes=o,e.memoizedState=f}}function fc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var Ul={},Kt=Ln(Ul),Nl=Ln(Ul),Cl=Ln(Ul);function Bn(e){if(e===Ul)throw Error(M(174));return e}function Ki(e,t){switch(ue(Cl,t),ue(Nl,e),ue(Kt,Ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ta(t,e)}pe(Kt),ue(Kt,t)}function _r(){pe(Kt),pe(Nl),pe(Cl)}function zf(e){Bn(Cl.current);var t=Bn(Kt.current),n=Ta(t,e.type);t!==n&&(ue(Nl,e),ue(Kt,n))}function Qi(e){Nl.current===e&&(pe(Kt),pe(Nl))}var ge=Ln(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function Yi(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var Ss=un.ReactCurrentDispatcher,la=un.ReactCurrentBatchConfig,Qn=0,ve=null,Te=null,Le=null,Ks=!1,al=!1,El=0,kx=0;function Ve(){throw Error(M(321))}function Gi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Ji(e,t,n,r,l,s){if(Qn=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?Nx:Cx,e=n(r,l),al){s=0;do{if(al=!1,El=0,25<=s)throw Error(M(301));s+=1,Le=Te=null,t.updateQueue=null,Ss.current=Ex,e=n(r,l)}while(al)}if(Ss.current=Qs,t=Te!==null&&Te.next!==null,Qn=0,Le=Te=ve=null,Ks=!1,t)throw Error(M(300));return e}function qi(){var e=El!==0;return El=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ve.memoizedState=Le=e:Le=Le.next=e,Le}function Et(){if(Te===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Le===null?ve.memoizedState:Le.next;if(t!==null)Le=t,Te=e;else{if(e===null)throw Error(M(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Le===null?ve.memoizedState=Le=e:Le=Le.next=e}return Le}function Ml(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=Et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Te,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var i=o=null,u=null,c=s;do{var p=c.lane;if((Qn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=f,o=r):u=u.next=f,ve.lanes|=p,Yn|=p}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=i,Ot(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,ve.lanes|=s,Yn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oa(e){var t=Et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);Ot(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Pf(){}function If(e,t){var n=ve,r=Et(),l=t(),s=!Ot(r.memoizedState,l);if(s&&(r.memoizedState=l,lt=!0),r=r.queue,Zi(Af.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,_l(9,Of.bind(null,n,r,l,t),void 0,null),Ae===null)throw Error(M(349));Qn&30||Lf(n,t,l)}return l}function Lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Of(e,t,n,r){t.value=n,t.getSnapshot=r,Ff(t)&&$f(e)}function Af(e,t,n){return n(function(){Ff(t)&&$f(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch(r){return!0}}function $f(e){var t=on(e,1);t!==null&&Lt(t,e,1,-1)}function pc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},t.queue=e,e=e.dispatch=jx.bind(null,ve,e),[t.memoizedState,e]}function _l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uf(){return Et().memoizedState}function js(e,t,n,r){var l=Vt();ve.flags|=e,l.memoizedState=_l(1|t,n,void 0,r===void 0?null:r)}function ho(e,t,n,r){var l=Et();r=r===void 0?null:r;var s=void 0;if(Te!==null){var o=Te.memoizedState;if(s=o.destroy,r!==null&&Gi(r,o.deps)){l.memoizedState=_l(t,n,s,r);return}}ve.flags|=e,l.memoizedState=_l(1|t,n,s,r)}function hc(e,t){return js(8390656,8,e,t)}function Zi(e,t){return ho(2048,8,e,t)}function Bf(e,t){return ho(4,2,e,t)}function Hf(e,t){return ho(4,4,e,t)}function Vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wf(e,t,n){return n=n!=null?n.concat([e]):null,ho(4,4,Vf.bind(null,t,e),n)}function eu(){}function Xf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qf(e,t,n){return Qn&21?(Ot(n,t)||(n=qd(),ve.lanes|=n,Yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function bx(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{re=n,la.transition=r}}function Yf(){return Et().memoizedState}function Sx(e,t,n){var r=Tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gf(e))Jf(t,n);else if(n=Rf(e,t,n,r),n!==null){var l=qe();Lt(n,e,r,l),qf(n,t,r)}}function jx(e,t,n){var r=Tn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gf(e))Jf(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,i=s(o,n);if(l.hasEagerState=!0,l.eagerState=i,Ot(i,o)){var u=t.interleaved;u===null?(l.next=l,Wi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch(c){}finally{}n=Rf(e,t,l,r),n!==null&&(l=qe(),Lt(n,e,r,l),qf(n,t,r))}}function Gf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Jf(e,t){al=Ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ri(e,n)}}var Qs={readContext:Ct,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Nx={readContext:Ct,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,js(4194308,4,Vf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sx.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:pc,useDebugValue:eu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=pc(!1),t=e[0];return e=bx.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,l=Vt();if(me){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ae===null)throw Error(M(349));Qn&30||Lf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,hc(Af.bind(null,r,s,e),[e]),r.flags|=2048,_l(9,Of.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Ae.identifierPrefix;if(me){var n=nn,r=tn;n=(r&~(1<<32-It(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=El++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cx={readContext:Ct,useCallback:Xf,useContext:Ct,useEffect:Zi,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:Kf,useReducer:sa,useRef:Uf,useState:function(){return sa(Ml)},useDebugValue:eu,useDeferredValue:function(e){var t=Et();return Qf(t,Te.memoizedState,e)},useTransition:function(){var e=sa(Ml)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:If,useId:Yf,unstable_isNewReconciler:!1},Ex={readContext:Ct,useCallback:Xf,useContext:Ct,useEffect:Zi,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:Kf,useReducer:oa,useRef:Uf,useState:function(){return oa(Ml)},useDebugValue:eu,useDeferredValue:function(e){var t=Et();return Te===null?t.memoizedState=e:Qf(t,Te.memoizedState,e)},useTransition:function(){var e=oa(Ml)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:If,useId:Yf,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ja(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),l=Tn(e),s=rn(r,l);s.payload=t,n!=null&&(s.callback=n),t=Mn(e,s,l),t!==null&&(Lt(t,e,l,r),bs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),l=Tn(e),s=rn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Mn(e,s,l),t!==null&&(Lt(t,e,l,r),bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=Tn(e),l=rn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Mn(e,l,r),t!==null&&(Lt(t,e,r,n),bs(t,e,r))}};function mc(e,t,n,r,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!kl(n,r)||!kl(l,s):!0}function Zf(e,t,n){var r=!1,l=zn,s=t.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(l=ot(t)?Xn:Qe.current,r=t.contextTypes,s=(r=r!=null)?Cr(e,l):zn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function xc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Xi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Ct(s):(s=ot(t)?Xn:Qe.current,l.context=Cr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ja(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&mo.enqueueReplaceState(l,l.state,null),Ws(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Tr(e,t){try{var n="",r=t;do n+=tm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function aa(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mx=typeof WeakMap=="function"?WeakMap:Map;function ep(e,t,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,ui=r),Za(e,t)},n}function tp(e,t,n){n=rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Za(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Za(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function gc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mx;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Bx.bind(null,e,t,n),t.then(e,e))}function vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rn(-1,1),t.tag=2,Mn(n,t,1))),n.lanes|=1),e)}var _x=un.ReactCurrentOwner,lt=!1;function Je(e,t,n,r){t.child=e===null?Tf(t,null,n,r):Mr(t,e.child,n,r)}function wc(e,t,n,r,l){n=n.render;var s=t.ref;return br(t,l),r=Ji(e,t,n,r,s,l),n=qi(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,an(e,t,l)):(me&&n&&Fi(t),t.flags|=1,Je(e,t,r,l),t.child)}function kc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!iu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,np(e,t,s,r,l)):(e=Ms(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&e.ref===t.ref)return an(e,t,l)}return t.flags|=1,e=Rn(s,r),e.ref=t.ref,e.return=t,t.child=e}function np(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(kl(s,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,an(e,t,l)}return ei(e,t,n,r,l)}function rp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(xr,pt),pt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(xr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(xr,pt),pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ue(xr,pt),pt|=r;return Je(e,t,l,n),t.child}function lp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ei(e,t,n,r,l){var s=ot(n)?Xn:Qe.current;return s=Cr(t,s),br(t,l),n=Ji(e,t,n,r,s,l),r=qi(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,an(e,t,l)):(me&&r&&Fi(t),t.flags|=1,Je(e,t,n,l),t.child)}function bc(e,t,n,r,l){if(ot(n)){var s=!0;$s(t)}else s=!1;if(br(t,l),t.stateNode===null)Ns(e,t),Zf(t,n,r),qa(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=ot(n)?Xn:Qe.current,c=Cr(t,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||u!==c)&&xc(t,o,r,c),gn=!1;var h=t.memoizedState;o.state=h,Ws(t,r,o,l),u=t.memoizedState,i!==r||h!==u||st.current||gn?(typeof p=="function"&&(Ja(t,n,p,r),u=t.memoizedState),(i=gn||mc(t,n,i,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Df(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:Dt(t.type,i),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=ot(n)?Xn:Qe.current,u=Cr(t,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||h!==u)&&xc(t,o,r,u),gn=!1,h=t.memoizedState,o.state=h,Ws(t,r,o,l);var k=t.memoizedState;i!==f||h!==k||st.current||gn?(typeof y=="function"&&(Ja(t,n,y,r),k=t.memoizedState),(c=gn||mc(t,n,c,r,h,k,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ti(e,t,n,r,s,l)}function ti(e,t,n,r,l,s){lp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&ac(t,n,!1),an(e,t,s);r=t.stateNode,_x.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Mr(t,e.child,null,s),t.child=Mr(t,null,i,s)):Je(e,t,i,s),t.memoizedState=r.state,l&&ac(t,n,!0),t.child}function sp(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),Ki(e,t.containerInfo)}function Sc(e,t,n,r,l){return Er(),Ui(l),t.flags|=256,Je(e,t,n,r),t.child}var ni={dehydrated:null,treeContext:null,retryLane:0};function ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function op(e,t,n){var r=t.pendingProps,l=ge.current,s=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ue(ge,l&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vo(o,r,0,null),e=Vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ri(n),t.memoizedState=ni,e):tu(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Tx(e,t,o,r,i,l,n);if(s){s=r.fallback,o=t.mode,l=e.child,i=l.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Rn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=Rn(i,s):(s=Vn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?ri(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ni,r}return s=e.child,e=s.sibling,r=Rn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tu(e,t){return t=vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function is(e,t,n,r){return r!==null&&Ui(r),Mr(t,e.child,null,n),e=tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tx(e,t,n,r,l,s,o){if(n)return t.flags&256?(t.flags&=-257,r=aa(Error(M(422))),is(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=vo({mode:"visible",children:r.children},l,0,null),s=Vn(s,l,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Mr(t,e.child,null,o),t.child.memoizedState=ri(o),t.memoizedState=ni,s);if(!(t.mode&1))return is(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(M(419)),r=aa(s,r,void 0),is(e,t,o,r)}if(i=(o&e.childLanes)!==0,lt||i){if(r=Ae,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,on(e,l),Lt(r,e,l,-1))}return au(),r=aa(Error(M(421))),is(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Hx.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,ht=En(l.nextSibling),mt=t,me=!0,Pt=null,e!==null&&(bt[St++]=tn,bt[St++]=nn,bt[St++]=Kn,tn=e.id,nn=e.overflow,Kn=t),t=tu(t,r.children),t.flags|=4096,t)}function jc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function ia(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function ap(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Je(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jc(e,n,t);else if(e.tag===19)jc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Xs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ia(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Xs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ia(t,!0,n,null,s);break;case"together":ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rx(e,t,n){switch(t.tag){case 3:sp(t),Er();break;case 5:zf(t);break;case 1:ot(t.type)&&$s(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ue(Hs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?op(e,t,n):(ue(ge,ge.current&1),e=an(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ap(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,rp(e,t,n)}return an(e,t,n)}var ip,li,up,cp;ip=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};li=function(){};up=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Bn(Kt.current);var s=null;switch(n){case"input":l=Ca(e,l),r=Ca(e,r),s=[];break;case"select":l=ye({},l,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":l=_a(e,l),r=_a(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=As)}Ra(n,r);var o;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(o in i)!i.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&i[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&de("scroll",e),s||i===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};cp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dx(e,t,n){var r=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ot(t.type)&&Fs(),We(t),null;case 3:return r=t.stateNode,_r(),pe(st),pe(Qe),Yi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(fi(Pt),Pt=null))),li(e,t),We(t),null;case 5:Qi(t);var l=Bn(Cl.current);if(n=t.type,e!==null&&t.stateNode!=null)up(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return We(t),null}if(e=Bn(Kt.current),os(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Wt]=t,r[jl]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(l=0;l<tl.length;l++)de(tl[l],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":zu(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Iu(r,s),de("invalid",r)}Ra(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var i=s[o];o==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,i,e),l=["children",""+i]):hl.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Jl(r),Pu(r,s,!0);break;case"textarea":Jl(r),Lu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=As)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Od(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wt]=t,e[jl]=r,ip(e,t,!1,!1),t.stateNode=e;e:{switch(o=Da(n,r),n){case"dialog":de("cancel",e),de("close",e),l=r;break;case"iframe":case"object":case"embed":de("load",e),l=r;break;case"video":case"audio":for(l=0;l<tl.length;l++)de(tl[l],e);l=r;break;case"source":de("error",e),l=r;break;case"img":case"image":case"link":de("error",e),de("load",e),l=r;break;case"details":de("toggle",e),l=r;break;case"input":zu(e,r),l=Ca(e,r),de("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Iu(e,r),l=_a(e,r),de("invalid",e);break;default:l=r}Ra(n,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="style"?$d(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ad(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ml(e,u):typeof u=="number"&&ml(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&de("scroll",e):u!=null&&Ni(e,s,u,o))}switch(n){case"input":Jl(e),Pu(e,r,!1);break;case"textarea":Jl(e),Lu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?vr(e,!!r.multiple,s,!1):r.defaultValue!=null&&vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)cp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Bn(Cl.current),Bn(Kt.current),os(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(s=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:ss(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ss(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return We(t),null;case 13:if(pe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ht!==null&&t.mode&1&&!(t.flags&128))Mf(),Er(),t.flags|=98560,s=!1;else if(s=os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Wt]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),s=!1}else Pt!==null&&(fi(Pt),Pt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?De===0&&(De=3):au())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return _r(),li(e,t),e===null&&bl(t.stateNode.containerInfo),We(t),null;case 10:return Vi(t.type._context),We(t),null;case 17:return ot(t.type)&&Fs(),We(t),null;case 19:if(pe(ge),s=t.memoizedState,s===null)return We(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Yr(s,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xs(e),o!==null){for(t.flags|=128,Yr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Me()>Rr&&(t.flags|=128,r=!0,Yr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Xs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return We(t),null}else 2*Me()-s.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Yr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Me(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return ou(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function zx(e,t){switch($i(t),t.tag){case 1:return ot(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),pe(st),pe(Qe),Yi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qi(t),null;case 13:if(pe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ge),null;case 4:return _r(),null;case 10:return Vi(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var us=!1,Ke=!1,Px=typeof WeakSet=="function"?WeakSet:Set,I=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function si(e,t,n){try{n()}catch(r){je(e,t,r)}}var Nc=!1;function Ix(e,t){if(Ba=Is,e=mf(),Ai(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var o=0,i=-1,u=-1,c=0,p=0,f=e,h=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(i=o+l),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++c===l&&(i=o),h===s&&++p===r&&(u=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},Is=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,b=k.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Dt(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(j){je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return k=Nc,Nc=!1,k}function il(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&si(t,n,s)}l=l.next}while(l!==r)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dp(e){var t=e.alternate;t!==null&&(e.alternate=null,dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[jl],delete t[Xa],delete t[gx],delete t[vx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fp(e){return e.tag===5||e.tag===3||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ai(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=As));else if(r!==4&&(e=e.child,e!==null))for(ai(e,t,n),e=e.sibling;e!==null;)ai(e,t,n),e=e.sibling}function ii(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ii(e,t,n),e=e.sibling;e!==null;)ii(e,t,n),e=e.sibling}var $e=null,zt=!1;function mn(e,t,n){for(n=n.child;n!==null;)pp(e,t,n),n=n.sibling}function pp(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ao,n)}catch(i){}switch(n.tag){case 5:Ke||mr(n,t);case 6:var r=$e,l=zt;$e=null,mn(e,t,n),$e=r,zt=l,$e!==null&&(zt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(zt?(e=$e,n=n.stateNode,e.nodeType===8?ta(e.parentNode,n):e.nodeType===1&&ta(e,n),yl(e)):ta($e,n.stateNode));break;case 4:r=$e,l=zt,$e=n.stateNode.containerInfo,zt=!0,mn(e,t,n),$e=r,zt=l;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&si(n,t,o),l=l.next}while(l!==r)}mn(e,t,n);break;case 1:if(!Ke&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){je(n,t,i)}mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,mn(e,t,n),Ke=r):mn(e,t,n);break;default:mn(e,t,n)}}function Ec(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Px),t.forEach(function(r){var l=Vx.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:$e=i.stateNode,zt=!1;break e;case 3:$e=i.stateNode.containerInfo,zt=!0;break e;case 4:$e=i.stateNode.containerInfo,zt=!0;break e}i=i.return}if($e===null)throw Error(M(160));pp(s,o,l),$e=null,zt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){je(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hp(t,e),t=t.sibling}function hp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ht(e),r&4){try{il(3,e,e.return),xo(3,e)}catch(v){je(e,e.return,v)}try{il(5,e,e.return)}catch(v){je(e,e.return,v)}}break;case 1:Rt(t,e),Ht(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(Rt(t,e),Ht(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var l=e.stateNode;try{ml(l,"")}catch(v){je(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Id(l,s),Da(i,o);var c=Da(i,s);for(o=0;o<u.length;o+=2){var p=u[o],f=u[o+1];p==="style"?$d(l,f):p==="dangerouslySetInnerHTML"?Ad(l,f):p==="children"?ml(l,f):Ni(l,p,f,c)}switch(i){case"input":Ea(l,s);break;case"textarea":Ld(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?vr(l,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?vr(l,!!s.multiple,s.defaultValue,!0):vr(l,!!s.multiple,s.multiple?[]:"",!1))}l[jl]=s}catch(v){je(e,e.return,v)}}break;case 6:if(Rt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(v){je(e,e.return,v)}}break;case 3:if(Rt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(v){je(e,e.return,v)}break;case 4:Rt(t,e),Ht(e);break;case 13:Rt(t,e),Ht(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(lu=Me())),r&4&&Ec(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(c=Ke)||p,Rt(t,e),Ke=c):Rt(t,e),Ht(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(I=e,p=e.child;p!==null;){for(f=I=p;I!==null;){switch(h=I,y=h.child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:mr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){je(r,n,v)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){_c(f);continue}}y!==null?(y.return=h,I=y):_c(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Fd("display",o))}catch(v){je(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){je(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Ht(e),r&4&&Ec(e);break;case 21:break;default:Rt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ml(l,""),r.flags&=-33);var s=Cc(e);ii(e,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Cc(e);ai(e,i,o);break;default:throw Error(M(161))}}catch(u){je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lx(e,t,n){I=e,mp(e)}function mp(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var l=I,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||us;if(!o){var i=l.alternate,u=i!==null&&i.memoizedState!==null||Ke;i=us;var c=Ke;if(us=o,(Ke=u)&&!c)for(I=l;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?Tc(l):u!==null?(u.return=o,I=u):Tc(l);for(;s!==null;)I=s,mp(s),s=s.sibling;I=l,us=i,Ke=c}Mc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,I=s):Mc(e)}}function Mc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||xo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ke||t.flags&512&&oi(t)}catch(h){je(t,t.return,h)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function _c(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Tc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xo(4,t)}catch(u){je(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){je(t,l,u)}}var s=t.return;try{oi(t)}catch(u){je(t,s,u)}break;case 5:var o=t.return;try{oi(t)}catch(u){je(t,o,u)}}}catch(u){je(t,t.return,u)}if(t===e){I=null;break}var i=t.sibling;if(i!==null){i.return=t.return,I=i;break}I=t.return}}var Ox=Math.ceil,Ys=un.ReactCurrentDispatcher,nu=un.ReactCurrentOwner,Nt=un.ReactCurrentBatchConfig,J=0,Ae=null,_e=null,Ue=0,pt=0,xr=Ln(0),De=0,Tl=null,Yn=0,go=0,ru=0,ul=null,rt=null,lu=0,Rr=1/0,Zt=null,Gs=!1,ui=null,_n=null,cs=!1,bn=null,Js=0,cl=0,ci=null,Cs=-1,Es=0;function qe(){return J&6?Me():Cs!==-1?Cs:Cs=Me()}function Tn(e){return e.mode&1?J&2&&Ue!==0?Ue&-Ue:wx.transition!==null?(Es===0&&(Es=qd()),Es):(e=re,e!==0||(e=window.event,e=e===void 0?16:sf(e.type)),e):1}function Lt(e,t,n,r){if(50<cl)throw cl=0,ci=null,Error(M(185));Al(e,n,r),(!(J&2)||e!==Ae)&&(e===Ae&&(!(J&2)&&(go|=n),De===4&&wn(e,Ue)),at(e,r),n===1&&J===0&&!(t.mode&1)&&(Rr=Me()+500,po&&On()))}function at(e,t){var n=e.callbackNode;wm(e,t);var r=Ps(e,e===Ae?Ue:0);if(r===0)n!==null&&Fu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fu(n),t===1)e.tag===0?yx(Rc.bind(null,e)):Nf(Rc.bind(null,e)),mx(function(){!(J&6)&&On()}),n=null;else{switch(Zd(r)){case 1:n=Ti;break;case 4:n=Gd;break;case 16:n=zs;break;case 536870912:n=Jd;break;default:n=zs}n=Sp(n,xp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xp(e,t){if(Cs=-1,Es=0,J&6)throw Error(M(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var r=Ps(e,e===Ae?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qs(e,r);else{t=r;var l=J;J|=2;var s=vp();(Ae!==e||Ue!==t)&&(Zt=null,Rr=Me()+500,Hn(e,t));do try{$x();break}catch(i){gp(e,i)}while(!0);Hi(),Ys.current=s,J=l,_e!==null?t=0:(Ae=null,Ue=0,t=De)}if(t!==0){if(t===2&&(l=Oa(e),l!==0&&(r=l,t=di(e,l))),t===1)throw n=Tl,Hn(e,0),wn(e,r),at(e,Me()),n;if(t===6)wn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ax(l)&&(t=qs(e,r),t===2&&(s=Oa(e),s!==0&&(r=s,t=di(e,s))),t===1))throw n=Tl,Hn(e,0),wn(e,r),at(e,Me()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Fn(e,rt,Zt);break;case 3:if(wn(e,r),(r&130023424)===r&&(t=lu+500-Me(),10<t)){if(Ps(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Wa(Fn.bind(null,e,rt,Zt),t);break}Fn(e,rt,Zt);break;case 4:if(wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-It(r);s=1<<o,o=t[o],o>l&&(l=o),r&=~s}if(r=l,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ox(r/1960))-r,10<r){e.timeoutHandle=Wa(Fn.bind(null,e,rt,Zt),r);break}Fn(e,rt,Zt);break;case 5:Fn(e,rt,Zt);break;default:throw Error(M(329))}}}return at(e,Me()),e.callbackNode===n?xp.bind(null,e):null}function di(e,t){var n=ul;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=qs(e,t),e!==2&&(t=rt,rt=n,t!==null&&fi(t)),e}function fi(e){rt===null?rt=e:rt.push.apply(rt,e)}function Ax(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ot(s(),l))return!1}catch(o){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~ru,t&=~go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),r=1<<n;e[n]=-1,t&=~r}}function Rc(e){if(J&6)throw Error(M(327));Sr();var t=Ps(e,0);if(!(t&1))return at(e,Me()),null;var n=qs(e,t);if(e.tag!==0&&n===2){var r=Oa(e);r!==0&&(t=r,n=di(e,r))}if(n===1)throw n=Tl,Hn(e,0),wn(e,t),at(e,Me()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,rt,Zt),at(e,Me()),null}function su(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Rr=Me()+500,po&&On())}}function Gn(e){bn!==null&&bn.tag===0&&!(J&6)&&Sr();var t=J;J|=1;var n=Nt.transition,r=re;try{if(Nt.transition=null,re=1,e)return e()}finally{re=r,Nt.transition=n,J=t,!(J&6)&&On()}}function ou(){pt=xr.current,pe(xr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hx(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch($i(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:_r(),pe(st),pe(Qe),Yi();break;case 5:Qi(r);break;case 4:_r();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:Vi(r.type._context);break;case 22:case 23:ou()}n=n.return}if(Ae=e,_e=e=Rn(e.current,null),Ue=pt=t,De=0,Tl=null,ru=go=Yn=0,rt=ul=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}Un=null}return e}function gp(e,t){do{var n=_e;try{if(Hi(),Ss.current=Qs,Ks){for(var r=ve.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ks=!1}if(Qn=0,Le=Te=ve=null,al=!1,El=0,nu.current=null,n===null||n.return===null){De=1,Tl=t,_e=null;break}e:{var s=e,o=n.return,i=n,u=t;if(t=Ue,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=vc(o);if(y!==null){y.flags&=-257,yc(y,o,i,s,t),y.mode&1&&gc(s,c,t),t=y,u=c;var k=t.updateQueue;if(k===null){var v=new Set;v.add(u),t.updateQueue=v}else k.add(u);break e}else{if(!(t&1)){gc(s,c,t),au();break e}u=Error(M(426))}}else if(me&&i.mode&1){var b=vc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yc(b,o,i,s,t),Ui(Tr(u,i));break e}}s=u=Tr(u,i),De!==4&&(De=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=ep(s,u,t);dc(s,x);break e;case 1:i=u;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_n===null||!_n.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=tp(s,i,t);dc(s,j);break e}}s=s.return}while(s!==null)}wp(n)}catch(w){t=w,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function vp(){var e=Ys.current;return Ys.current=Qs,e===null?Qs:e}function au(){(De===0||De===3||De===2)&&(De=4),Ae===null||!(Yn&268435455)&&!(go&268435455)||wn(Ae,Ue)}function qs(e,t){var n=J;J|=2;var r=vp();(Ae!==e||Ue!==t)&&(Zt=null,Hn(e,t));do try{Fx();break}catch(l){gp(e,l)}while(!0);if(Hi(),J=n,Ys.current=r,_e!==null)throw Error(M(261));return Ae=null,Ue=0,De}function Fx(){for(;_e!==null;)yp(_e)}function $x(){for(;_e!==null&&!dm();)yp(_e)}function yp(e){var t=bp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?wp(e):_e=t,nu.current=null}function wp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zx(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,_e=null;return}}else if(n=Dx(n,t,pt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);De===0&&(De=5)}function Fn(e,t,n){var r=re,l=Nt.transition;try{Nt.transition=null,re=1,Ux(e,t,n,r)}finally{Nt.transition=l,re=r}return null}function Ux(e,t,n,r){do Sr();while(bn!==null);if(J&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(km(e,s),e===Ae&&(_e=Ae=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cs||(cs=!0,Sp(zs,function(){return Sr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nt.transition,Nt.transition=null;var o=re;re=1;var i=J;J|=4,nu.current=null,Ix(e,n),hp(n,e),ax(Ha),Is=!!Ba,Ha=Ba=null,e.current=n,Lx(n),fm(),J=i,re=o,Nt.transition=s}else e.current=n;if(cs&&(cs=!1,bn=e,Js=l),s=e.pendingLanes,s===0&&(_n=null),mm(n.stateNode),at(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Gs)throw Gs=!1,e=ui,ui=null,e;return Js&1&&e.tag!==0&&Sr(),s=e.pendingLanes,s&1?e===ci?cl++:(cl=0,ci=e):cl=0,On(),null}function Sr(){if(bn!==null){var e=Zd(Js),t=Nt.transition,n=re;try{if(Nt.transition=null,re=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,Js=0,J&6)throw Error(M(331));var l=J;for(J|=4,I=e.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var i=s.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(I=c;I!==null;){var p=I;switch(p.tag){case 0:case 11:case 15:il(8,p,s)}var f=p.child;if(f!==null)f.return=p,I=f;else for(;I!==null;){p=I;var h=p.sibling,y=p.return;if(dp(p),p===c){I=null;break}if(h!==null){h.return=y,I=h;break}I=y}}}var k=s.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,I=x;break e}I=s.return}}var m=e.current;for(I=m;I!==null;){o=I;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,I=g;else e:for(o=m;I!==null;){if(i=I,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:xo(9,i)}}catch(w){je(i,i.return,w)}if(i===o){I=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,I=j;break e}I=i.return}}if(J=l,On(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ao,e)}catch(w){}r=!0}return r}finally{re=n,Nt.transition=t}}return!1}function Dc(e,t,n){t=Tr(n,t),t=ep(e,t,1),e=Mn(e,t,1),t=qe(),e!==null&&(Al(e,1,t),at(e,t))}function je(e,t,n){if(e.tag===3)Dc(e,e,n);else for(;t!==null;){if(t.tag===3){Dc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Tr(n,e),e=tp(t,e,1),t=Mn(t,e,1),e=qe(),t!==null&&(Al(t,1,e),at(t,e));break}}t=t.return}}function Bx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Ue&n)===n&&(De===4||De===3&&(Ue&130023424)===Ue&&500>Me()-lu?Hn(e,0):ru|=n),at(e,t)}function kp(e,t){t===0&&(e.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var n=qe();e=on(e,t),e!==null&&(Al(e,t,n),at(e,n))}function Hx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kp(e,n)}function Vx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),kp(e,n)}var bp;bp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,Rx(e,t,n);lt=!!(e.flags&131072)}else lt=!1,me&&t.flags&1048576&&Cf(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var l=Cr(t,Qe.current);br(t,n),l=Ji(null,t,r,e,l,n);var s=qi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(s=!0,$s(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Xi(t),l.updater=mo,t.stateNode=l,l._reactInternals=t,qa(t,r,e,n),t=ti(null,t,r,!0,s,n)):(t.tag=0,me&&s&&Fi(t),Je(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Xx(r),e=Dt(r,e),l){case 0:t=ei(null,t,r,e,n);break e;case 1:t=bc(null,t,r,e,n);break e;case 11:t=wc(null,t,r,e,n);break e;case 14:t=kc(null,t,r,Dt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Dt(r,l),ei(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Dt(r,l),bc(e,t,r,l,n);case 3:e:{if(sp(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Df(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Tr(Error(M(423)),t),t=Sc(e,t,r,n,l);break e}else if(r!==l){l=Tr(Error(M(424)),t),t=Sc(e,t,r,n,l);break e}else for(ht=En(t.stateNode.containerInfo.firstChild),mt=t,me=!0,Pt=null,n=Tf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===l){t=an(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return zf(t),e===null&&Ya(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,Va(r,l)?o=null:s!==null&&Va(r,s)&&(t.flags|=32),lp(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&Ya(t),null;case 13:return op(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Dt(r,l),wc(e,t,r,l,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,ue(Hs,r._currentValue),r._currentValue=o,s!==null)if(Ot(s.value,o)){if(s.children===l.children&&!st.current){t=an(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){o=s.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=rn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ga(s.return,n,t),i.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ga(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,br(t,n),l=Ct(l),r=r(l),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,l=Dt(r,t.pendingProps),l=Dt(r.type,l),kc(e,t,r,l,n);case 15:return np(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Dt(r,l),Ns(e,t),t.tag=1,ot(r)?(e=!0,$s(t)):e=!1,br(t,n),Zf(t,r,l),qa(t,r,l,n),ti(null,t,r,!0,e,n);case 19:return ap(e,t,n);case 22:return rp(e,t,n)}throw Error(M(156,t.tag))};function Sp(e,t){return Yd(e,t)}function Wx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new Wx(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xx(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ei)return 11;if(e===Mi)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ms(e,t,n,r,l,s){var o=2;if(r=e,typeof e=="function")iu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return Vn(n.children,l,s,t);case Ci:o=8,l|=8;break;case ba:return e=jt(12,n,t,l|2),e.elementType=ba,e.lanes=s,e;case Sa:return e=jt(13,n,t,l),e.elementType=Sa,e.lanes=s,e;case ja:return e=jt(19,n,t,l),e.elementType=ja,e.lanes=s,e;case Dd:return vo(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Td:o=10;break e;case Rd:o=9;break e;case Ei:o=11;break e;case Mi:o=14;break e;case xn:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=jt(o,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Vn(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function vo(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Dd,e.lanes=n,e.stateNode={isHidden:!1},e}function ua(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function ca(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kx(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function uu(e,t,n,r,l,s,o,i,u){return e=new Kx(e,t,n,i,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xi(s),e}function Qx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jp(e){if(!e)return zn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ot(n))return jf(e,n,t)}return t}function Np(e,t,n,r,l,s,o,i,u){return e=uu(n,r,!0,e,l,s,o,i,u),e.context=jp(null),n=e.current,r=qe(),l=Tn(n),s=rn(r,l),s.callback=t!=null?t:null,Mn(n,s,l),e.current.lanes=l,Al(e,l,r),at(e,r),e}function yo(e,t,n,r){var l=t.current,s=qe(),o=Tn(l);return n=jp(n),t.context===null?t.context=n:t.pendingContext=n,t=rn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mn(l,t,o),e!==null&&(Lt(e,l,o,s),bs(e,l,o)),o}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cu(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}function Yx(){return null}var Cp=typeof reportError=="function"?reportError:function(e){console.error(e)};function du(e){this._internalRoot=e}wo.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));yo(e,t,null,null)};wo.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){yo(null,e,null,null)}),t[sn]=null}};function wo(e){this._internalRoot=e}wo.prototype.unstable_scheduleHydration=function(e){if(e){var t=nf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&lf(e)}};function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pc(){}function Gx(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Zs(o);s.call(c)}}var o=Np(t,r,e,0,null,!1,!1,"",Pc);return e._reactRootContainer=o,e[sn]=o.current,bl(e.nodeType===8?e.parentNode:e),Gn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=Zs(u);i.call(c)}}var u=uu(e,0,!1,null,null,!1,!1,"",Pc);return e._reactRootContainer=u,e[sn]=u.current,bl(e.nodeType===8?e.parentNode:e),Gn(function(){yo(t,u,n,r)}),u}function bo(e,t,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var i=l;l=function(){var u=Zs(o);i.call(u)}}yo(t,o,e,l)}else o=Gx(n,t,e,l,r);return Zs(o)}ef=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=el(t.pendingLanes);n!==0&&(Ri(t,n|1),at(t,Me()),!(J&6)&&(Rr=Me()+500,On()))}break;case 13:Gn(function(){var r=on(e,1);if(r!==null){var l=qe();Lt(r,e,1,l)}}),cu(e,1)}};Di=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=qe();Lt(t,e,134217728,n)}cu(e,134217728)}};tf=function(e){if(e.tag===13){var t=Tn(e),n=on(e,t);if(n!==null){var r=qe();Lt(n,e,t,r)}cu(e,t)}};nf=function(){return re};rf=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Pa=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=fo(r);if(!l)throw Error(M(90));Pd(r),Ea(r,l)}}}break;case"textarea":Ld(e,n);break;case"select":t=n.value,t!=null&&vr(e,!!n.multiple,t,!1)}};Hd=su;Vd=Gn;var Jx={usingClientEntryPoint:!1,Events:[$l,cr,fo,Ud,Bd,su]},Gr={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kd(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{ao=ds.inject(qx),Xt=ds}catch(e){}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(t))throw Error(M(200));return Qx(e,t,null,n)};gt.createRoot=function(e,t){if(!fu(e))throw Error(M(299));var n=!1,r="",l=Cp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=uu(e,1,!1,null,null,n,!1,r,l),e[sn]=t.current,bl(e.nodeType===8?e.parentNode:e),new du(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Kd(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return Gn(e)};gt.hydrate=function(e,t,n){if(!ko(t))throw Error(M(200));return bo(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!fu(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=Cp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Np(t,null,e,1,n!=null?n:null,l,!1,s,o),e[sn]=t.current,bl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new wo(t)};gt.render=function(e,t,n){if(!ko(t))throw Error(M(200));return bo(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!ko(e))throw Error(M(40));return e._reactRootContainer?(Gn(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};gt.unstable_batchedUpdates=su;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ko(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return bo(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function Ep(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ep)}catch(e){console.error(e)}}Ep(),Cd.exports=gt;var gr=Cd.exports,Ic=gr;wa.createRoot=Ic.createRoot,wa.hydrateRoot=Ic.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}var Sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sn||(Sn={}));const Lc="popstate";function Zx(e){e===void 0&&(e={});function t(l,s){let{pathname:o="/",search:i="",hash:u=""}=Zn(l.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),pi("",{pathname:o,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let o=l.document.querySelector("base"),i="";if(o&&o.getAttribute("href")){let u=l.location.href,c=u.indexOf("#");i=c===-1?u:u.slice(0,c)}return i+"#"+(typeof s=="string"?s:Mp(s))}function r(l,s){So(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return tg(t,n,r,e)}function ze(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function So(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function eg(){return Math.random().toString(36).substr(2,8)}function Oc(e,t){return{usr:e.state,key:e.key,idx:t}}function pi(e,t,n,r){return n===void 0&&(n=null),Rl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:n,key:t&&t.key||r||eg()})}function Mp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tg(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,o=l.history,i=Sn.Pop,u=null,c=p();c==null&&(c=0,o.replaceState(Rl({},o.state,{idx:c}),""));function p(){return(o.state||{idx:null}).idx}function f(){i=Sn.Pop;let b=p(),x=b==null?null:b-c;c=b,u&&u({action:i,location:v.location,delta:x})}function h(b,x){i=Sn.Push;let m=pi(v.location,b,x);n&&n(m,b),c=p()+1;let g=Oc(m,c),j=v.createHref(m);try{o.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(j)}s&&u&&u({action:i,location:v.location,delta:1})}function y(b,x){i=Sn.Replace;let m=pi(v.location,b,x);n&&n(m,b),c=p();let g=Oc(m,c),j=v.createHref(m);o.replaceState(g,"",j),s&&u&&u({action:i,location:v.location,delta:0})}function k(b){let x=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof b=="string"?b:Mp(b);return m=m.replace(/ $/,"%20"),ze(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return i},get location(){return e(l,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Lc,f),u=b,()=>{l.removeEventListener(Lc,f),u=null}},createHref(b){return t(l,b)},createURL:k,encodeLocation(b){let x=k(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(b){return o.go(b)}};return v}var Ac;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ac||(Ac={}));function ng(e,t,n){return n===void 0&&(n="/"),rg(e,t,n)}function rg(e,t,n,r){let l=typeof t=="string"?Zn(t):t,s=Rp(l.pathname||"/",n);if(s==null)return null;let o=_p(e);lg(o);let i=null;for(let u=0;i==null&&u<o.length;++u){let c=xg(s);i=pg(o[u],c)}return i}function _p(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,o,i)=>{let u={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Wn([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_p(s.children,t,p,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:dg(c,s.index),routesMeta:p})};return e.forEach((s,o)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))l(s,o);else for(let u of Tp(s.path))l(s,o,u)}),t}function Tp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let o=Tp(r.join("/")),i=[];return i.push(...o.map(u=>u===""?s:[s,u].join("/"))),l&&i.push(...o),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function lg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sg=/^:[\w-]+$/,og=3,ag=2,ig=1,ug=10,cg=-2,Fc=e=>e==="*";function dg(e,t){let n=e.split("/"),r=n.length;return n.some(Fc)&&(r+=cg),t&&(r+=ag),n.filter(l=>!Fc(l)).reduce((l,s)=>l+(sg.test(s)?og:s===""?ig:ug),r)}function fg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function pg(e,t,n){let{routesMeta:r}=e,l={},s="/",o=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=hg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!f)return null;Object.assign(l,f.params),o.push({params:l,pathname:Wn([s,f.pathname]),pathnameBase:Sg(Wn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Wn([s,f.pathnameBase]))}return o}function hg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],o=s.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:h,isOptional:y}=p;if(h==="*"){let v=i[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const k=i[f];return y&&!k?c[h]=void 0:c[h]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function mg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),So(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function xg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return So(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vg=e=>gg.test(e);function yg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Zn(e):e,s;if(n)if(vg(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),So(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=$c(n.substring(1),"/"):s=$c(n,t)}else s=t;return{pathname:s,search:jg(r),hash:Ng(l)}}function $c(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function da(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kg(e,t){let n=wg(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bg(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Zn(e):(l=Rl({},e),ze(!l.pathname||!l.pathname.includes("?"),da("?","pathname","search",l)),ze(!l.pathname||!l.pathname.includes("#"),da("#","pathname","hash",l)),ze(!l.search||!l.search.includes("#"),da("#","search","hash",l)));let s=e===""||l.pathname==="",o=s?"/":l.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}i=f>=0?t[f]:"/"}let u=yg(l,i),c=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const Wn=e=>e.join("/").replace(/\/\/+/g,"/"),Sg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ng=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dp=["post","put","patch","delete"];new Set(Dp);const Eg=["get",...Dp];new Set(Eg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}const pu=d.createContext(null),Mg=d.createContext(null),jo=d.createContext(null),No=d.createContext(null),er=d.createContext({outlet:null,matches:[],isDataRoute:!1}),zp=d.createContext(null);function Co(){return d.useContext(No)!=null}function Pp(){return Co()||ze(!1),d.useContext(No).location}function Ip(e){d.useContext(jo).static||d.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=d.useContext(er);return e?Ug():_g()}function _g(){Co()||ze(!1);let e=d.useContext(pu),{basename:t,future:n,navigator:r}=d.useContext(jo),{matches:l}=d.useContext(er),{pathname:s}=Pp(),o=JSON.stringify(kg(l,n.v7_relativeSplatPath)),i=d.useRef(!1);return Ip(()=>{i.current=!0}),d.useCallback(function(c,p){if(p===void 0&&(p={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let f=bg(c,JSON.parse(o),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Wn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,o,s,e])}function Lp(){let{matches:e}=d.useContext(er),t=e[e.length-1];return t?t.params:{}}function Tg(e,t){return Rg(e,t)}function Rg(e,t,n,r){Co()||ze(!1);let{navigator:l}=d.useContext(jo),{matches:s}=d.useContext(er),o=s[s.length-1],i=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Pp(),p;if(t){var f;let b=typeof t=="string"?Zn(t):t;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||ze(!1),p=b}else p=c;let h=p.pathname||"/",y=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=ng(e,{pathname:y}),v=Lg(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Wn([u,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Wn([u,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&v?d.createElement(No.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Sn.Pop}},v):v}function Dg(){let e=$g(),t=Cg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const zg=d.createElement(Dg,null);class Pg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(er.Provider,{value:this.props.routeContext},d.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ig(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(pu);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(er.Provider,{value:t},r)}function Lg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let p=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||ze(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:h,errors:y}=n,k=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||k){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,f,h)=>{let y,k=!1,v=null,b=null;n&&(y=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||zg,u&&(c<0&&h===0?(Bg("route-fallback"),k=!0,b=null):c===h&&(k=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),m=()=>{let g;return y?g=v:k?g=b:f.route.Component?g=d.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,d.createElement(Ig,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Pg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Op=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Op||{}),Ap=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ap||{});function Og(e){let t=d.useContext(pu);return t||ze(!1),t}function Ag(e){let t=d.useContext(Mg);return t||ze(!1),t}function Fg(e){let t=d.useContext(er);return t||ze(!1),t}function Fp(e){let t=Fg(),n=t.matches[t.matches.length-1];return n.route.id||ze(!1),n.route.id}function $g(){var e;let t=d.useContext(zp),n=Ag(),r=Fp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ug(){let{router:e}=Og(Op.UseNavigateStable),t=Fp(Ap.UseNavigateStable),n=d.useRef(!1);return Ip(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Dl({fromRouteId:t},s)))},[e,t])}const Uc={};function Bg(e,t,n){Uc[e]||(Uc[e]=!0)}function Hg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ft(e){ze(!1)}function Vg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Sn.Pop,navigator:s,static:o=!1,future:i}=e;Co()&&ze(!1);let u=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:u,navigator:s,static:o,future:Dl({v7_relativeSplatPath:!1},i)}),[u,i,s,o]);typeof r=="string"&&(r=Zn(r));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:k="default"}=r,v=d.useMemo(()=>{let b=Rp(p,u);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:k},navigationType:l}},[u,p,f,h,y,k,l]);return v==null?null:d.createElement(jo.Provider,{value:c},d.createElement(No.Provider,{children:n,value:v}))}function Wg(e){let{children:t,location:n}=e;return Tg(hi(t),n)}new Promise(()=>{});function hi(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,hi(r.props.children,s));return}r.type!==ft&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hi(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xg="6";try{window.__reactRouterVersion=Xg}catch(e){}const Kg="startTransition",Bc=Bh[Kg];function Qg(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=Zx({window:l,v5Compat:!0}));let o=s.current,[i,u]=d.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},p=d.useCallback(f=>{c&&Bc?Bc(()=>u(f)):u(f)},[u,c]);return d.useLayoutEffect(()=>o.listen(p),[o,p]),d.useEffect(()=>Hg(r),[r]),d.createElement(Vg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}var Hc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hc||(Hc={}));var Vc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vc||(Vc={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$p=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:o,...i},u)=>d.createElement("svg",{ref:u,...Gg,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$p("lucide",l),...i},[...o.map(([c,p])=>d.createElement(c,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(e,t)=>{const n=d.forwardRef(({className:r,...l},s)=>d.createElement(Jg,{ref:s,iconNode:t,className:$p(`lucide-${Yg(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=K("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=K("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=K("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=K("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=K("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=K("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=K("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=K("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=K("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=K("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=K("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=K("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=K("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=K("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=K("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=K("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=K("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=K("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xp="";async function Xc(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${Xp}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function H(e,t={}){let n=await Xc();const r=`${Xp}${e}`,l=o=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let s=await l(n);if(s.status===401&&(localStorage.removeItem("whisper_token"),n=await Xc(),s=await l(n)),s.status===204)return null;if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.detail||` (${s.status})`)}return s.json()}const xv="WhisperMiniDB",gv=1,Dr="avatars",Kp=()=>new Promise((e,t)=>{const n=indexedDB.open(xv,gv);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Dr)||r.createObjectStore(Dr,{keyPath:"key"})}}),mi=async(e,t)=>{const n=await Kp();return new Promise((r,l)=>{const s=n.transaction([Dr],"readwrite");s.objectStore(Dr).put({key:e,base64:t}),s.oncomplete=()=>r(),s.onerror=()=>l(s.error)})},To=async e=>{const t=await Kp();return new Promise((n,r)=>{const s=t.transaction([Dr],"readonly").objectStore(Dr).get(e);s.onsuccess=()=>{var o;return n(((o=s.result)==null?void 0:o.base64)||null)},s.onerror=()=>r(s.error)})},nt={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function lr({icon:e,label:t,desc:n,disabled:r,onClick:l}){const[s,o]=d.useState(!1),i=()=>!r&&o(!0),u=()=>{o(!1),r||l==null||l()};return a.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:nt.bg,boxShadow:s?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:s?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:i,onTouchEnd:u,onMouseDown:i,onMouseUp:u,onMouseLeave:()=>o(!1),children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),a.jsxs("div",{className:"pl-1",children:[a.jsx("div",{className:"text-[13px] font-medium",style:{color:nt.text},children:t}),a.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:nt.textMuted},children:n})]})]})}function Kc({children:e}){return a.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:nt.textMuted},children:e})}function vv(){const e=Qt(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(i){return null}}),[r,l]=d.useState(null);d.useEffect(()=>{H("/api/user/profile").then(i=>{n(i),localStorage.setItem("whisper_profile",JSON.stringify(i))}).catch(()=>{}),To("user-avatar").then(i=>{i&&l(i)}).catch(function(){})},[]);const s=(t==null?void 0:t.nickname)||"",o=(t==null?void 0:t.background_url)||"";return a.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:nt.bg,height:"100%",paddingBottom:16},children:[a.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[a.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:nt.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),a.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:nt.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[a.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:nt.bg},children:r?a.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):a.jsx("span",{style:{fontSize:22},children:""})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:nt.text},children:["@",s]}),a.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:nt.textMuted},children:['"',o,'"']})]}),a.jsx(Bl,{size:16,style:{color:nt.textMuted,flexShrink:0}})]}),a.jsx(Kc,{children:""}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[a.jsx(lr,{icon:a.jsx(Zg,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),a.jsx(lr,{icon:a.jsx(iv,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/messages")}),a.jsx(lr,{icon:a.jsx(Up,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),a.jsx(lr,{icon:a.jsx(fv,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),a.jsx(Kc,{children:""}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[a.jsx(lr,{icon:a.jsx(qg,{size:18,color:"white"}),label:"",desc:"",disabled:!0}),a.jsx(lr,{icon:a.jsx(pv,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),a.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:nt.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:a.jsx(ov,{size:32,fill:nt.accent,style:{color:nt.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),a.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const ie={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Qc={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"}};function yv({activation:e}){const t=Qc[e]||Qc.always;return a.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const fs=80;function wv({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/fs);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},o=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-fs,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/fs)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-fs):s(0)};return a.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:ie.bg,boxShadow:"var(--card-shadow-sm)"},children:[a.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:a.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{o(),t()},children:[a.jsx(xu,{size:16,color:"white"}),a.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),a.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function kv({book:e,onTap:t}){var n;return a.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:ie.bg,userSelect:"none"},onClick:()=>t(e),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ie.bg},children:a.jsx(Hp,{size:18,style:{color:ie.accentDark}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:ie.text},children:e.name}),a.jsx(yv,{activation:e.activation})]}),e.folder&&a.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:ie.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,l)=>a.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:ie.accentDark},children:r},l)),e.keywords.length>3&&a.jsxs("span",{className:"text-[10px]",style:{color:ie.textMuted},children:["+",e.keywords.length-3]})]})]}),a.jsx(Bl,{size:16,style:{color:ie.textMuted,flexShrink:0}})]})}function bv({folder:e,books:t,onDelete:n,onTap:r}){const[l,s]=d.useState(!0);return a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>s(!l),children:[l?a.jsx(Eo,{size:14,style:{color:ie.textMuted}}):a.jsx(Bl,{size:14,style:{color:ie.textMuted}}),a.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:ie.textMuted},children:e||""}),a.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:ie.textMuted},children:t.length})]}),l&&t.map(o=>a.jsx(wv,{onDelete:()=>n(o),children:a.jsx(kv,{book:o,onTap:r})},o.id))]})}function Sv(){const e=Qt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,o]=d.useState(null),[i,u]=d.useState(null),c=k=>{u(k),setTimeout(()=>u(null),2e3)},p=()=>{l(!0),H("/api/world-books").then(k=>n(k.world_books||[])).catch(()=>c("")).finally(()=>l(!1))};d.useEffect(()=>{p()},[]);const f=async k=>{o(null);try{await H(`/api/world-books/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),c("")}catch(v){c("")}},h={};for(const k of t){const v=k.folder||"";h[v]||(h[v]=[]),h[v].push(k)}const y=Object.keys(h).sort((k,v)=>k===""?1:v===""?-1:k.localeCompare(v));return a.jsxs("div",{className:"flex h-full flex-col",style:{background:ie.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:ie.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:ie.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:ie.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ie.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:a.jsx(Hl,{size:20,style:{color:ie.accentDark}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:ie.accent,borderTopColor:"transparent"}})}):t.length===0?a.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[a.jsx(Hp,{size:36,style:{color:ie.textMuted,opacity:.5}}),a.jsx("p",{className:"text-[14px]",style:{color:ie.textMuted},children:" + "})]}):y.map(k=>a.jsx(bv,{folder:k,books:h[k],onDelete:v=>o(v),onTap:v=>e(`/world-books/${v.id}`)},k))}),s&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>o(null),children:a.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:ie.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[a.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:ie.text},children:""}),a.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:ie.textMuted},children:["",s.name,""]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:ie.bg,boxShadow:"var(--card-shadow-sm)",color:ie.text},onClick:()=>o(null),children:""}),a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>f(s),children:""})]})]})}),i&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const F={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function jv({label:e,value:t,onChange:n,placeholder:r}){return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:e}),a.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:F.bg,color:F.text}})]})}function Nv({value:e,onChange:t,folders:n}){const[r,l]=d.useState(!1),s=n.filter(o=>o!==e&&o.toLowerCase().includes(e.toLowerCase()));return a.jsxs("div",{className:"relative mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:""}),a.jsx("input",{type:"text",value:e,onChange:o=>{t(o.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:F.bg,color:F.text}}),r&&s.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:F.bg,boxShadow:"var(--card-shadow)"},children:s.map(o=>a.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:F.text},onMouseDown:()=>{t(o),l(!1)},children:o},o))})]})}function Cv({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""}];return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:""}),a.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:F.bg},children:n.map(r=>a.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?F.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?F.accentDark:F.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}const Ev=["","","","","","","",""];function Mv({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(l=>l!==r)):t([...e,r])};return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:""}),a.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:F.bg,minHeight:48},children:Ev.map(r=>{const l=e.includes(r);return a.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:l?F.accentDark:F.bg,color:l?"white":F.textMuted,boxShadow:l?"none":"var(--card-shadow-sm)"},onClick:()=>n(r),children:r},r)})})]})}function _v({keywords:e,onChange:t}){const[n,r]=d.useState(""),l=()=>{const s=n.trim();if(!s||e.includes(s)){r("");return}t([...e,s]),r("")};return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:""}),a.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:F.bg,minHeight:48},children:[e.map(s=>a.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:F.accentDark},children:[s,a.jsx("button",{onClick:()=>t(e.filter(o=>o!==s)),children:a.jsx(gu,{size:10})})]},s)),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),onKeyDown:s=>{(s.key==="Enter"||s.key===",")&&(s.preventDefault(),l())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:F.text}}),n.trim()&&a.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:F.accentDark},onClick:l,children:a.jsx(Hl,{size:10,color:"white"})})]})]}),a.jsx("p",{className:"mt-1 text-[10px]",style:{color:F.textMuted},children:" Enter "})]})}function Tv({value:e,onChange:t,onClose:n}){return a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:F.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[a.jsx("span",{className:"text-[15px] font-bold",style:{color:F.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:F.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:a.jsx(Pl,{size:18,style:{color:F.accentDark}})})]}),a.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:F.bg,color:F.text},placeholder:"..."})]})}function Yc(){const e=Qt(),{id:t}=Lp(),n=!t,[r,l]=d.useState(""),[s,o]=d.useState(""),[i,u]=d.useState("always"),[c,p]=d.useState([]),[f,h]=d.useState(""),[y,k]=d.useState(!1),[v,b]=d.useState(!n),[x,m]=d.useState(null),[g,j]=d.useState([]),[w,N]=d.useState(!1),S=d.useRef(null),C=R=>{var B;const V=(B=R.target.files)==null?void 0:B[0];if(!V)return;const A=new FileReader;A.onload=Ne=>h(Ne.target.result||""),A.readAsText(V),R.target.value=""},_=R=>{m(R),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{H("/api/world-books").then(R=>{const V=R.world_books||[];if(j([...new Set(V.map(A=>A.folder).filter(Boolean))]),!n){const A=V.find(B=>String(B.id)===String(t));A&&(l(A.name),o(A.folder||""),u(A.activation),p(A.keywords||[]),h(A.content))}}).catch(()=>_("")).finally(()=>b(!1))},[t,n]);const T=async()=>{if(!r.trim()){_("");return}k(!0);try{const R={name:r.trim(),folder:s.trim()||null,activation:i,keywords:i!=="always"?c:[],content:f};n?(await H("/api/world-books",{method:"POST",body:R}),_("")):(await H(`/api/world-books/${t}`,{method:"PUT",body:R}),_(""))}catch(R){_(": "+R.message)}finally{k(!1)}};return a.jsxs("div",{className:"flex h-full flex-col",style:{background:F.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:F.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:F.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:F.text},children:n?"":""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:F.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:T,disabled:y,children:a.jsx(_o,{size:18,style:{color:F.accentDark}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:v?a.jsx("div",{className:"flex h-40 items-center justify-center",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:F.accent,borderTopColor:"transparent"}})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:F.bg,boxShadow:"var(--card-shadow)"},children:[a.jsx(jv,{label:"",value:r,onChange:l,placeholder:""}),a.jsx(Nv,{value:s,onChange:o,folders:g}),a.jsx(Cv,{value:i,onChange:u}),i==="keyword"&&a.jsx(_v,{keywords:c,onChange:p}),i==="mood"&&a.jsx(Mv,{selected:c,onChange:p})]}),a.jsxs("div",{className:"rounded-[20px] p-5",style:{background:F.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[a.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:F.textMuted},children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:F.bg},onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},title:"",children:a.jsx(hu,{size:13,style:{color:F.textMuted}})}),a.jsx("input",{ref:S,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:C}),a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:F.bg},onClick:()=>N(!0),title:"",children:a.jsx(Mo,{size:13,style:{color:F.accentDark}})})]})]}),a.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:F.bg,color:F.text}})]})]})}),w&&a.jsx(Tv,{value:f,onChange:h,onClose:()=>N(!1)}),x&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const Ee={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},ps=80;function Rv({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/ps);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},o=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-ps,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/ps)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-ps):s(0)};return a.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Ee.bg,boxShadow:"var(--card-shadow-sm)"},children:[a.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:a.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{o(),t()},children:[a.jsx(xu,{size:16,color:"white"}),a.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),a.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function Dv({assistant:e,localAvatar:t,onTap:n}){var l;const r=t||null;return a.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:Ee.bg,userSelect:"none"},onClick:()=>n(e),children:[a.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:Ee.bg},children:r?a.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):a.jsx("span",{className:"text-[20px]",style:{color:Ee.accentDark},children:((l=e.name)==null?void 0:l[0])||"?"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:Ee.text},children:e.name}),e.created_at&&a.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:Ee.textMuted},children:e.created_at.slice(0,10)})]}),a.jsx(Bl,{size:16,style:{color:Ee.textMuted,flexShrink:0}})]})}function zv(){const e=Qt(),[t,n]=d.useState([]),[r,l]=d.useState({}),[s,o]=d.useState(!0),[i,u]=d.useState(null),[c,p]=d.useState(null),f=k=>{p(k),setTimeout(()=>p(null),2e3)},h=()=>{o(!0),H("/api/assistants").then(async k=>{const v=k.assistants||[];n(v);const b={};await Promise.all(v.map(async x=>{const m=await To(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),l(b)}).catch(()=>f("")).finally(()=>o(!1))};d.useEffect(()=>{h()},[]);const y=async k=>{u(null);try{await H(`/api/assistants/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),f("")}catch(v){f("")}};return a.jsxs("div",{className:"flex h-full flex-col",style:{background:Ee.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ee.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:Ee.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:Ee.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ee.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:a.jsx(Hl,{size:20,style:{color:Ee.accentDark}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Ee.accent,borderTopColor:"transparent"}})}):t.length===0?a.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[a.jsx(Up,{size:36,style:{color:Ee.textMuted,opacity:.5}}),a.jsx("p",{className:"text-[14px]",style:{color:Ee.textMuted},children:" + "})]}):t.map(k=>a.jsx(Rv,{onDelete:()=>u(k),children:a.jsx(Dv,{assistant:k,localAvatar:r[k.id],onTap:v=>e(`/assistants/${v.id}`)})},k.id))}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>u(null),children:a.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:Ee.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[a.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:Ee.text},children:""}),a.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:Ee.textMuted},children:["",i.name,""]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:Ee.bg,boxShadow:"var(--card-shadow-sm)",color:Ee.text},onClick:()=>u(null),children:""}),a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>y(i),children:""})]})]})}),c&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:c})})]})}function Pv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(l=>l(r))},t)}const Ro=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Lr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function vu(e){return"nodeType"in e}function tt(e){var t,n;return e?Lr(e)?e:vu(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function yu(e){const{Document:t}=tt(e);return e instanceof t}function Vl(e){return Lr(e)?!1:e instanceof tt(e).HTMLElement}function Qp(e){return e instanceof tt(e).SVGElement}function Or(e){return e?Lr(e)?e.document:vu(e)?yu(e)?e:Vl(e)||Qp(e)?e.ownerDocument:document:document:document}const At=Ro?d.useLayoutEffect:d.useEffect;function Do(e){const t=d.useRef(e);return At(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function Iv(){const e=d.useRef(null),t=d.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Il(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return At(()=>{n.current!==e&&(n.current=e)},t),n}function Wl(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function eo(e){const t=Do(e),n=d.useRef(null),r=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,r]}function to(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let fa={};function Xl(e,t){return d.useMemo(()=>{if(t)return t;const n=fa[e]==null?0:fa[e]+1;return fa[e]=n,e+"-"+n},[e,t])}function Yp(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((s,o)=>{const i=Object.entries(o);for(const[u,c]of i){const p=s[u];p!=null&&(s[u]=p+e*c)}return s},{...t})}}const jr=Yp(1),no=Yp(-1);function Lv(e){return"clientX"in e&&"clientY"in e}function zo(e){if(!e)return!1;const{KeyboardEvent:t}=tt(e.target);return t&&e instanceof t}function Ov(e){if(!e)return!1;const{TouchEvent:t}=tt(e.target);return t&&e instanceof t}function ro(e){if(Ov(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Lv(e)?{x:e.clientX,y:e.clientY}:null}const Pn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Pn.Translate.toString(e),Pn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Gc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Av(e){return e.matches(Gc)?e:e.querySelector(Gc)}const Fv={display:"none"};function $v(e){let{id:t,value:n}=e;return fe.createElement("div",{id:t,style:Fv},n)}function Uv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fe.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function Bv(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Gp=d.createContext(null);function Hv(e){const t=d.useContext(Gp);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Vv(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:l,event:s}=r;e.forEach(o=>{var i;return(i=o[l])==null?void 0:i.call(o,s)})},[e]),t]}const Wv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Xv={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Kv(e){let{announcements:t=Xv,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=Wv}=e;const{announce:s,announcement:o}=Bv(),i=Xl("DndLiveRegion"),[u,c]=d.useState(!1);if(d.useEffect(()=>{c(!0)},[]),Hv(d.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:y}=f;t.onDragMove&&s(t.onDragMove({active:h,over:y}))},onDragOver(f){let{active:h,over:y}=f;s(t.onDragOver({active:h,over:y}))},onDragEnd(f){let{active:h,over:y}=f;s(t.onDragEnd({active:h,over:y}))},onDragCancel(f){let{active:h,over:y}=f;s(t.onDragCancel({active:h,over:y}))}}),[s,t])),!u)return null;const p=fe.createElement(fe.Fragment,null,fe.createElement($v,{id:r,value:l.draggable}),fe.createElement(Uv,{id:i,announcement:o}));return n?gr.createPortal(p,n):p}var Re;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Re||(Re={}));function lo(){}function Jc(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Qv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ft=Object.freeze({x:0,y:0});function Yv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gv(e,t){const n=ro(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Jv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function qv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Zv(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function qc(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ey=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=qc(t,t.left,t.top),s=[];for(const o of r){const{id:i}=o,u=n.get(i);if(u){const c=Yv(qc(u),l);s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(Jv)};function ty(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=l-r,i=s-n;if(r<l&&n<s){const u=t.width*t.height,c=e.width*e.height,p=o*i,f=p/(u+c-p);return Number(f.toFixed(4))}return 0}const ny=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const s of r){const{id:o}=s,i=n.get(o);if(i){const u=ty(i,t);u>0&&l.push({id:o,data:{droppableContainer:s,value:u}})}}return l.sort(qv)};function ry(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Jp(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ft}function ly(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),s=1;s<r;s++)l[s-1]=arguments[s];return l.reduce((o,i)=>({...o,top:o.top+e*i.y,bottom:o.bottom+e*i.y,left:o.left+e*i.x,right:o.right+e*i.x}),{...n})}}const sy=ly(1);function qp(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function oy(e,t,n){const r=qp(t);if(!r)return e;const{scaleX:l,scaleY:s,x:o,y:i}=r,u=e.left-o-(1-l)*parseFloat(n),c=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,f=s?e.height/s:e.height;return{width:p,height:f,top:c,right:u+p,bottom:c+f,left:u}}const ay={ignoreTransform:!1};function Ar(e,t){t===void 0&&(t=ay);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:p}=tt(e).getComputedStyle(e);c&&(n=oy(n,c,p))}const{top:r,left:l,width:s,height:o,bottom:i,right:u}=n;return{top:r,left:l,width:s,height:o,bottom:i,right:u}}function Zc(e){return Ar(e,{ignoreTransform:!0})}function iy(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function uy(e,t){return t===void 0&&(t=tt(e).getComputedStyle(e)),t.position==="fixed"}function cy(e,t){t===void 0&&(t=tt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const s=t[l];return typeof s=="string"?n.test(s):!1})}function wu(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(yu(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Vl(l)||Qp(l)||n.includes(l))return n;const s=tt(e).getComputedStyle(l);return l!==e&&cy(l,s)&&n.push(l),uy(l,s)?n:r(l.parentNode)}return e?r(e):n}function Zp(e){const[t]=wu(e,1);return t!=null?t:null}function pa(e){return!Ro||!e?null:Lr(e)?e:vu(e)?yu(e)||e===Or(e).scrollingElement?window:Vl(e)?e:null:null}function eh(e){return Lr(e)?e.scrollX:e.scrollLeft}function th(e){return Lr(e)?e.scrollY:e.scrollTop}function xi(e){return{x:eh(e),y:th(e)}}var Oe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Oe||(Oe={}));function nh(e){return!Ro||!e?!1:e===document.scrollingElement}function rh(e){const t={x:0,y:0},n=nh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:l,isLeft:s,isBottom:o,isRight:i,maxScroll:r,minScroll:t}}const dy={x:.2,y:.2};function fy(e,t,n,r,l){let{top:s,left:o,right:i,bottom:u}=n;r===void 0&&(r=10),l===void 0&&(l=dy);const{isTop:c,isBottom:p,isLeft:f,isRight:h}=rh(e),y={x:0,y:0},k={x:0,y:0},v={height:t.height*l.y,width:t.width*l.x};return!c&&s<=t.top+v.height?(y.y=Oe.Backward,k.y=r*Math.abs((t.top+v.height-s)/v.height)):!p&&u>=t.bottom-v.height&&(y.y=Oe.Forward,k.y=r*Math.abs((t.bottom-v.height-u)/v.height)),!h&&i>=t.right-v.width?(y.x=Oe.Forward,k.x=r*Math.abs((t.right-v.width-i)/v.width)):!f&&o<=t.left+v.width&&(y.x=Oe.Backward,k.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:y,speed:k}}function py(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function lh(e){return e.reduce((t,n)=>jr(t,xi(n)),Ft)}function hy(e){return e.reduce((t,n)=>t+eh(n),0)}function my(e){return e.reduce((t,n)=>t+th(n),0)}function sh(e,t){if(t===void 0&&(t=Ar),!e)return;const{top:n,left:r,bottom:l,right:s}=t(e);Zp(e)&&(l<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const xy=[["x",["left","right"],hy],["y",["top","bottom"],my]];class ku{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wu(n),l=lh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,i]of xy)for(const u of o)Object.defineProperty(this,u,{get:()=>{const c=i(r),p=l[s]-c;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class dl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function gy(e){const{EventTarget:t}=tt(e);return e instanceof t?e:Or(e)}function ha(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var kt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(kt||(kt={}));function ed(e){e.preventDefault()}function vy(e){e.stopPropagation()}var Z;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Z||(Z={}));const oh={start:[Z.Space,Z.Enter],cancel:[Z.Esc],end:[Z.Space,Z.Enter,Z.Tab]},yy=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Z.Right:return{...n,x:n.x+25};case Z.Left:return{...n,x:n.x-25};case Z.Down:return{...n,y:n.y+25};case Z.Up:return{...n,y:n.y-25}}};class ah{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new dl(Or(n)),this.windowListeners=new dl(tt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kt.Resize,this.handleCancel),this.windowListeners.add(kt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&sh(r),n(Ft)}handleKeyDown(t){if(zo(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:s=oh,coordinateGetter:o=yy,scrollBehavior:i="smooth"}=l,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,p=c?{x:c.left,y:c.top}:Ft;this.referenceCoordinates||(this.referenceCoordinates=p);const f=o(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=no(f,p),y={x:0,y:0},{scrollableAncestors:k}=r.current;for(const v of k){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:j,maxScroll:w,minScroll:N}=rh(v),S=py(v),C={x:Math.min(b===Z.Right?S.right-S.width/2:S.right,Math.max(b===Z.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===Z.Down?S.bottom-S.height/2:S.bottom,Math.max(b===Z.Down?S.top:S.top+S.height/2,f.y))},_=b===Z.Right&&!m||b===Z.Left&&!g,T=b===Z.Down&&!j||b===Z.Up&&!x;if(_&&C.x!==f.x){const R=v.scrollLeft+h.x,V=b===Z.Right&&R<=w.x||b===Z.Left&&R>=N.x;if(V&&!h.y){v.scrollTo({left:R,behavior:i});return}V?y.x=v.scrollLeft-R:y.x=b===Z.Right?v.scrollLeft-w.x:v.scrollLeft-N.x,y.x&&v.scrollBy({left:-y.x,behavior:i});break}else if(T&&C.y!==f.y){const R=v.scrollTop+h.y,V=b===Z.Down&&R<=w.y||b===Z.Up&&R>=N.y;if(V&&!h.x){v.scrollTo({top:R,behavior:i});return}V?y.y=v.scrollTop-R:y.y=b===Z.Down?v.scrollTop-w.y:v.scrollTop-N.y,y.y&&v.scrollBy({top:-y.y,behavior:i});break}}this.handleMove(t,jr(no(f,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ah.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=oh,onActivation:l}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function td(e){return!!(e&&"distance"in e)}function nd(e){return!!(e&&"delay"in e)}class bu{constructor(t,n,r){var l;r===void 0&&(r=gy(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=Or(o),this.documentListeners=new dl(this.document),this.listeners=new dl(r),this.windowListeners=new dl(tt(o)),this.initialCoordinates=(l=ro(s))!=null?l:Ft,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(kt.Resize,this.handleCancel),this.windowListeners.add(kt.DragStart,ed),this.windowListeners.add(kt.VisibilityChange,this.handleCancel),this.windowListeners.add(kt.ContextMenu,ed),this.documentListeners.add(kt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(td(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(kt.Click,vy,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:s}=this,{onMove:o,options:{activationConstraint:i}}=s;if(!l)return;const u=(n=ro(t))!=null?n:Ft,c=no(l,u);if(!r&&i){if(td(i)){if(i.tolerance!=null&&ha(c,i.tolerance))return this.handleCancel();if(ha(c,i.distance))return this.handleStart()}if(nd(i)&&ha(c,i.tolerance))return this.handleCancel();this.handlePending(i,c);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Z.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const wy={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Su extends bu{constructor(t){const{event:n}=t,r=Or(n.target);super(t,wy,r)}}Su.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const ky={move:{name:"mousemove"},end:{name:"mouseup"}};var gi;(function(e){e[e.RightClick=2]="RightClick"})(gi||(gi={}));class by extends bu{constructor(t){super(t,ky,Or(t.event.target))}}by.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===gi.RightClick?!1:(r==null||r({event:n}),!0)}}];const ma={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ih extends bu{constructor(t){super(t,ma)}static setup(){return window.addEventListener(ma.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ma.move.name,t)};function t(){}}}ih.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r==null||r({event:n}),!0)}}];var fl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(fl||(fl={}));var so;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(so||(so={}));function Sy(e){let{acceleration:t,activator:n=fl.Pointer,canScroll:r,draggingRect:l,enabled:s,interval:o=5,order:i=so.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:p,delta:f,threshold:h}=e;const y=Ny({delta:f,disabled:!s}),[k,v]=Iv(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case fl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case fl.DraggableRect:return l}},[n,l,u]),g=d.useRef(null),j=d.useCallback(()=>{const N=g.current;if(!N)return;const S=b.current.x*x.current.x,C=b.current.y*x.current.y;N.scrollBy(S,C)},[]),w=d.useMemo(()=>i===so.TreeOrder?[...c].reverse():c,[i,c]);d.useEffect(()=>{if(!s||!c.length||!m){v();return}for(const N of w){if((r==null?void 0:r(N))===!1)continue;const S=c.indexOf(N),C=p[S];if(!C)continue;const{direction:_,speed:T}=fy(N,C,m,t,h);for(const R of["x","y"])y[R][_[R]]||(T[R]=0,_[R]=0);if(T.x>0||T.y>0){v(),g.current=N,k(j,o),b.current=T,x.current=_;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,j,r,v,s,o,JSON.stringify(m),JSON.stringify(y),k,c,w,p,JSON.stringify(h)])}const jy={x:{[Oe.Backward]:!1,[Oe.Forward]:!1},y:{[Oe.Backward]:!1,[Oe.Forward]:!1}};function Ny(e){let{delta:t,disabled:n}=e;const r=to(t);return Wl(l=>{if(n||!r||!l)return jy;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Oe.Backward]:l.x[Oe.Backward]||s.x===-1,[Oe.Forward]:l.x[Oe.Forward]||s.x===1},y:{[Oe.Backward]:l.y[Oe.Backward]||s.y===-1,[Oe.Forward]:l.y[Oe.Forward]||s.y===1}}},[n,t,r])}function Cy(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Wl(l=>{var s;return t==null?null:(s=r!=null?r:l)!=null?s:null},[r,t])}function Ey(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,s=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var Ll;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ll||(Ll={}));var vi;(function(e){e.Optimized="optimized"})(vi||(vi={}));const rd=new Map;function My(e,t){let{dragging:n,dependencies:r,config:l}=t;const[s,o]=d.useState(null),{frequency:i,measure:u,strategy:c}=l,p=d.useRef(e),f=b(),h=Il(f),y=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&o(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),k=d.useRef(null),v=Wl(x=>{if(f&&!n)return rd;if(!x||x===rd||p.current!==e||s!=null){const m=new Map;for(let g of e){if(!g)continue;if(s&&s.length>0&&!s.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const j=g.node.current,w=j?new ku(u(j),j):null;g.rect.current=w,w&&m.set(g.id,w)}return m}return x},[e,s,n,f,u]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{f||y()},[n,f]),d.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),d.useEffect(()=>{f||typeof i!="number"||k.current!==null||(k.current=setTimeout(()=>{y(),k.current=null},i))},[i,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function b(){switch(c){case Ll.Always:return!1;case Ll.BeforeDragging:return n;default:return!n}}}function ju(e,t){return Wl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function _y(e,t){return ju(e,t)}function Ty(e){let{callback:t,disabled:n}=e;const r=Do(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Po(e){let{callback:t,disabled:n}=e;const r=Do(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Ry(e){return new ku(Ar(e),e)}function ld(e,t,n){t===void 0&&(t=Ry);const[r,l]=d.useState(null);function s(){l(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u!=null?u:n)!=null?c:null}const p=t(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const o=Ty({callback(u){if(e)for(const c of u){const{type:p,target:f}=c;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),i=Po({callback:s});return At(()=>{s(),e?(i==null||i.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),o==null||o.disconnect())},[e]),r}function Dy(e){const t=ju(e);return Jp(e,t)}const sd=[];function zy(e){const t=d.useRef(e),n=Wl(r=>e?r&&r!==sd&&e&&t.current&&e.parentNode===t.current.parentNode?r:wu(e):sd,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Py(e){const[t,n]=d.useState(null),r=d.useRef(e),l=d.useCallback(s=>{const o=pa(s.target);o&&n(i=>i?(i.set(o,xi(o)),new Map(i)):null)},[]);return d.useEffect(()=>{const s=r.current;if(e!==s){o(s);const i=e.map(u=>{const c=pa(u);return c?(c.addEventListener("scroll",l,{passive:!0}),[c,xi(c)]):null}).filter(u=>u!=null);n(i.length?new Map(i):null),r.current=e}return()=>{o(e),o(s)};function o(i){i.forEach(u=>{const c=pa(u);c==null||c.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>jr(s,o),Ft):lh(e):Ft,[e,t])}function od(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Ft;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?no(e,n.current):Ft}function Iy(e){d.useEffect(()=>{if(!Ro)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ly(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:s}=r;return n[l]=o=>{s(o,t)},n},{}),[e,t])}function uh(e){return d.useMemo(()=>e?iy(e):null,[e])}const ad=[];function Oy(e,t){t===void 0&&(t=Ar);const[n]=e,r=uh(n?tt(n):null),[l,s]=d.useState(ad);function o(){s(()=>e.length?e.map(u=>nh(u)?r:new ku(t(u),u)):ad)}const i=Po({callback:o});return At(()=>{i==null||i.disconnect(),o(),e.forEach(u=>i==null?void 0:i.observe(u))},[e]),l}function ch(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Vl(t)?t:e}function Ay(e){let{measure:t}=e;const[n,r]=d.useState(null),l=d.useCallback(c=>{for(const{target:p}of c)if(Vl(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Po({callback:l}),o=d.useCallback(c=>{const p=ch(c);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[i,u]=eo(o);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:u}),[n,i,u])}const Fy=[{sensor:Su,options:{}},{sensor:ah,options:{}}],$y={current:{}},_s={draggable:{measure:Zc},droppable:{measure:Zc,strategy:Ll.WhileDragging,frequency:vi.Optimized},dragOverlay:{measure:Ar}};class pl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Uy={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_s,measureDroppableContainers:lo,windowRect:null,measuringScheduled:!1},dh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lo,draggableNodes:new Map,over:null,measureDroppableContainers:lo},Kl=d.createContext(dh),fh=d.createContext(Uy);function By(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pl}}}function Hy(e,t){switch(t.type){case Re.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Re.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Re.DragEnd:case Re.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Re.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new pl(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case Re.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new pl(e.droppable.containers);return o.set(n,{...s,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case Re.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const s=new pl(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Vy(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=d.useContext(Kl),s=to(r),o=to(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!zo(s)||document.activeElement===s.target)return;const i=l.get(o);if(!i)return;const{activatorNode:u,node:c}=i;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const p of[u.current,c.current]){if(!p)continue;const f=Av(p);if(f){f.focus();break}}})}},[r,t,l,o,s]),null}function ph(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,s)=>s({transform:l,...r}),n):n}function Wy(e){return d.useMemo(()=>({draggable:{..._s.draggable,...e==null?void 0:e.draggable},droppable:{..._s.droppable,...e==null?void 0:e.droppable},dragOverlay:{..._s.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Xy(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const s=d.useRef(!1),{x:o,y:i}=typeof l=="boolean"?{x:l,y:l}:l;At(()=>{if(!o&&!i||!t){s.current=!1;return}if(s.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const p=n(c),f=Jp(p,r);if(o||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Zp(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,i,r,n])}const Io=d.createContext({...Ft,scaleX:1,scaleY:1});var vn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(vn||(vn={}));const Ky=d.memo(function(t){var n,r,l,s;let{id:o,accessibility:i,autoScroll:u=!0,children:c,sensors:p=Fy,collisionDetection:f=ny,measuring:h,modifiers:y,...k}=t;const v=d.useReducer(Hy,void 0,By),[b,x]=v,[m,g]=Vv(),[j,w]=d.useState(vn.Uninitialized),N=j===vn.Initialized,{draggable:{active:S,nodes:C,translate:_},droppable:{containers:T}}=b,R=S!=null?C.get(S):null,V=d.useRef({initial:null,translated:null}),A=d.useMemo(()=>{var He;return S!=null?{id:S,data:(He=R==null?void 0:R.data)!=null?He:$y,rect:V}:null},[S,R]),B=d.useRef(null),[Ne,we]=d.useState(null),[le,D]=d.useState(null),L=Il(k,Object.values(k)),O=Xl("DndDescribedBy",o),Q=d.useMemo(()=>T.getEnabled(),[T]),U=Wy(h),{droppableRects:ae,measureDroppableContainers:ne,measuringScheduled:Ce}=My(Q,{dragging:N,dependencies:[_.x,_.y],config:U.droppable}),ee=Cy(C,S),he=d.useMemo(()=>le?ro(le):null,[le]),Pe=jh(),Ye=_y(ee,U.draggable.measure);Xy({activeNode:S!=null?C.get(S):null,config:Pe.layoutShiftCompensation,initialRect:Ye,measure:U.draggable.measure});const Y=ld(ee,U.draggable.measure,Ye),Mt=ld(ee?ee.parentElement:null),Ge=d.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_t=T.getNodeFor((n=Ge.current.over)==null?void 0:n.id),xe=Ay({measure:U.dragOverlay.measure}),it=(r=xe.nodeRef.current)!=null?r:ee,ce=N?(l=xe.rect)!=null?l:Y:null,$t=!!(xe.nodeRef.current&&xe.rect),tr=Dy($t?null:Y),$=uh(it?tt(it):null),se=zy(N?_t!=null?_t:ee:null),ke=Oy(se),be=ph(y,{transform:{x:_.x-tr.x,y:_.y-tr.y,scaleX:1,scaleY:1},activatorEvent:le,active:A,activeNodeRect:Y,containerNodeRect:Mt,draggingNodeRect:ce,over:Ge.current.over,overlayNodeRect:xe.rect,scrollableAncestors:se,scrollableAncestorRects:ke,windowRect:$}),Tt=he?jr(he,_):null,Ie=Py(se),Fr=od(Ie),Ql=od(Ie,[Y]),Yt=jr(be,Fr),Gt=ce?sy(ce,be):null,dn=A&&Gt?f({active:A,collisionRect:Gt,droppableRects:ae,droppableContainers:Q,pointerCoordinates:Tt}):null,z=Zv(dn,"id"),[q,G]=d.useState(null),Se=$t?be:jr(be,Ql),yt=ry(Se,(s=q==null?void 0:q.rect)!=null?s:null,Y),Jt=d.useRef(null),Lo=d.useCallback((He,ut)=>{let{sensor:ct,options:fn}=ut;if(B.current==null)return;const wt=C.get(B.current);if(!wt)return;const dt=He.nativeEvent,Ut=new ct({active:B.current,activeNode:wt,event:dt,options:fn,context:Ge,onAbort(Fe){if(!C.get(Fe))return;const{onDragAbort:Bt}=L.current,qt={id:Fe};Bt==null||Bt(qt),m({type:"onDragAbort",event:qt})},onPending(Fe,pn,Bt,qt){if(!C.get(Fe))return;const{onDragPending:Ur}=L.current,hn={id:Fe,constraint:pn,initialCoordinates:Bt,offset:qt};Ur==null||Ur(hn),m({type:"onDragPending",event:hn})},onStart(Fe){const pn=B.current;if(pn==null)return;const Bt=C.get(pn);if(!Bt)return;const{onDragStart:qt}=L.current,$r={activatorEvent:dt,active:{id:pn,data:Bt.data,rect:V}};gr.unstable_batchedUpdates(()=>{qt==null||qt($r),w(vn.Initializing),x({type:Re.DragStart,initialCoordinates:Fe,active:pn}),m({type:"onDragStart",event:$r}),we(Jt.current),D(dt)})},onMove(Fe){x({type:Re.DragMove,coordinates:Fe})},onEnd:nr(Re.DragEnd),onCancel:nr(Re.DragCancel)});Jt.current=Ut;function nr(Fe){return async function(){const{active:Bt,collisions:qt,over:$r,scrollAdjustedTranslate:Ur}=Ge.current;let hn=null;if(Bt&&Ur){const{cancelDrop:Br}=L.current;hn={activatorEvent:dt,active:Bt,collisions:qt,delta:Ur,over:$r},Fe===Re.DragEnd&&typeof Br=="function"&&await Promise.resolve(Br(hn))&&(Fe=Re.DragCancel)}B.current=null,gr.unstable_batchedUpdates(()=>{x({type:Fe}),w(vn.Uninitialized),G(null),we(null),D(null),Jt.current=null;const Br=Fe===Re.DragEnd?"onDragEnd":"onDragCancel";if(hn){const Ao=L.current[Br];Ao==null||Ao(hn),m({type:Br,event:hn})}})}}},[C]),Oo=d.useCallback((He,ut)=>(ct,fn)=>{const wt=ct.nativeEvent,dt=C.get(fn);if(B.current!==null||!dt||wt.dndKit||wt.defaultPrevented)return;const Ut={active:dt};He(ct,ut.options,Ut)===!0&&(wt.dndKit={capturedBy:ut.sensor},B.current=fn,Lo(ct,ut))},[C,Lo]),Cu=Ey(p,Oo);Iy(p),At(()=>{Y&&j===vn.Initializing&&w(vn.Initialized)},[Y,j]),d.useEffect(()=>{const{onDragMove:He}=L.current,{active:ut,activatorEvent:ct,collisions:fn,over:wt}=Ge.current;if(!ut||!ct)return;const dt={active:ut,activatorEvent:ct,collisions:fn,delta:{x:Yt.x,y:Yt.y},over:wt};gr.unstable_batchedUpdates(()=>{He==null||He(dt),m({type:"onDragMove",event:dt})})},[Yt.x,Yt.y]),d.useEffect(()=>{const{active:He,activatorEvent:ut,collisions:ct,droppableContainers:fn,scrollAdjustedTranslate:wt}=Ge.current;if(!He||B.current==null||!ut||!wt)return;const{onDragOver:dt}=L.current,Ut=fn.get(z),nr=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,Fe={active:He,activatorEvent:ut,collisions:ct,delta:{x:wt.x,y:wt.y},over:nr};gr.unstable_batchedUpdates(()=>{G(nr),dt==null||dt(Fe),m({type:"onDragOver",event:Fe})})},[z]),At(()=>{Ge.current={activatorEvent:le,active:A,activeNode:ee,collisionRect:Gt,collisions:dn,droppableRects:ae,draggableNodes:C,draggingNode:it,draggingNodeRect:ce,droppableContainers:T,over:q,scrollableAncestors:se,scrollAdjustedTranslate:Yt},V.current={initial:ce,translated:Gt}},[A,ee,dn,Gt,C,it,ce,ae,T,q,se,Yt]),Sy({...Pe,delta:_,draggingRect:Gt,pointerCoordinates:Tt,scrollableAncestors:se,scrollableAncestorRects:ke});const bh=d.useMemo(()=>({active:A,activeNode:ee,activeNodeRect:Y,activatorEvent:le,collisions:dn,containerNodeRect:Mt,dragOverlay:xe,draggableNodes:C,droppableContainers:T,droppableRects:ae,over:q,measureDroppableContainers:ne,scrollableAncestors:se,scrollableAncestorRects:ke,measuringConfiguration:U,measuringScheduled:Ce,windowRect:$}),[A,ee,Y,le,dn,Mt,xe,C,T,ae,q,ne,se,ke,U,Ce,$]),Sh=d.useMemo(()=>({activatorEvent:le,activators:Cu,active:A,activeNodeRect:Y,ariaDescribedById:{draggable:O},dispatch:x,draggableNodes:C,over:q,measureDroppableContainers:ne}),[le,Cu,A,Y,x,O,C,q,ne]);return fe.createElement(Gp.Provider,{value:g},fe.createElement(Kl.Provider,{value:Sh},fe.createElement(fh.Provider,{value:bh},fe.createElement(Io.Provider,{value:yt},c)),fe.createElement(Vy,{disabled:(i==null?void 0:i.restoreFocus)===!1})),fe.createElement(Kv,{...i,hiddenTextDescribedById:O}));function jh(){const He=(Ne==null?void 0:Ne.autoScrollEnabled)===!1,ut=typeof u=="object"?u.enabled===!1:u===!1,ct=N&&!He&&!ut;return typeof u=="object"?{...u,enabled:ct}:{enabled:ct}}}),Qy=d.createContext(null),id="button",Yy="Draggable";function Gy(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const s=Xl(Yy),{activators:o,activatorEvent:i,active:u,activeNodeRect:c,ariaDescribedById:p,draggableNodes:f,over:h}=d.useContext(Kl),{role:y=id,roleDescription:k="draggable",tabIndex:v=0}=l!=null?l:{},b=(u==null?void 0:u.id)===t,x=d.useContext(b?Io:Qy),[m,g]=eo(),[j,w]=eo(),N=Ly(o,t),S=Il(n);At(()=>(f.set(t,{id:t,key:s,node:m,activatorNode:j,data:S}),()=>{const _=f.get(t);_&&_.key===s&&f.delete(t)}),[f,t]);const C=d.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&y===id?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,y,v,b,k,p.draggable]);return{active:u,activatorEvent:i,activeNodeRect:c,attributes:C,isDragging:b,listeners:r?void 0:N,node:m,over:h,setNodeRef:g,setActivatorNodeRef:w,transform:x}}function hh(){return d.useContext(fh)}const Jy="Droppable",qy={timeout:25};function Zy(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const s=Xl(Jy),{active:o,dispatch:i,over:u,measureDroppableContainers:c}=d.useContext(Kl),p=d.useRef({disabled:n}),f=d.useRef(!1),h=d.useRef(null),y=d.useRef(null),{disabled:k,updateMeasurementsFor:v,timeout:b}={...qy,...l},x=Il(v!=null?v:r),m=d.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),y.current=null},b)},[b]),g=Po({callback:m,disabled:k||!o}),j=d.useCallback((C,_)=>{g&&(_&&(g.unobserve(_),f.current=!1),C&&g.observe(C))},[g]),[w,N]=eo(j),S=Il(t);return d.useEffect(()=>{!g||!w.current||(g.disconnect(),f.current=!1,g.observe(w.current))},[w,g]),d.useEffect(()=>(i({type:Re.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:h,data:S}}),()=>i({type:Re.UnregisterDroppable,key:s,id:r})),[r]),d.useEffect(()=>{n!==p.current.disabled&&(i({type:Re.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,i]),{active:o,rect:h,isOver:(u==null?void 0:u.id)===r,node:w,over:u,setNodeRef:N}}function e1(e){let{animation:t,children:n}=e;const[r,l]=d.useState(null),[s,o]=d.useState(null),i=to(n);return!n&&!r&&i&&l(i),At(()=>{if(!s)return;const u=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(u==null||c==null){l(null);return}Promise.resolve(t(c,s)).then(()=>{l(null)})},[t,r,s]),fe.createElement(fe.Fragment,null,n,r?d.cloneElement(r,{ref:o}):null)}const t1={x:0,y:0,scaleX:1,scaleY:1};function n1(e){let{children:t}=e;return fe.createElement(Kl.Provider,{value:dh},fe.createElement(Io.Provider,{value:t1},t))}const r1={position:"fixed",touchAction:"none"},l1=e=>zo(e)?"transform 250ms ease":void 0,s1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:s,className:o,rect:i,style:u,transform:c,transition:p=l1}=e;if(!i)return null;const f=l?c:{...c,scaleX:1,scaleY:1},h={...r1,width:i.width,height:i.height,top:i.top,left:i.left,transform:Pn.Transform.toString(f),transformOrigin:l&&r?Gv(r,i):void 0,transition:typeof p=="function"?p(r):p,...u};return fe.createElement(n,{className:o,style:h,ref:t},s)}),o1=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:s,className:o}=e;if(s!=null&&s.active)for(const[i,u]of Object.entries(s.active))u!==void 0&&(l[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,u));if(s!=null&&s.dragOverlay)for(const[i,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(i,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,c]of Object.entries(l))n.node.style.setProperty(u,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},a1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Pn.Transform.toString(t)},{transform:Pn.Transform.toString(n)}]},i1={duration:250,easing:"ease",keyframes:a1,sideEffects:o1({styles:{active:{opacity:"0"}}})};function u1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return Do((s,o)=>{if(t===null)return;const i=n.get(s);if(!i)return;const u=i.node.current;if(!u)return;const c=ch(o);if(!c)return;const{transform:p}=tt(o).getComputedStyle(o),f=qp(p);if(!f)return;const h=typeof t=="function"?t:c1(t);return sh(u,l.draggable.measure),h({active:{id:s,data:i.data,node:u,rect:l.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:l,transform:f})})}function c1(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...i1,...e};return s=>{let{active:o,dragOverlay:i,transform:u,...c}=s;if(!t)return;const p={x:i.rect.left-o.rect.left,y:i.rect.top-o.rect.top},f={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/i.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/i.rect.height:1},h={x:u.x-p.x,y:u.y-p.y,...f},y=l({...c,active:o,dragOverlay:i,transform:{initial:u,final:h}}),[k]=y,v=y[y.length-1];if(JSON.stringify(k)===JSON.stringify(v))return;const b=r==null?void 0:r({active:o,dragOverlay:i,...c}),x=i.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let ud=0;function d1(e){return d.useMemo(()=>{if(e!=null)return ud++,ud},[e])}const f1=fe.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:s,modifiers:o,wrapperElement:i="div",className:u,zIndex:c=999}=e;const{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggableNodes:k,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:j,windowRect:w}=hh(),N=d.useContext(Io),S=d1(f==null?void 0:f.id),C=ph(o,{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:j,transform:N,windowRect:w}),_=ju(h),T=u1({config:r,draggableNodes:k,droppableContainers:v,measuringConfiguration:m}),R=_?b.setRef:void 0;return fe.createElement(n1,null,fe.createElement(e1,{animation:T},f&&S?fe.createElement(s1,{key:S,id:f.id,ref:R,as:i,activatorEvent:p,adjustScale:t,className:u,transition:s,rect:_,style:{zIndex:c,...l},transform:C},n):null))});function Nu(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function p1(e,t){return e.reduce((n,r,l)=>{const s=t.get(r);return s&&(n[l]=s),n},Array(e.length))}function hs(e){return e!==null&&e>=0}function h1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function m1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const mh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e;const s=Nu(t,r,n),o=t[l],i=s[l];return!i||!o?null:{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}},ms={scaleX:1,scaleY:1},x1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:l,rects:s,overIndex:o}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(l===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(i.top+i.height):c.top-i.top,...ms}:null}const u=g1(s,l,n);return l>n&&l<=o?{x:0,y:-i.height-u,...ms}:l<n&&l>=o?{x:0,y:i.height+u,...ms}:{x:0,y:0,...ms}};function g1(e,t,n){const r=e[t],l=e[t-1],s=e[t+1];return r?n<t?l?r.top-(l.top+l.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):l?r.top-(l.top+l.height):0:0}const xh="Sortable",gh=fe.createContext({activeIndex:-1,containerId:xh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mh,disabled:{draggable:!1,droppable:!1}});function v1(e){let{children:t,id:n,items:r,strategy:l=mh,disabled:s=!1}=e;const{active:o,dragOverlay:i,droppableRects:u,over:c,measureDroppableContainers:p}=hh(),f=Xl(xh,n),h=i.rect!==null,y=d.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),k=o!=null,v=o?y.indexOf(o.id):-1,b=c?y.indexOf(c.id):-1,x=d.useRef(y),m=!h1(y,x.current),g=b!==-1&&v===-1||m,j=m1(s);At(()=>{m&&k&&p(y)},[m,y,k,p]),d.useEffect(()=>{x.current=y},[y]);const w=d.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:g,items:y,overIndex:b,useDragOverlay:h,sortedRects:p1(y,u),strategy:l}),[v,f,j.draggable,j.droppable,g,y,b,u,h,l]);return fe.createElement(gh.Provider,{value:w},t)}const y1=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return Nu(n,r,l).indexOf(t)},w1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:s,newIndex:o,previousItems:i,previousContainerId:u,transition:c}=e;return!c||!r||i!==s&&l===o?!1:n?!0:o!==l&&t===u},k1={duration:200,easing:"ease"},vh="transform",b1=Pn.Transition.toString({property:vh,duration:0,easing:"linear"}),S1={roleDescription:"sortable"};function j1(e){let{disabled:t,index:n,node:r,rect:l}=e;const[s,o]=d.useState(null),i=d.useRef(n);return At(()=>{if(!t&&n!==i.current&&r.current){const u=l.current;if(u){const c=Ar(r.current,{ignoreTransform:!0}),p={x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height};(p.x||p.y)&&o(p)}}n!==i.current&&(i.current=n)},[t,n,r,l]),d.useEffect(()=>{s&&o(null)},[s]),s}function N1(e){let{animateLayoutChanges:t=w1,attributes:n,disabled:r,data:l,getNewIndex:s=y1,id:o,strategy:i,resizeObserverConfig:u,transition:c=k1}=e;const{items:p,containerId:f,activeIndex:h,disabled:y,disableTransforms:k,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(gh),g=C1(r,y),j=p.indexOf(o),w=d.useMemo(()=>({sortable:{containerId:f,index:j,items:p},...l}),[f,l,j,p]),N=d.useMemo(()=>p.slice(p.indexOf(o)),[p,o]),{rect:S,node:C,isOver:_,setNodeRef:T}=Zy({id:o,data:w,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...u}}),{active:R,activatorEvent:V,activeNodeRect:A,attributes:B,setNodeRef:Ne,listeners:we,isDragging:le,over:D,setActivatorNodeRef:L,transform:O}=Gy({id:o,data:w,attributes:{...S1,...n},disabled:g.draggable}),Q=Pv(T,Ne),U=!!R,ae=U&&!k&&hs(h)&&hs(b),ne=!x&&le,Ce=ne&&ae?O:null,ee=i!=null?i:m,he=ae?Ce!=null?Ce:ee({rects:v,activeNodeRect:A,activeIndex:h,overIndex:b,index:j}):null,Pe=hs(h)&&hs(b)?s({id:o,items:p,activeIndex:h,overIndex:b}):j,Ye=R==null?void 0:R.id,Y=d.useRef({activeId:Ye,items:p,newIndex:Pe,containerId:f}),Mt=p!==Y.current.items,Ge=t({active:R,containerId:f,isDragging:le,isSorting:U,id:o,index:j,items:p,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:c,wasDragging:Y.current.activeId!=null}),_t=j1({disabled:!Ge,index:j,node:C,rect:S});return d.useEffect(()=>{U&&Y.current.newIndex!==Pe&&(Y.current.newIndex=Pe),f!==Y.current.containerId&&(Y.current.containerId=f),p!==Y.current.items&&(Y.current.items=p)},[U,Pe,f,p]),d.useEffect(()=>{if(Ye===Y.current.activeId)return;if(Ye!=null&&Y.current.activeId==null){Y.current.activeId=Ye;return}const it=setTimeout(()=>{Y.current.activeId=Ye},50);return()=>clearTimeout(it)},[Ye]),{active:R,activeIndex:h,attributes:B,data:w,rect:S,index:j,newIndex:Pe,items:p,isOver:_,isSorting:U,isDragging:le,listeners:we,node:C,overIndex:b,over:D,setNodeRef:Q,setActivatorNodeRef:L,setDroppableNodeRef:T,setDraggableNodeRef:Ne,transform:_t!=null?_t:he,transition:xe()};function xe(){if(_t||Mt&&Y.current.newIndex===j)return b1;if(!(ne&&!zo(V)||!c)&&(U||Ge))return Pn.Transition.toString({...c,property:vh})}}function C1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Z.Down,Z.Right,Z.Up,Z.Left;const E={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function cd({label:e,value:t,onChange:n,placeholder:r,rows:l,onExpand:s,onHistory:o}){return a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[a.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:E.textMuted},children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[o&&a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:E.bg},onClick:o,children:a.jsx(av,{size:13,style:{color:E.textMuted}})}),a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:E.bg},onClick:s,children:a.jsx(Mo,{size:13,style:{color:E.accentDark}})})]})]}),a.jsx("textarea",{value:t,onChange:i=>n(i.target.value),placeholder:r,rows:l||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:E.bg,color:E.text}})]})}function xa({label:e,value:t,onChange:n,presets:r}){const[l,s]=d.useState(!1),o=r.find(i=>i.id===t);return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:E.textMuted},children:e}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:E.bg,color:E.text},onClick:()=>s(!l),children:[a.jsx("span",{style:{color:o?E.text:E.textMuted},children:o?o.name:""}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:E.textMuted,transform:l?"rotate(180deg)":"none",transition:"transform 0.2s"},children:a.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),l&&a.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:E.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[a.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:E.textMuted},onClick:()=>{n(null),s(!1)},children:""}),r.map(i=>a.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:E.text},onClick:()=>{n(i.id),s(!1)},children:[a.jsx("span",{children:i.name}),i.id===t&&a.jsx(zl,{size:14,style:{color:E.accentDark}})]},i.id))]})]})]})}function ga({value:e,onChange:t,onClose:n,title:r,placeholder:l}){return a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:E.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[a.jsx("span",{className:"text-[15px] font-bold",style:{color:E.text},children:r||""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:a.jsx(Pl,{size:18,style:{color:E.accentDark}})})]}),a.jsx("textarea",{autoFocus:!0,value:e,onChange:s=>t(s.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:E.bg,color:E.text},placeholder:l||""})]})}function E1({items:e,currentContent:t,onApply:n,onClose:r}){const[l,s]=d.useState("current"),[o,i]=d.useState(null),u=p=>p?new Date(p).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",c=async()=>{if(l==="current"){r();return}const p=e.find(f=>f.id===l);p&&await n(p.content),r()};return o?a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:E.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[a.jsxs("span",{className:"text-[15px] font-bold",style:{color:E.text},children:[" ",o.version]}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:a.jsx(Pl,{size:18,style:{color:E.accentDark}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:a.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:E.bg},children:a.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:E.text},children:o.content})})})]}):a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:E.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[a.jsx("span",{className:"text-[15px] font-bold",style:{color:E.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:a.jsx(Pl,{size:18,style:{color:E.accentDark}})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:E.bg},children:[a.jsx("button",{onClick:()=>s("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l==="current"?E.accentDark:E.bg,boxShadow:l==="current"?"none":"var(--icon-inset)"},children:l==="current"&&a.jsx(zl,{size:12,color:"white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[13px] font-semibold",style:{color:E.text},children:""}),a.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),a.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:E.textMuted},children:t})]})]}),e.length===0&&a.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:E.textMuted},children:""}),e.map(p=>a.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l===p.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:E.bg},children:[a.jsx("button",{onClick:()=>s(p.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l===p.id?E.accentDark:E.bg,boxShadow:l===p.id?"none":"var(--icon-inset)"},children:l===p.id&&a.jsx(zl,{size:12,color:"white"})}),a.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(p),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[13px] font-semibold",style:{color:E.text},children:[" ",p.version]}),a.jsx("span",{className:"text-[10px]",style:{color:E.textMuted},children:u(p.created_at)})]}),a.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:E.textMuted},children:p.content})]})]},p.id))]}),a.jsx("div",{className:"shrink-0 p-5",children:a.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:c,children:""})})]})}function yh(e){return e==="always"?"":e==="keyword"?"":""}function wh(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function M1({item:e,book:t,position:n,sectionList:r,onRemove:l,onChangePosition:s}){const{attributes:o,listeners:i,setNodeRef:u,transform:c,transition:p,isDragging:f}=N1({id:String(e.id)}),h={transform:Pn.Transform.toString(c),transition:p,opacity:f?.35:1,zIndex:f?10:void 0};return t?a.jsxs("div",{ref:u,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[a.jsx("div",{...o,...i,className:"cursor-grab touch-none p-1",style:{cursor:f?"grabbing":"grab"},children:a.jsx(Vp,{size:14,style:{color:E.textMuted}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:E.text},children:t.name}),a.jsxs("div",{className:"text-[10px]",style:{color:E.textMuted},children:[yh(t.activation),t.folder?`  ${t.folder}`:""]})]}),a.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:E.textMuted},onClick:()=>s(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),a.jsx("button",{onClick:()=>l(e.id),children:a.jsx(gu,{size:14,style:{color:E.textMuted}})})]}):null}function _1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[l,s]=d.useState(new Set(t)),o={};e.forEach(c=>{const p=c.folder||"";o[p]||(o[p]=[]),o[p].push(c)});const i=c=>{s(p=>{const f=new Set(p);return f.has(c)?f.delete(c):f.add(c),f})},u=c=>{const p=c.every(f=>l.has(f.id));s(f=>{const h=new Set(f);return p?c.forEach(y=>h.delete(y.id)):c.forEach(y=>h.add(y.id)),h})};return a.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:a.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:E.bg,maxHeight:"82vh"},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[a.jsx("h3",{className:"text-[16px] font-bold",style:{color:E.text},children:""}),a.jsx("button",{onClick:n,children:a.jsx(gu,{size:20,style:{color:E.textMuted}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(o).map(([c,p])=>{const f=p.every(h=>l.has(h.id));return a.jsxs("div",{className:"mb-5",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:E.textMuted},children:c}),a.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:f?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:f?E.accentDark:E.textMuted},onClick:()=>u(p),children:f?"":""})]}),a.jsx("div",{className:"space-y-2",children:p.map(h=>{const y=l.has(h.id);return a.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:E.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[a.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:y?E.accentDark:E.bg,boxShadow:y?"none":"var(--icon-inset)"},children:y&&a.jsx(zl,{size:12,color:"white"})}),a.jsx("div",{className:"flex-1 min-w-0 text-left",children:a.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:y?E.accentDark:E.text},children:h.name})}),a.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:E.textMuted},children:yh(h.activation)})]},h.id)})})]},c)})}),a.jsx("div",{className:"shrink-0 p-5",children:a.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...l]),children:[" ",l.size,""]})})]})})}function T1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,l]=d.useState(!1),[s,o]=d.useState(null),i=wh(e),u=i.filter(w=>w.position==="before").sort((w,N)=>w.sort_order-N.sort_order),c=i.filter(w=>w.position==="after").sort((w,N)=>w.sort_order-N.sort_order),p=w=>n.find(N=>N.id===w||N.id===Number(w)),f=Qv(Jc(Su,{activationConstraint:{distance:5}}),Jc(ih,{activationConstraint:{delay:150,tolerance:5}})),h=({active:w})=>o(w.id),y=({active:w,over:N})=>{if(!N)return;const S=i.find(_=>String(_.id)===String(w.id)),C=i.find(_=>String(_.id)===String(N.id));if(!(!S||!C)&&S.position!==C.position){const _=i.map(T=>String(T.id)===String(S.id)?{...T,position:C.position}:T);t(_)}},k=({active:w,over:N})=>{if(o(null),!N||w.id===N.id)return;const S=i.find(B=>String(B.id)===String(w.id)),C=i.find(B=>String(B.id)===String(N.id));if(!S||!C||S.position!==C.position)return;const _=S.position==="before"?[...u]:[...c],T=_.findIndex(B=>String(B.id)===String(w.id)),R=_.findIndex(B=>String(B.id)===String(N.id)),V=Nu(_,T,R).map((B,Ne)=>({...B,sort_order:Ne})),A=i.filter(B=>B.position!==S.position);t([...A,...V])},v=w=>t(i.filter(N=>N.id!==w)),b=(w,N)=>{const C=(N==="before"?u:c).length;t(i.map(_=>_.id===w?{..._,position:N,sort_order:C}:_))},x=w=>{const N=i.map(R=>R.id),C=w.filter(R=>!N.includes(R)).map((R,V)=>({id:R,position:"after",sort_order:c.length+V})),_=new Set(N.filter(R=>!w.includes(R))),T=i.filter(R=>!_.has(R.id));t([...T,...C])},m=(w,N)=>w.length===0?a.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:E.textMuted},children:""}):a.jsx(v1,{items:w.map(S=>String(S.id)),strategy:x1,children:a.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)"},children:w.map((S,C)=>a.jsxs("div",{children:[C>0&&a.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),a.jsx(M1,{item:S,book:p(S.id),position:N,sectionList:w,onRemove:v,onChangePosition:b})]},S.id))})}),g=s?i.find(w=>String(w.id)===String(s)):null,j=g?p(g.id):null;return a.jsxs(Ky,{sensors:f,collisionDetection:ey,onDragStart:h,onDragOver:y,onDragEnd:k,children:[a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:E.textMuted},children:"System Prompt "}),m(u,"before")]}),a.jsxs("div",{className:"my-4 flex items-center gap-2",children:[a.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),a.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:E.accentDark},children:"System Prompt"}),a.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:E.textMuted},children:"System Prompt "}),m(c,"after")]}),a.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)",color:E.accentDark},onClick:()=>l(!0),children:[a.jsx(Hl,{size:16})," "]}),a.jsx(f1,{children:j&&a.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:E.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[a.jsx(Vp,{size:14,style:{color:E.textMuted}}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:E.accentDark},children:j.name})})]})}),r&&a.jsx(_1,{allBooks:n,mountedIds:i.map(w=>w.id),onClose:()=>l(!1),onConfirm:w=>{x(w),l(!1)}})]})}function dd(){const e=Qt(),{id:t}=Lp(),n=!t,[r,l]=d.useState("basic"),[s,o]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState(null),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState(""),[g,j]=d.useState(""),[w,N]=d.useState(null),[S,C]=d.useState(null),[_,T]=d.useState([]),[R,V]=d.useState([]),[A,B]=d.useState([]),[Ne,we]=d.useState(!1),[le,D]=d.useState(!n),[L,O]=d.useState(null),[Q,U]=d.useState(!1),[ae,ne]=d.useState(!1),[Ce,ee]=d.useState(!1),[he,Pe]=d.useState(null),[Ye,Y]=d.useState([]),Mt=d.useRef(null),Ge=d.useRef(null),_t=$=>{var be;const se=(be=$.target.files)==null?void 0:be[0];if(!se)return;const ke=new FileReader;ke.onload=Tt=>p(Tt.target.result||""),ke.readAsText(se),$.target.value=""},xe=$=>{O($),setTimeout(()=>O(null),2500)},it=async $=>{const se=$==="human"?w:S;if(!se){xe("");return}try{const ke=await H(`/api/core-blocks/${se}/history`);Y(ke.history||[]),Pe($)}catch(ke){xe("")}};d.useEffect(()=>{(async()=>{const[se,ke]=await Promise.all([H("/api/presets").catch(()=>({presets:[]})),H("/api/world-books").catch(()=>({world_books:[]}))]);if(V(se.presets||[]),B(ke.world_books||[]),n)D(!1);else try{const[be,Tt]=await Promise.all([H(`/api/assistants/${t}`),H(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);o(be.name||""),To(`assistant-avatar-${t}`).then(Ie=>{Ie&&u(Ie)}).catch(function(){}),p(be.system_prompt||""),h(be.model_preset_id||null),k(be.summary_model_preset_id||null),b(be.summary_fallback_preset_id||null),T(be.rule_set_ids||[]);for(const Ie of Tt.blocks||[])Ie.block_type==="human"?(m(Ie.content||""),N(Ie.id)):Ie.block_type==="persona"&&(j(Ie.content||""),C(Ie.id))}catch(be){xe(": "+be.message)}finally{D(!1)}})()},[t,n]);const ce=$=>{var be;const se=(be=$.target.files)==null?void 0:be[0];if(!se)return;const ke=new FileReader;ke.onload=async Tt=>{const Ie=Tt.target.result,Fr=`assistant-avatar-${t||"new"}`;try{await mi(Fr,Ie),u(Ie)}catch(Ql){xe("")}},ke.readAsDataURL(se),$.target.value=""},$t=async()=>{if(!s.trim()){xe("");return}we(!0);try{const $={name:s.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:c,model_preset_id:f,summary_model_preset_id:y,summary_fallback_preset_id:v,rule_set_ids:wh(_)};let se=t;n?(se=(await H("/api/assistants",{method:"POST",body:{name:s.trim()}})).id,i&&(await mi(`assistant-avatar-${se}`,i),$.avatar_url=`assistant-avatar-${se}`),await H(`/api/assistants/${se}`,{method:"PUT",body:$})):await H(`/api/assistants/${t}`,{method:"PUT",body:$});const ke=[];w&&ke.push(H(`/api/core-blocks/${w}`,{method:"PUT",body:{content:x}})),S&&ke.push(H(`/api/core-blocks/${S}`,{method:"PUT",body:{content:g}})),await Promise.all(ke),xe("")}catch($){xe(": "+$.message)}finally{we(!1)}},tr=[{key:"basic",label:""},{key:"about",label:""},{key:"books",label:""}];return a.jsxs("div",{className:"flex h-full flex-col",style:{background:E.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:E.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:E.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:E.text},children:n?"":""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:E.bg,boxShadow:Ne?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:$t,disabled:Ne,children:a.jsx(_o,{size:18,style:{color:E.accentDark}})})]}),a.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:tr.map($=>a.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===$.key?E.bg:"transparent",boxShadow:r===$.key?"var(--card-shadow-sm)":"none",color:r===$.key?E.accentDark:E.textMuted},onClick:()=>l($.key),children:$.label},$.key))}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:le?a.jsx("div",{className:"flex h-40 items-center justify-center",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:E.accent,borderTopColor:"transparent"}})}):a.jsxs(a.Fragment,{children:[r==="basic"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var $;return($=Mt.current)==null?void 0:$.click()},children:[a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:E.bg},children:i?a.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):a.jsx("span",{className:"text-[24px]",style:{color:E.accentDark},children:(s==null?void 0:s[0])||"?"})})}),a.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:E.accentDark},children:a.jsx(Bp,{size:9,color:"white"})})]}),a.jsx("input",{ref:Mt,type:"file",accept:"image/*",className:"hidden",onChange:ce}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:E.textMuted},children:""}),a.jsx("input",{type:"text",value:s,onChange:$=>o($.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:E.bg,color:E.text}})]})]}),a.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[a.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:E.textMuted},children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:E.bg},onClick:()=>{var $;return($=Ge.current)==null?void 0:$.click()},title:"",children:a.jsx(hu,{size:13,style:{color:E.textMuted}})}),a.jsx("input",{ref:Ge,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:_t}),a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:E.bg},onClick:()=>U(!0),title:"",children:a.jsx(Mo,{size:13,style:{color:E.accentDark}})})]})]}),a.jsx("textarea",{value:c,onChange:$=>p($.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:E.bg,color:E.text}})]}),a.jsxs("div",{className:"rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:[a.jsx(xa,{label:"",value:f,onChange:h,presets:R}),a.jsx(xa,{label:"",value:y,onChange:k,presets:R}),a.jsx(xa,{label:"",value:v,onChange:b,presets:R})]})]}),r==="about"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:a.jsx(cd,{label:"AI ",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>ne(!0),onHistory:()=>it("human")})}),a.jsx("div",{className:"rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:a.jsx(cd,{label:"",value:g,onChange:j,placeholder:"AI ...",rows:7,onExpand:()=>ee(!0),onHistory:()=>it("persona")})})]}),r==="books"&&a.jsx("div",{className:"rounded-[20px] p-4",style:{background:E.bg,boxShadow:"var(--card-shadow)"},children:a.jsx(T1,{ruleSetIds:_,onChange:T,allBooks:A})})]})}),Q&&a.jsx(ga,{value:c,onChange:p,onClose:()=>U(!1),title:"",placeholder:"..."}),ae&&a.jsx(ga,{value:x,onChange:m,onClose:()=>ne(!1),title:"AI ",placeholder:" AI ..."}),Ce&&a.jsx(ga,{value:g,onChange:j,onClose:()=>ee(!1),title:"",placeholder:"AI ..."}),he&&a.jsx(E1,{items:Ye,currentContent:he==="human"?x:g,onApply:async $=>{const se=he==="human"?w:S;try{await H(`/api/core-blocks/${se}`,{method:"PUT",body:{content:$}}),he==="human"?m($):j($),xe("")}catch(ke){xe("")}},onClose:()=>Pe(null)}),L&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:L})})]})}const W={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function R1({on:e,onToggle:t}){return a.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":W.bg},children:a.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function fd({icon:e,label:t,hint:n,onClick:r}){return a.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:W.bg},children:e}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:"text-[15px] font-semibold",style:{color:W.text},children:t}),n&&a.jsx("div",{className:"text-[11px]",style:{color:W.textMuted},children:n})]}),a.jsx(Bl,{size:16,style:{color:W.textMuted}})]})}function D1(){return a.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function Jr({value:e,onChange:t,min:n,max:r}){const[l,s]=d.useState(String(e));d.useEffect(()=>s(String(e)),[e]);const o=()=>{let i=parseInt(l);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),s(String(i)),t(i)};return a.jsx("input",{type:"number",value:l,onChange:i=>s(i.target.value),onBlur:o,onKeyDown:i=>i.key==="Enter"&&o(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:W.bg,color:W.text},min:n,max:r})}function z1(){const e=Qt(),[t,n]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessage)||!1}),[r,l]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMin)||30}),[s,o]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMax)||60}),[i,u]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[c,p]=d.useState(8e3),[f,h]=d.useState(16e3),[y,k]=d.useState(!1),[v,b]=d.useState(!1),[x,m]=d.useState(null),g=w=>{m(w),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{H("/api/settings/context-budget").then(w=>{p(w.retain_budget),h(w.trigger_threshold),k(!0)}).catch(()=>k(!0))},[]),d.useEffect(()=>{const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:s}))},[t,r,s]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),H("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]);const j=async()=>{b(!0);try{await H("/api/settings/context-budget",{method:"PUT",body:{retain_budget:c,trigger_threshold:f}}),g("")}catch(w){g("")}finally{b(!1)}};return a.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:W.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:W.text},children:""}),a.jsx("div",{className:"w-10"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[a.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:W.bg,boxShadow:"var(--card-shadow)"},children:[a.jsx(fd,{icon:a.jsx(dv,{size:18,style:{color:W.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),a.jsx(D1,{}),a.jsx(fd,{icon:a.jsx(uv,{size:18,style:{color:W.textMuted}}),label:"",hint:"",onClick:()=>g("")})]}),a.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:W.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:W.bg},children:a.jsx(Wp,{size:18,style:{color:W.text}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-[15px] font-semibold",style:{color:W.text},children:""}),a.jsx("div",{className:"text-[11px]",style:{color:W.textMuted},children:" AI "})]}),a.jsx(R1,{on:t,onToggle:()=>n(!t)})]}),t&&a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:W.bg},children:[a.jsx("span",{className:"text-[12px] font-medium",style:{color:W.textMuted},children:" ()"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jr,{value:r,onChange:l,min:1,max:999}),a.jsx("span",{style:{color:W.textMuted},children:"~"}),a.jsx(Jr,{value:s,onChange:o,min:1,max:999})]})]})})]}),a.jsx("div",{className:"rounded-[20px] p-4",style:{background:W.bg,boxShadow:"var(--card-shadow)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:W.bg},children:a.jsx(hv,{size:18,style:{color:W.text}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-[15px] font-semibold",style:{color:W.text},children:""}),a.jsx("div",{className:"text-[11px]",style:{color:W.textMuted},children:" ()"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Jr,{value:i,onChange:u,min:1,max:120}),a.jsx("span",{className:"text-[12px]",style:{color:W.textMuted},children:""})]})]})}),a.jsxs("div",{className:"rounded-[20px] p-4",style:{background:W.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:W.bg},children:a.jsx(rv,{size:18,style:{color:W.text}})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[15px] font-semibold",style:{color:W.text},children:""}),a.jsx("div",{className:"text-[11px]",style:{color:W.textMuted},children:""})]})]}),y?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[13px] font-medium",style:{color:W.text},children:" (tokens)"}),a.jsx("div",{className:"text-[10px]",style:{color:W.textMuted},children:" token "})]}),a.jsx(Jr,{value:c,onChange:p,min:1e3,max:1e5})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[13px] font-medium",style:{color:W.text},children:" (tokens)"}),a.jsx("div",{className:"text-[10px]",style:{color:W.textMuted},children:""})]}),a.jsx(Jr,{value:f,onChange:h,min:1e3,max:2e5})]}),a.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:v?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:j,disabled:v,children:v?"...":""})]}):a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:W.accent,borderTopColor:"transparent"}})})]})]}),x&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const P={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},P1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function I1(e){try{return new URL(e).hostname}catch(t){return e}}function pd({label:e,value:t,onChange:n,placeholder:r,password:l,disabled:s}){const[o,i]=d.useState(!1);return a.jsxs("div",{className:"mb-4",children:[e&&a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:P.textMuted},children:e}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:l&&!o?"password":"text",value:t,onChange:u=>n(u.target.value),placeholder:r,disabled:s,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:s?P.textMuted:P.text,opacity:s?.5:1}}),l&&a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!o),children:o?a.jsx(sv,{size:16,style:{color:P.textMuted}}):a.jsx(lv,{size:16,style:{color:P.textMuted}})})]})]})}function L1({value:e,onChange:t,options:n}){return a.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:P.bg},children:n.map(r=>a.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?P.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?P.accentDark:P.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function O1({value:e,onChange:t,options:n,placeholder:r}){const[l,s]=d.useState(!1),o=d.useRef(null);return d.useEffect(()=>{if(!l)return;const i=u=>{o.current&&!o.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[l]),a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:e?P.text:P.textMuted},onClick:()=>s(!l),children:[a.jsx("span",{className:"truncate",children:e||r||""}),a.jsx(Eo,{size:16,style:{color:P.textMuted,flexShrink:0,transform:l?"rotate(180deg)":"none"}})]}),l&&a.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:P.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>a.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:P.text},onClick:()=>{t(i),s(!1)},children:[a.jsx("span",{className:"truncate",children:i}),i===e&&a.jsx(zl,{size:12,style:{color:P.accentDark,flexShrink:0}})]},i))})]})}function A1({value:e,onChange:t}){const[n,r]=d.useState(!1),l=d.useRef(null);return d.useEffect(()=>{if(!n)return;const s=o=>{l.current&&!l.current.contains(o.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[n]),a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"",value:e,onChange:s=>t(s.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:P.text}}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:a.jsx(Eo,{size:16,style:{color:P.textMuted}})})]}),n&&a.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:P.bg,boxShadow:"var(--card-shadow)"},children:P1.map(s=>a.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:P.text},onClick:()=>{t(s),r(!1)},children:s},s))})]})}function va({value:e,onChange:t,min:n,max:r,step:l}){const[s,o]=d.useState(String(e));d.useEffect(()=>o(String(e)),[e]);const i=()=>{let u=parseFloat(s);isNaN(u)&&(u=n),u=Math.max(n,Math.min(r,u)),u=Math.round(u/l)*l,u=parseFloat(u.toFixed(4)),o(String(u)),t(u)};return a.jsx("input",{type:"number",value:s,onChange:u=>o(u.target.value),onBlur:i,onKeyDown:u=>u.key==="Enter"&&i(),step:l,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:P.text}})}function hd({on:e,onToggle:t}){return a.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":P.bg,transition:"background 0.2s"},children:a.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function ya({children:e,className:t=""}){return a.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:P.bg,boxShadow:"var(--card-shadow)"},children:e})}function F1(){const e=Qt(),[t,n]=d.useState([]),[r,l]=d.useState([]),[s,o]=d.useState(!0),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState("api_key"),[y,k]=d.useState(""),[v,b]=d.useState([]),[x,m]=d.useState(!1),[g,j]=d.useState(1),[w,N]=d.useState(!1),[S,C]=d.useState(1),[_,T]=d.useState(!1),[R,V]=d.useState(4096),[A,B]=d.useState(null),[Ne,we]=d.useState(null),[le,D]=d.useState(!1),[L,O]=d.useState(!1),[Q,U]=d.useState(""),[ae,ne]=d.useState(!1),[Ce,ee]=d.useState(!1),[he,Pe]=d.useState(null),[Ye,Y]=d.useState(null),[Mt,Ge]=d.useState(""),_t=d.useRef(null),xe=d.useRef(!1),it=d.useRef({});it.current={baseUrl:i,apiKey:c,authType:f,modelName:y,temperature:g,tempEnabled:w,topP:S,topPEnabled:_,maxTokens:R,editingPreset:A,providers:t};const ce=d.useCallback(z=>{we(z),setTimeout(()=>we(null),2500)},[]),$t=d.useCallback(async()=>{try{const[z,q]=await Promise.all([H("/api/providers"),H("/api/presets")]);n(z.providers||[]),l(q.presets||[])}catch(z){ce(": "+z.message)}finally{o(!1)}},[ce]);d.useEffect(()=>{$t()},[$t]);const tr=z=>{var G,Se;B(z),k(z.model_name),N(z.temperature!=null),j((G=z.temperature)!=null?G:1),T(z.top_p!=null),C((Se=z.top_p)!=null?Se:1),V(z.max_tokens);const q=t.find(yt=>yt.id===z.api_provider_id);q&&(u(q.base_url),p(q.api_key),h(q.auth_type||"api_key"))},$=()=>{B(null),u(""),p(""),h("api_key"),k(""),j(1),N(!1),C(1),T(!1),V(4096),b([])},se=async()=>{if(!i.trim()||!c.trim()){ce(" API  Key");return}m(!0);try{const z=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${c.trim()}`}});if(!z.ok)throw new Error(`HTTP ${z.status}`);const G=((await z.json()).data||[]).map(Se=>Se.id).sort();b(G),ce(G.length?` ${G.length} `:"")}catch(z){ce(": "+z.message)}finally{m(!1)}},ke=async()=>{var z;if(!i.trim()||!c.trim()||!y.trim()){ce(" API Key ");return}D(!0);try{const q=i.trim().replace(/\/+$/,""),G={"Content-Type":"application/json",Authorization:`Bearer ${c.trim()}`};f==="oauth_token"&&(G["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",G["anthropic-dangerous-direct-browser-access"]="true",G["x-app"]="cli");const Se=await fetch(`${q}/chat/completions`,{method:"POST",headers:G,body:JSON.stringify({model:y.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!Se.ok){const yt=await Se.json().catch(()=>({}));throw new Error(((z=yt.error)==null?void 0:z.message)||`HTTP ${Se.status}`)}ce(" ")}catch(q){ce(": "+q.message)}finally{D(!1)}},be=async z=>{const q=it.current,G=q.baseUrl.trim(),Se=q.apiKey.trim(),yt=q.authType,Jt=z.find(Oo=>Oo.base_url===G);return Jt?((Jt.api_key!==Se||Jt.auth_type!==yt)&&await H(`/api/providers/${Jt.id}`,{method:"PUT",body:{api_key:Se,auth_type:yt}}),Jt.id):(await H("/api/providers",{method:"POST",body:{name:I1(G),base_url:G,api_key:Se,auth_type:yt}})).id},Tt=async(z,q)=>{const G=it.current;if(!G.baseUrl.trim()||!G.apiKey.trim()||!G.modelName.trim()){ce("");return}ee(!0);try{const Se=await be(G.providers),yt={name:z,model_name:G.modelName.trim(),temperature:G.tempEnabled?G.temperature:null,top_p:G.topPEnabled?G.topP:null,max_tokens:Number(G.maxTokens)||4096,api_provider_id:Se};G.editingPreset&&!q?(await H(`/api/presets/${G.editingPreset.id}`,{method:"PUT",body:yt}),ce("")):(await H("/api/presets",{method:"POST",body:yt}),ce("")),await $t()}catch(Se){ce(": "+Se.message)}finally{ee(!1)}},Ie=()=>{const z=Q.trim();z&&(O(!1),Tt(z,ae))},Fr=()=>{A&&Tt(A.name,!1)},Ql=async()=>{if(he){try{await H(`/api/presets/${he.id}`,{method:"DELETE"}),ce(""),(A==null?void 0:A.id)===he.id&&$(),$t()}catch(z){ce(": "+z.message)}Pe(null)}},Yt=async()=>{const z=Mt.trim();if(!(!z||!Ye)){try{await H(`/api/presets/${Ye.id}`,{method:"PUT",body:{name:z}}),ce(""),$t()}catch(q){ce("")}Y(null)}},Gt=(z,q)=>{xe.current=!1,z.touches?z.touches[0].clientX:z.clientX,z.touches?z.touches[0].clientY:z.clientY,_t.current=setTimeout(()=>{xe.current=!0,Pe(q)},600)},dn=()=>clearTimeout(_t.current);return a.jsxs("div",{className:"flex h-full flex-col",style:{background:P.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:P.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:P.text},children:"API "}),a.jsx("div",{className:"w-10"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:s?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:P.accent,borderTopColor:"transparent"}})}):a.jsxs(a.Fragment,{children:[a.jsxs(ya,{children:[a.jsx(pd,{label:"API ",value:i,onChange:u,placeholder:"https://api.openai.com/v1",disabled:f==="oauth_token"}),a.jsx(pd,{label:"API Key",value:c,onChange:p,placeholder:f==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:P.textMuted},children:""}),a.jsx(L1,{value:f,onChange:z=>{h(z),z==="oauth_token"&&u("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),a.jsxs(ya,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:P.textMuted},children:""}),f==="oauth_token"?a.jsx(A1,{value:y,onChange:k}):a.jsx(O1,{value:y,onChange:k,options:v})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text},onClick:ke,disabled:le,children:[le?a.jsx(Wc,{size:14,className:"animate-spin"}):null,""]}),a.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text,opacity:f==="oauth_token"?.4:1},onClick:se,disabled:x||f==="oauth_token",children:[x?a.jsx(Wc,{size:14,className:"animate-spin"}):a.jsx(mu,{size:14}),""]})]})]}),a.jsxs(ya,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] font-semibold",style:{color:P.text},children:" (0-2)"}),a.jsx("div",{className:"text-[11px]",style:{color:P.textMuted},children:""})]}),a.jsx(hd,{on:w,onToggle:()=>N(!w)})]}),w&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px]",style:{color:P.textMuted},children:""}),a.jsx(va,{value:g,onChange:j,min:0,max:2,step:.1})]}),a.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[14px] font-semibold",style:{color:P.text},children:"Top P (0-1)"}),a.jsx(hd,{on:_,onToggle:()=>T(!_)})]}),_&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px]",style:{color:P.textMuted},children:""}),a.jsx(va,{value:S,onChange:C,min:0,max:1,step:.05})]}),a.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[14px] font-semibold",style:{color:P.text},children:"Max Tokens"}),a.jsx(va,{value:R,onChange:V,min:128,max:2e5,step:1})]})]}),a.jsxs("div",{className:"mb-4 space-y-3",children:[A?a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Fr,disabled:Ce,children:[a.jsx(_o,{size:14}),Ce?"...":""]}),a.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text},onClick:()=>{ne(!0),U(""),O(!0)},disabled:Ce,children:[a.jsx(tv,{size:14}),""]})]}):a.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{ne(!0),U(""),O(!0)},disabled:Ce,children:[a.jsx(Hl,{size:14}),""]}),A&&a.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:P.textMuted},onClick:$,children:""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:P.textMuted},children:""}),r.length===0?a.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:P.bg,boxShadow:"var(--card-shadow)",color:P.textMuted},children:""}):a.jsx("div",{className:"space-y-3",children:r.map(z=>{var q,G;return a.jsxs("div",{className:"rounded-[18px] p-4",style:{background:P.bg,boxShadow:(A==null?void 0:A.id)===z.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{xe.current||tr(z)},onTouchStart:Se=>Gt(Se,z),onTouchEnd:dn,onMouseDown:Se=>Gt(Se,z),onMouseUp:dn,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(A==null?void 0:A.id)===z.id?P.accentDark:P.text},children:z.name}),a.jsx(cv,{size:12,style:{color:P.textMuted,flexShrink:0,marginLeft:8}})]}),a.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:P.textMuted},children:z.model_name}),a.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:P.textMuted},children:["T: ",(q=z.temperature)!=null?q:""," | Top-P: ",(G=z.top_p)!=null?G:""," | Max: ",z.max_tokens]})]},z.id)})})]})]})}),L&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>O(!1),children:a.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:P.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:z=>z.stopPropagation(),children:[a.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:P.text},children:""}),a.jsx("input",{type:"text",value:Q,onChange:z=>U(z.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:P.text},autoFocus:!0,onKeyDown:z=>z.key==="Enter"&&Ie()}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text},onClick:()=>O(!1),children:""}),a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:Q.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Ie,disabled:!Q.trim(),children:""})]})]})}),he&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Pe(null),children:a.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:P.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:z=>z.stopPropagation(),children:[a.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:P.text},children:""}),a.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:P.textMuted},children:["",he.name,""]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text},onClick:()=>Pe(null),children:""}),a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d"},onClick:Ql,children:""})]})]})}),Ye&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Y(null),children:a.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:P.bg},onClick:z=>z.stopPropagation(),children:[a.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:P.text},children:""}),a.jsx("input",{autoFocus:!0,type:"text",value:Mt,onChange:z=>Ge(z.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:P.bg,color:P.text},onKeyDown:z=>z.key==="Enter"&&Yt()}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:P.bg,boxShadow:"var(--card-shadow-sm)",color:P.text},onClick:()=>Y(null),children:""}),a.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:Yt,children:""})]})]})}),Ne&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:Ne})})]})}const oe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},kh={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},text:{bg:"rgba(100,170,120,0.12)",color:"#3a9b5c",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},$1=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],U1=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}];function B1({block_type:e}){const t=kh[e]||{bg:"rgba(136,136,160,0.1)",color:oe.textMuted,label:e};return a.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function H1({item:e,expanded:t,onToggle:n,live:r}){return a.jsxs("div",{className:"mb-3 rounded-[18px] overflow-hidden",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},children:[a.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[a.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:oe.bg},children:e.has_tool_calls?a.jsx(mv,{size:15,style:{color:"#b8820a"}}):a.jsx(Wp,{size:15,style:{color:oe.accentDark}})}),a.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r&&a.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:oe.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&a.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),a.jsx("span",{className:"text-[10px]",style:{color:oe.textMuted},children:e.created_at||""})]}),a.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:oe.text},children:e.preview||"()"})]}),t?a.jsx(ev,{size:16,style:{color:oe.textMuted,flexShrink:0}}):a.jsx(Eo,{size:16,style:{color:oe.textMuted,flexShrink:0}})]}),t&&a.jsx("div",{className:"px-4 pb-4",children:e.rounds.map(l=>a.jsxs("div",{className:"mb-3",children:[e.rounds.length>1&&a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),a.jsxs("span",{className:"text-[10px] font-semibold",style:{color:oe.textMuted},children:[" ",l.round_index+1]}),a.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),l.blocks.map((s,o)=>{const i=kh[s.block_type]||{bg:"rgba(136,136,160,0.08)",color:oe.textMuted,label:s.block_type};return a.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:i.bg},children:[a.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[a.jsx(B1,{block_type:s.block_type}),s.tool_name&&a.jsx("span",{className:"text-[10px] font-mono",style:{color:i.color},children:s.tool_name})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:oe.text,maxHeight:200,overflow:"hidden"},children:s.content.length>500?s.content.slice(0,500)+"...":s.content})]},o)})]},l.round_index))})]})}function V1(){const e=Qt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,o]=d.useState(null),[i,u]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[c,p]=d.useState(!1),[f,h]=d.useState(new Set),y=d.useRef(null),[k,v]=d.useState("calm"),[b,x]=d.useState(!1),m=d.useRef(null),g=()=>{l(!0),H("/api/cot?limit=30").then(w=>n(w)).catch(()=>{}).finally(()=>l(!1))};d.useEffect(()=>{g()},[]),d.useEffect(()=>{H("/api/settings/mood").then(w=>{w.mood&&v(w.mood)}).catch(()=>{})},[]),d.useEffect(()=>{if(!b)return;const w=N=>{m.current&&!m.current.contains(N.target)&&x(!1)};return document.addEventListener("pointerdown",w),()=>document.removeEventListener("pointerdown",w)},[b]),d.useEffect(()=>{const w=localStorage.getItem("whisper_token");if(!w)return;const S=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(w)}`;let C,_,T=!1;const R=()=>{T||(C=new WebSocket(S),y.current=C,C.onopen=()=>p(!0),C.onmessage=V=>{try{const A=JSON.parse(V.data);if(A.type==="done"){h(L=>{const O=new Set(L);return O.delete(A.request_id),O});return}const{request_id:B,round_index:Ne,block_type:we,content:le,tool_name:D}=A;n(L=>{const O=L.findIndex(ae=>ae.request_id===B);if(O>=0){const ae={...L[O]},ne=[...ae.rounds],Ce=ne.findIndex(he=>he.round_index===Ne);Ce>=0?ne[Ce]={...ne[Ce],blocks:[...ne[Ce].blocks,{block_type:we,content:le,tool_name:D}]}:(ne.push({round_index:Ne,blocks:[{block_type:we,content:le,tool_name:D}]}),ne.sort((he,Pe)=>he.round_index-Pe.round_index)),ae.rounds=ne,we==="tool_use"&&(ae.has_tool_calls=!0),we==="text"&&!ae.preview&&(ae.preview=le.slice(0,80));const ee=[...L];return ee[O]=ae,ee}return[{request_id:B,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:we==="text"?le.slice(0,80):"",has_tool_calls:we==="tool_use",rounds:[{round_index:Ne,blocks:[{block_type:we,content:le,tool_name:D}]}]},...L]}),h(L=>new Set(L).add(B)),o(B)}catch(A){}},C.onclose=()=>{p(!1),y.current=null,T||(_=setTimeout(R,3e3))},C.onerror=()=>C.close())};return R(),()=>{T=!0,clearTimeout(_),y.current&&(y.current.onclose=null,y.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,shortMode:i==="short",theaterMode:i==="theater"})),H("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const j=w=>{v(w),x(!1),H("/api/settings/mood",{method:"PUT",body:{mood:w}}).catch(()=>{})};return a.jsxs("div",{className:"flex h-full flex-col",style:{background:oe.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:oe.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:oe.text},children:"COT "}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&a.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:g,disabled:r,children:a.jsx(mu,{size:16,style:{color:oe.accentDark},className:r?"animate-spin":""})})]})]}),a.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:a.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[a.jsxs("div",{className:"relative flex",ref:m,children:[a.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:oe.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>x(!b),children:a.jsx("img",{src:`/miniapp/assets/mood/${k}.png`,alt:k,className:"h-6 w-6",style:{imageRendering:"pixelated"}})}),b&&a.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:U1.map((w,N)=>{const S=Math.floor(N/3),C=N%3,_=k===w.key;return a.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:_?"rgba(232,160,191,0.18)":"transparent",boxShadow:[C<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",S<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>j(w.key),children:[a.jsx("img",{src:`/miniapp/assets/mood/${w.key}.png`,alt:w.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:_?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),a.jsx("span",{className:"text-[10px] mt-0.5",style:{color:_?"#d48aab":oe.textMuted},children:w.label})]},w.key)})})]}),a.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,width:240},children:$1.map(w=>a.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===w.key?oe.bg:"transparent",boxShadow:i===w.key?"var(--card-shadow-sm)":"none",color:i===w.key?oe.accentDark:oe.textMuted},onClick:()=>u(w.key),children:w.label},w.key))})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?a.jsx("div",{className:"flex justify-center py-16",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:oe.accent,borderTopColor:"transparent"}})}):t.length===0?a.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[a.jsx(nv,{size:36,style:{color:oe.textMuted,opacity:.5}}),a.jsx("p",{className:"text-[14px]",style:{color:oe.textMuted},children:" COT "})]}):t.map(w=>a.jsx(H1,{item:w,expanded:s===w.request_id,onToggle:()=>o(s===w.request_id?null:w.request_id),live:f.has(w.request_id)},w.request_id))})]})}const Xe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},xs=72;function W1({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,u)=>{const c=n.current,p=r.current;if(!c)return;const f=u?"all .25s ease":"none";if(c.style.transition=f,c.style.transform=`translateX(${i}px)`,p){const h=Math.min(1,Math.abs(i)/xs);p.style.transition=f,p.style.opacity=`${h}`}l.current.cur=i},[]),o=d.useCallback(()=>s(0,!0),[s]);return a.jsxs("div",{className:"relative overflow-hidden rounded-[14px]",children:[a.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:a.jsxs("button",{onClick:()=>{o(),t()},className:"flex h-[calc(100%-8px)] w-[56px] flex-col items-center justify-center gap-0.5 rounded-xl",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.2)"},children:[a.jsx(xu,{size:14,color:"#ef4444"}),a.jsx("span",{className:"text-[9px] font-medium",style:{color:"#ef4444"},children:""})]})}),a.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const u=i.touches[0],c=l.current;c.sx=u.clientX,c.sy=u.clientY,c.base=c.cur,c.drag=!0,c.locked=!1,c.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const u=l.current;if(!u.drag)return;const c=i.touches[0],p=c.clientX-u.sx,f=c.clientY-u.sy;if(!u.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;u.locked=!0,u.horiz=Math.abs(p)>Math.abs(f)}if(!u.horiz){u.drag=!1;return}i.preventDefault();const h=Math.max(-xs,Math.min(0,u.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/xs)}`),u.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-36?-xs:0,!0)},children:e})]})}function X1(){const e=Qt(),[t,n]=d.useState([]),[r,l]=d.useState(null),[s,o]=d.useState(!0),[i,u]=d.useState(!1),c=async()=>{var v;o(!0);try{const x=(v=(await H("/api/sessions?limit=1")).sessions)==null?void 0:v[0];if(!x){o(!1);return}l(x.id);const m=await H(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),u(m.has_more||!1)}catch(b){console.error(b)}o(!1)};d.useEffect(()=>{c()},[]);const p=async v=>{if(r)try{await H(`/api/sessions/${r}/messages/${v}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==v))}catch(b){console.error("Delete failed",b)}},f=async()=>{if(!r||!i||s)return;const v=t[t.length-1];if(v){o(!0);try{const b=await H(`/api/sessions/${r}/messages?limit=50&before_id=${v.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),u(b.has_more||!1)}catch(b){console.error(b)}o(!1)}},h=v=>{if(!v)return"";const b=new Date(v),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=v=>v==="user"?"":v==="assistant"?"AI":"",k=v=>v==="user"?Xe.accentDark:v==="assistant"?"#3a9b5c":Xe.textMuted;return a.jsxs("div",{className:"flex h-full flex-col",style:{background:Xe.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Xe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:Xe.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:Xe.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Xe.bg,boxShadow:s?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:c,disabled:s,children:a.jsx(mu,{size:16,style:{color:Xe.accentDark},className:s?"animate-spin":""})})]}),a.jsx("div",{className:"shrink-0 px-5 pb-2",children:a.jsx("p",{className:"text-[11px]",style:{color:Xe.textMuted},children:""})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s&&t.length===0?a.jsx("div",{className:"flex justify-center py-16",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Xe.accent,borderTopColor:"transparent"}})}):t.length===0?a.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:Xe.textMuted},children:""}):a.jsxs(a.Fragment,{children:[t.map(v=>a.jsx(W1,{onDelete:()=>p(v.id),children:a.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:Xe.bg,boxShadow:"var(--card-shadow-sm)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-[11px] font-semibold",style:{color:k(v.role)},children:y(v.role)}),a.jsx("span",{className:"text-[10px]",style:{color:Xe.textMuted},children:h(v.created_at)})]}),a.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:Xe.text,maxHeight:120,overflow:"hidden"},children:v.content.length>200?v.content.slice(0,200)+"...":v.content})]})},v.id)),i&&a.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:Xe.bg,boxShadow:"var(--card-shadow-sm)",color:Xe.accentDark},onClick:f,disabled:s,children:s?"...":""})]})})]})}const te={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function K1({value:e,onChange:t,onClose:n}){return a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:te.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[a.jsx("span",{className:"text-[15px] font-bold",style:{color:te.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:te.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:a.jsx(Pl,{size:18,style:{color:te.accentDark}})})]}),a.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:te.bg,color:te.text},placeholder:"..."})]})}function Q1(){const e=Qt(),[t,n]=d.useState(""),[r,l]=d.useState(""),[s,o]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(!1),[f,h]=d.useState(!0),[y,k]=d.useState(null),[v,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=S=>{k(S),setTimeout(()=>k(null),2e3)};d.useEffect(()=>{H("/api/user/profile").then(S=>{n(S.nickname||""),l(S.background_url||""),o(S.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),To("user-avatar").then(S=>{S&&u(S)}).catch(function(){})},[]);const j=S=>{var T;const C=(T=S.target.files)==null?void 0:T[0];if(!C)return;const _=new FileReader;_.onload=async R=>{const V=R.target.result;try{await mi("user-avatar",V),u(V)}catch(A){g("")}},_.readAsDataURL(C),S.target.value=""},w=S=>{var T;const C=(T=S.target.files)==null?void 0:T[0];if(!C)return;const _=new FileReader;_.onload=R=>o(R.target.result||""),_.readAsText(C),S.target.value=""},N=async()=>{p(!0);try{const S={nickname:t.trim()||null,background_url:r||null,basic_info:s||null,avatar_url:i?"user-avatar":null};await H("/api/user/profile",{method:"PUT",body:S});try{const C=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...C,...S}))}catch(C){}g("")}catch(S){g("")}finally{p(!1)}};return a.jsxs("div",{className:"flex h-full flex-col",style:{background:te.bg},children:[a.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:te.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:a.jsx(cn,{size:22,style:{color:te.text}})}),a.jsx("h1",{className:"text-[17px] font-bold",style:{color:te.text},children:""}),a.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:te.bg,boxShadow:c?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:N,disabled:c,children:a.jsx(_o,{size:18,style:{color:te.accentDark}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:f?a.jsx("div",{className:"flex h-40 items-center justify-center",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:te.accent,borderTopColor:"transparent"}})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"rounded-[20px] p-5",style:{background:te.bg,boxShadow:"var(--card-shadow)"},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:a.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:te.bg},children:i?a.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):a.jsx("span",{style:{fontSize:24},children:""})})}),a.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:te.accentDark},children:a.jsx(Bp,{size:9,color:"white"})})]}),a.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:j}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:te.textMuted},children:""}),a.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:te.bg,color:te.text}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:te.textMuted},children:""}),a.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:te.bg,color:te.text}})]})]})]})}),a.jsxs("div",{className:"rounded-[20px] p-5",style:{background:te.bg,boxShadow:"var(--card-shadow)"},children:[a.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[a.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:te.textMuted},children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:te.bg},onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},title:"",children:a.jsx(hu,{size:13,style:{color:te.textMuted}})}),a.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:w}),a.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:te.bg},onClick:()=>b(!0),title:"",children:a.jsx(Mo,{size:13,style:{color:te.accentDark}})})]})]}),a.jsx("textarea",{value:s,onChange:S=>o(S.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:te.bg,color:te.text}})]})]})}),v&&a.jsx(K1,{value:s,onChange:o,onClose:()=>b(!1)}),y&&a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:a.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:y})})]})}function Y1(){return d.useEffect(()=>{var t;const e=()=>{var l;const n=(l=window.Telegram)==null?void 0:l.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),a.jsx(Qg,{children:a.jsxs(Wg,{children:[a.jsx(ft,{path:"/",element:a.jsx(vv,{})}),a.jsx(ft,{path:"/profile",element:a.jsx(Q1,{})}),a.jsx(ft,{path:"/world-books",element:a.jsx(Sv,{})}),a.jsx(ft,{path:"/world-books/new",element:a.jsx(Yc,{})}),a.jsx(ft,{path:"/world-books/:id",element:a.jsx(Yc,{})}),a.jsx(ft,{path:"/assistants",element:a.jsx(zv,{})}),a.jsx(ft,{path:"/assistants/new",element:a.jsx(dd,{})}),a.jsx(ft,{path:"/assistants/:id",element:a.jsx(dd,{})}),a.jsx(ft,{path:"/settings",element:a.jsx(z1,{})}),a.jsx(ft,{path:"/settings/api",element:a.jsx(F1,{})}),a.jsx(ft,{path:"/cot",element:a.jsx(V1,{})}),a.jsx(ft,{path:"/messages",element:a.jsx(X1,{})})]})})}wa.createRoot(document.getElementById("root")).render(a.jsx(fe.StrictMode,{children:a.jsx(Y1,{})}));
