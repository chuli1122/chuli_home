function $h(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},wo={},Md={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Qh=Symbol.for("react.memo"),Gh=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Jh(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dd=Object.assign,_d={};function Ar(e,t,n){this.props=e,this.context=t,this.refs=_d,this.updater=n||Td}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rd(){}Rd.prototype=Ar.prototype;function Di(e,t,n){this.props=e,this.context=t,this.refs=_d,this.updater=n||Td}var _i=Di.prototype=new Rd;_i.constructor=Di;Dd(_i,Ar.prototype);_i.isPureReactComponent=!0;var Oc=Array.isArray,zd=Object.prototype.hasOwnProperty,Ri={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)zd.call(t,r)&&!Pd.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:Hs,type:e,key:l,ref:a,props:s,_owner:Ri.current}}function qh(e,t){return{$$typeof:Hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hs}function Zh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ac=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zh(""+e.key):t.toString(36)}function Tl(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hs:case Bh:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Go(a,0):r,Oc(s)?(n="",e!=null&&(n=e.replace(Ac,"$&/")+"/"),Tl(s,t,n,"",function(u){return u})):s!=null&&(zi(s)&&(s=qh(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Oc(e))for(var i=0;i<e.length;i++){l=e[i];var c=r+Go(l,i);a+=Tl(l,t,n,c,s)}else if(c=Jh(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=r+Go(l,i++),a+=Tl(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function nl(e,t,n){if(e==null)return e;var r=[],s=0;return Tl(e,r,"","",function(l){return t.call(n,l,s++)}),r}function em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Dl={transition:null},tm={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Ri};function Ld(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!zi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Ar;te.Fragment=Uh;te.Profiler=Wh;te.PureComponent=Di;te.StrictMode=Hh;te.Suspense=Yh;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;te.act=Ld;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dd({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Ri.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)zd.call(t,c)&&!Pd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Hs,type:e.type,key:s,ref:l,props:r,_owner:a}};te.createContext=function(e){return e={$$typeof:Xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vh,_context:e},e.Consumer=e};te.createElement=Id;te.createFactory=function(e){var t=Id.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Kh,render:e}};te.isValidElement=zi;te.lazy=function(e){return{$$typeof:Gh,_payload:{_status:-1,_result:e},_init:em}};te.memo=function(e,t){return{$$typeof:Qh,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};te.unstable_act=Ld;te.useCallback=function(e,t){return lt.current.useCallback(e,t)};te.useContext=function(e){return lt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};te.useEffect=function(e,t){return lt.current.useEffect(e,t)};te.useId=function(){return lt.current.useId()};te.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return lt.current.useMemo(e,t)};te.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};te.useRef=function(e){return lt.current.useRef(e)};te.useState=function(e){return lt.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return lt.current.useTransition()};te.version="18.3.1";Md.exports=te;var d=Md.exports;const ve=Fh(d),nm=$h({__proto__:null,default:ve},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=d,sm=Symbol.for("react.element"),lm=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,am=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,im={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)om.call(t,r)&&!im.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sm,type:e,key:l,ref:a,props:s,_owner:am.current}}wo.Fragment=lm;wo.jsx=Od;wo.jsxs=Od;Ed.exports=wo;var o=Ed.exports,_a={},Ad={exports:{}},bt={},$d={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,U){var H=P.length;P.push(U);e:for(;0<H;){var q=H-1>>>1,G=P[q];if(0<s(G,U))P[q]=U,P[H]=G,H=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var U=P[0],H=P.pop();if(H!==U){P[0]=H;e:for(var q=0,G=P.length,oe=G>>>1;q<oe;){var de=2*(q+1)-1,Ne=P[de],Z=de+1,fe=P[Z];if(0>s(Ne,H))Z<G&&0>s(fe,Ne)?(P[q]=fe,P[Z]=H,q=Z):(P[q]=Ne,P[de]=H,q=de);else if(Z<G&&0>s(fe,H))P[q]=fe,P[Z]=H,q=Z;else break e}}return U}function s(P,U){var H=P.sortIndex-U.sortIndex;return H!==0?H:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],p=1,f=null,h=3,v=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=P)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function j(P){if(y=!1,g(P),!w)if(n(c)!==null)w=!0,ie(k);else{var U=n(u);U!==null&&V(j,U.startTime-P)}}function k(P,U){w=!1,y&&(y=!1,x(E),E=-1),v=!0;var H=h;try{for(g(U),f=n(c);f!==null&&(!(f.expirationTime>U)||P&&!I());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var G=q(f.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),g(U)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var de=n(u);de!==null&&V(j,de.startTime-U),oe=!1}return oe}finally{f=null,h=H,v=!1}}var C=!1,S=null,E=-1,R=5,z=-1;function I(){return!(e.unstable_now()-z<R)}function _(){if(S!==null){var P=e.unstable_now();z=P;var U=!0;try{U=S(!0,P)}finally{U?M():(C=!1,S=null)}}else C=!1}var M;if(typeof m=="function")M=function(){m(_)};else if(typeof MessageChannel!="undefined"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=_,M=function(){K.postMessage(null)}}else M=function(){b(_,0)};function ie(P){S=P,C||(C=!0,M())}function V(P,U){E=b(function(){P(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,ie(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return P()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=h;h=P;try{return U()}finally{h=H}},e.unstable_scheduleCallback=function(P,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,P={id:p++,callback:U,priorityLevel:P,startTime:H,expirationTime:G,sortIndex:-1},H>q?(P.sortIndex=H,t(u,P),n(c)===null&&P===n(u)&&(y?(x(E),E=-1):y=!0,V(j,H-q))):(P.sortIndex=G,t(c,P),w||v||(w=!0,ie(k))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var U=h;return function(){var H=h;h=U;try{return P.apply(this,arguments)}finally{h=H}}}})(Fd);$d.exports=Fd;var cm=$d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=d,wt=cm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,bs={};function tr(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(bs[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var an=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ra=Object.prototype.hasOwnProperty,dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Fc={};function fm(e){return Ra.call(Fc,e)?!0:Ra.call($c,e)?!1:dm.test(e)?Fc[e]=!0:($c[e]=!0,!1)}function pm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hm(e,t,n,r){if(t===null||typeof t=="undefined"||pm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pi=/[\-:]([a-z])/g;function Ii(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pi,Ii);Ye[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pi,Ii);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pi,Ii);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Li(e,t,n,r){var s=Ye.hasOwnProperty(t)?Ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hm(t,n,s,r)&&(n=null),r||s===null?fm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Oi=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),Ai=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),$i=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Wd=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Jo;function ls(e){if(Jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jo=t&&t[1]||""}return`
`+Jo+e}var qo=!1;function Zo(e,t){if(!e||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,i=l.length-1;1<=a&&0<=i&&s[a]!==l[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==l[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==l[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ls(e):""}function mm(e){switch(e.tag){case 5:return ls(e.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return e=Zo(e.type,!1),e;case 11:return e=Zo(e.type.render,!1),e;case 1:return e=Zo(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case za:return"Profiler";case Oi:return"StrictMode";case Pa:return"Suspense";case Ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hd:return(e.displayName||"Context")+".Consumer";case Ud:return(e._context.displayName||"Context")+".Provider";case Ai:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $i:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return La(e(t))}catch(n){}}return null}function xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===Oi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gm(e){var t=Vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sl(e){e._valueTracker||(e._valueTracker=gm(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Oa(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=In(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kd(e,t){t=t.checked,t!=null&&Li(e,"checked",t,!1)}function Aa(e,t){Kd(e,t);var n=In(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$a(e,t.type,n):t.hasOwnProperty("defaultValue")&&$a(e,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $a(e,t,n){(t!=="number"||Ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var os=Array.isArray;function kr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+In(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(os(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:In(n)}}function Yd(e,t){var n=In(t.value),r=In(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ll,Gd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function Jd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vm=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(e,t){if(t){if(vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,jr=null,Sr=null;function Xc(e){if(e=Xs(e)){if(typeof Va!="function")throw Error(D(280));var t=e.stateNode;t&&(t=No(t),Va(e.stateNode,e.type,t))}}function Zd(e){jr?Sr?Sr.push(e):Sr=[e]:jr=e}function ef(){if(jr){var e=jr,t=Sr;if(Sr=jr=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function tf(e,t){return e(t)}function nf(){}var ea=!1;function rf(e,t,n){if(ea)return e(t,n);ea=!0;try{return tf(e,t,n)}finally{ea=!1,(jr!==null||Sr!==null)&&(nf(),ef())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Xa=!1;if(an)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch(e){Xa=!1}function wm(e,t,n,r,s,l,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var us=!1,Hl=null,Wl=!1,Ka=null,bm={onError:function(e){us=!0,Hl=e}};function km(e,t,n,r,s,l,a,i,c){us=!1,Hl=null,wm.apply(bm,arguments)}function jm(e,t,n,r,s,l,a,i,c){if(km.apply(this,arguments),us){if(us){var u=Hl;us=!1,Hl=null}else throw Error(D(198));Wl||(Wl=!0,Ka=u)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kc(e){if(nr(e)!==e)throw Error(D(188))}function Sm(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Kc(s),e;if(l===r)return Kc(s),t;l=l.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a){for(i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function lf(e){return e=Sm(e),e!==null?of(e):null}function of(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=of(e);if(t!==null)return t;e=e.sibling}return null}var af=wt.unstable_scheduleCallback,Yc=wt.unstable_cancelCallback,Nm=wt.unstable_shouldYield,Cm=wt.unstable_requestPaint,Re=wt.unstable_now,Em=wt.unstable_getCurrentPriorityLevel,Bi=wt.unstable_ImmediatePriority,cf=wt.unstable_UserBlockingPriority,Vl=wt.unstable_NormalPriority,Mm=wt.unstable_LowPriority,uf=wt.unstable_IdlePriority,bo=null,Gt=null;function Tm(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Ft=Math.clz32?Math.clz32:Rm,Dm=Math.log,_m=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Dm(e)/_m|0)|0}var ol=64,al=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=as(i):(l&=a,l!==0&&(r=as(l)))}else a=n&~s,a!==0?r=as(a):l!==0&&(r=as(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),s=1<<n,r|=e[n],t&=~s;return r}function zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Ft(l),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=zm(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function df(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function ta(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Im(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ft(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pf,Hi,hf,mf,xf,Qa=!1,il=[],En=null,Mn=null,Tn=null,Ss=new Map,Ns=new Map,kn=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function qr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Xs(t),t!==null&&Hi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Om(e,t,n,r,s){switch(t){case"focusin":return En=qr(En,e,t,n,r,s),!0;case"dragenter":return Mn=qr(Mn,e,t,n,r,s),!0;case"mouseover":return Tn=qr(Tn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Ss.set(l,qr(Ss.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Ns.set(l,qr(Ns.get(l)||null,e,t,n,r,s)),!0}return!1}function gf(e){var t=Wn(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=sf(n),t!==null){e.blockedOn=t,xf(e.priority,function(){hf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wa=r,n.target.dispatchEvent(r),Wa=null}else return t=Xs(n),t!==null&&Hi(t),e.blockedOn=n,!1;t.shift()}return!0}function Gc(e,t,n){_l(e)&&n.delete(t)}function Am(){Qa=!1,En!==null&&_l(En)&&(En=null),Mn!==null&&_l(Mn)&&(Mn=null),Tn!==null&&_l(Tn)&&(Tn=null),Ss.forEach(Gc),Ns.forEach(Gc)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Qa||(Qa=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Am)))}function Cs(e){function t(s){return Zr(s,e)}if(0<il.length){Zr(il[0],e);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&Zr(En,e),Mn!==null&&Zr(Mn,e),Tn!==null&&Zr(Tn,e),Ss.forEach(t),Ns.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)gf(n),n.blockedOn===null&&kn.shift()}var Nr=fn.ReactCurrentBatchConfig,Kl=!0;function $m(e,t,n,r){var s=pe,l=Nr.transition;Nr.transition=null;try{pe=1,Wi(e,t,n,r)}finally{pe=s,Nr.transition=l}}function Fm(e,t,n,r){var s=pe,l=Nr.transition;Nr.transition=null;try{pe=4,Wi(e,t,n,r)}finally{pe=s,Nr.transition=l}}function Wi(e,t,n,r){if(Kl){var s=Ga(e,t,n,r);if(s===null)da(e,t,r,Yl,n),Qc(e,r);else if(Om(s,e,t,n,r))r.stopPropagation();else if(Qc(e,r),t&4&&-1<Lm.indexOf(e)){for(;s!==null;){var l=Xs(s);if(l!==null&&pf(l),l=Ga(e,t,n,r),l===null&&da(e,t,r,Yl,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else da(e,t,r,null,n)}}var Yl=null;function Ga(e,t,n,r){if(Yl=null,e=Fi(r),e=Wn(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yl=e,null}function yf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case Bi:return 1;case cf:return 4;case Vl:case Mm:return 16;case uf:return 536870912;default:return 16}default:return 16}}var Sn=null,Vi=null,Rl=null;function vf(){if(Rl)return Rl;var e,t=Vi,n=t.length,r,s="value"in Sn?Sn.value:Sn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return Rl=s.slice(e,1<r?1-r:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Jc(){return!1}function kt(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cl:Jc,this.isPropagationStopped=Jc,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=kt($r),Vs=Se({},$r,{view:0,detail:0}),Bm=kt(Vs),na,ra,es,ko=Se({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(na=e.screenX-es.screenX,ra=e.screenY-es.screenY):ra=na=0,es=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),qc=kt(ko),Um=Se({},ko,{dataTransfer:0}),Hm=kt(Um),Wm=Se({},Vs,{relatedTarget:0}),sa=kt(Wm),Vm=Se({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=kt(Vm),Km=Se({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ym=kt(Km),Qm=Se({},$r,{data:0}),Zc=kt(Qm),Gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function Ki(){return Zm}var ex=Se({},Vs,{key:function(e){if(e.key){var t=Gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tx=kt(ex),nx=Se({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=kt(nx),rx=Se({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),sx=kt(rx),lx=Se({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=kt(lx),ax=Se({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ix=kt(ax),cx=[9,13,27,32],Yi=an&&"CompositionEvent"in window,ds=null;an&&"documentMode"in document&&(ds=document.documentMode);var ux=an&&"TextEvent"in window&&!ds,wf=an&&(!Yi||ds&&8<ds&&11>=ds),tu=" ",nu=!1;function bf(e,t){switch(e){case"keyup":return cx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function dx(e,t){switch(e){case"compositionend":return kf(t);case"keypress":return t.which!==32?null:(nu=!0,tu);case"textInput":return e=t.data,e===tu&&nu?null:e;default:return null}}function fx(e,t){if(dr)return e==="compositionend"||!Yi&&bf(e,t)?(e=vf(),Rl=Vi=Sn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!px[e.type]:t==="textarea"}function jf(e,t,n,r){Zd(r),t=Ql(t,"onChange"),0<t.length&&(n=new Xi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Es=null;function hx(e){Pf(e,0)}function jo(e){var t=hr(e);if(Xd(t))return e}function mx(e,t){if(e==="change")return t}var Sf=!1;if(an){var la;if(an){var oa="oninput"in document;if(!oa){var su=document.createElement("div");su.setAttribute("oninput","return;"),oa=typeof su.oninput=="function"}la=oa}else la=!1;Sf=la&&(!document.documentMode||9<document.documentMode)}function lu(){fs&&(fs.detachEvent("onpropertychange",Nf),Es=fs=null)}function Nf(e){if(e.propertyName==="value"&&jo(Es)){var t=[];jf(t,Es,e,Fi(e)),rf(hx,t)}}function xx(e,t,n){e==="focusin"?(lu(),fs=t,Es=n,fs.attachEvent("onpropertychange",Nf)):e==="focusout"&&lu()}function gx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Es)}function yx(e,t){if(e==="click")return jo(t)}function vx(e,t){if(e==="input"||e==="change")return jo(t)}function wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:wx;function Ms(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ra.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var n=ou(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ou(n)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function Qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bx(e){var t=Ef(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cf(n.ownerDocument.documentElement,n)){if(r!==null&&Qi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=au(n,l);var a=au(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kx=an&&"documentMode"in document&&11>=document.documentMode,fr=null,Ja=null,ps=null,qa=!1;function iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||fr==null||fr!==Ul(r)||(r=fr,"selectionStart"in r&&Qi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Ms(ps,r)||(ps=r,r=Ql(Ja,"onSelect"),0<r.length&&(t=new Xi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},aa={},Mf={};an&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function So(e){if(aa[e])return aa[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mf)return aa[e]=t[n];return e}var Tf=So("animationend"),Df=So("animationiteration"),_f=So("animationstart"),Rf=So("transitionend"),zf=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){zf.set(e,t),tr(t,[e])}for(var ia=0;ia<cu.length;ia++){var ca=cu[ia],jx=ca.toLowerCase(),Sx=ca[0].toUpperCase()+ca.slice(1);An(jx,"on"+Sx)}An(Tf,"onAnimationEnd");An(Df,"onAnimationIteration");An(_f,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Rf,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jm(r,t,void 0,e),e.currentTarget=null}function Pf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;uu(s,i,u),l=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;uu(s,i,u),l=c}}}if(Wl)throw e=Ka,Wl=!1,Ka=null,e}function ye(e,t){var n=t[ri];n===void 0&&(n=t[ri]=new Set);var r=e+"__bubble";n.has(r)||(If(t,e,2,!1),n.add(r))}function ua(e,t,n){var r=0;t&&(r|=4),If(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ts(e){if(!e[dl]){e[dl]=!0,Bd.forEach(function(n){n!=="selectionchange"&&(Nx.has(n)||ua(n,!1,e),ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,ua("selectionchange",!1,t))}}function If(e,t,n,r){switch(yf(t)){case 1:var s=$m;break;case 4:s=Fm;break;default:s=Wi}n=s.bind(null,t,n,e),s=void 0,!Xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function da(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Wn(i),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}i=i.parentNode}}r=r.return}rf(function(){var u=l,p=Fi(n),f=[];e:{var h=zf.get(e);if(h!==void 0){var v=Xi,w=e;switch(e){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":v=tx;break;case"focusin":w="focus",v=sa;break;case"focusout":w="blur",v=sa;break;case"beforeblur":case"afterblur":v=sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=sx;break;case Tf:case Df:case _f:v=Xm;break;case Rf:v=ox;break;case"scroll":v=Bm;break;case"wheel":v=ix;break;case"copy":case"cut":case"paste":v=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eu}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=js(m,x),j!=null&&y.push(Ds(m,j,g)))),b)break;m=m.return}0<y.length&&(h=new v(h,w,null,n,p),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Wa&&(w=n.relatedTarget||n.fromElement)&&(Wn(w)||w[cn]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Wn(w):null,w!==null&&(b=nr(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=qc,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=eu,j="onPointerLeave",x="onPointerEnter",m="pointer"),b=v==null?h:hr(v),g=w==null?h:hr(w),h=new y(j,m+"leave",v,n,p),h.target=b,h.relatedTarget=g,j=null,Wn(p)===u&&(y=new y(x,m+"enter",w,n,p),y.target=g,y.relatedTarget=b,j=y),b=j,v&&w)t:{for(y=v,x=w,m=0,g=y;g;g=ar(g))m++;for(g=0,j=x;j;j=ar(j))g++;for(;0<m-g;)y=ar(y),m--;for(;0<g-m;)x=ar(x),g--;for(;m--;){if(y===x||x!==null&&y===x.alternate)break t;y=ar(y),x=ar(x)}y=null}else y=null;v!==null&&du(f,h,v,y,!1),w!==null&&b!==null&&du(f,b,w,y,!0)}}e:{if(h=u?hr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var k=mx;else if(ru(h))if(Sf)k=vx;else{k=gx;var C=xx}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=yx);if(k&&(k=k(e,u))){jf(f,k,n,p);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&$a(h,"number",h.value)}switch(C=u?hr(u):window,e){case"focusin":(ru(C)||C.contentEditable==="true")&&(fr=C,Ja=u,ps=null);break;case"focusout":ps=Ja=fr=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,iu(f,n,p);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":iu(f,n,p)}var S;if(Yi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else dr?bf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(wf&&n.locale!=="ko"&&(dr||E!=="onCompositionStart"?E==="onCompositionEnd"&&dr&&(S=vf()):(Sn=p,Vi="value"in Sn?Sn.value:Sn.textContent,dr=!0)),C=Ql(u,E),0<C.length&&(E=new Zc(E,e,null,n,p),f.push({event:E,listeners:C}),S?E.data=S:(S=kf(n),S!==null&&(E.data=S)))),(S=ux?dx(e,n):fx(e,n))&&(u=Ql(u,"onBeforeInput"),0<u.length&&(p=new Zc("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=S))}Pf(f,t)})}function Ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=js(e,n),l!=null&&r.unshift(Ds(e,l,s)),l=js(e,t),l!=null&&r.push(Ds(e,l,s))),e=e.return}return r}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function du(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=js(n,l),c!=null&&a.unshift(Ds(n,c,i))):s||(c=js(n,l),c!=null&&a.push(Ds(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(Cx,`
`).replace(Ex,"")}function fl(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(D(425))}function Gl(){}var Za=null,ei=null;function ti(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ni=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof pu!="undefined"?function(e){return pu.resolve(null).then(e).catch(Dx)}:ni;function Dx(e){setTimeout(function(){throw e})}function fa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cs(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Fr,_s="__reactProps$"+Fr,cn="__reactContainer$"+Fr,ri="__reactEvents$"+Fr,_x="__reactListeners$"+Fr,Rx="__reactHandles$"+Fr;function Wn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hu(e);e!==null;){if(n=e[Qt])return n;e=hu(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[Qt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function No(e){return e[_s]||null}var si=[],mr=-1;function $n(e){return{current:e}}function we(e){0>mr||(e.current=si[mr],si[mr]=null,mr--)}function ge(e,t){mr++,si[mr]=e.current,e.current=t}var Ln={},tt=$n(Ln),dt=$n(!1),Gn=Ln;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function Jl(){we(dt),we(tt)}function mu(e,t,n){if(tt.current!==Ln)throw Error(D(168));ge(tt,t),ge(dt,n)}function Lf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,xm(e)||"Unknown",s));return Se({},n,r)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Gn=tt.current,ge(tt,e),ge(dt,dt.current),!0}function xu(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Lf(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,we(dt),we(tt),ge(tt,e)):we(dt),ge(dt,n)}var rn=null,Co=!1,pa=!1;function Of(e){rn===null?rn=[e]:rn.push(e)}function zx(e){Co=!0,Of(e)}function Fn(){if(!pa&&rn!==null){pa=!0;var e=0,t=pe;try{var n=rn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Co=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),af(Bi,Fn),s}finally{pe=t,pa=!1}}return null}var xr=[],gr=0,Zl=null,eo=0,Et=[],Mt=0,Jn=null,sn=1,ln="";function Un(e,t){xr[gr++]=eo,xr[gr++]=Zl,Zl=e,eo=t}function Af(e,t,n){Et[Mt++]=sn,Et[Mt++]=ln,Et[Mt++]=Jn,Jn=e;var r=sn;e=ln;var s=32-Ft(r)-1;r&=~(1<<s),n+=1;var l=32-Ft(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,sn=1<<32-Ft(t)+s|n<<s|r,ln=l+e}else sn=1<<l|n<<s|r,ln=e}function Gi(e){e.return!==null&&(Un(e,1),Af(e,1,0))}function Ji(e){for(;e===Zl;)Zl=xr[--gr],xr[gr]=null,eo=xr[--gr],xr[gr]=null;for(;e===Jn;)Jn=Et[--Mt],Et[Mt]=null,ln=Et[--Mt],Et[Mt]=null,sn=Et[--Mt],Et[Mt]=null}var vt=null,yt=null,be=!1,$t=null;function $f(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:sn,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,yt=null,!0):!1;default:return!1}}function li(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oi(e){if(be){var t=yt;if(t){var n=t;if(!gu(e,t)){if(li(e))throw Error(D(418));t=Dn(n.nextSibling);var r=vt;t&&gu(e,t)?$f(r,n):(e.flags=e.flags&-4097|2,be=!1,vt=e)}}else{if(li(e))throw Error(D(418));e.flags=e.flags&-4097|2,be=!1,vt=e}}}function yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function pl(e){if(e!==vt)return!1;if(!be)return yu(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ti(e.type,e.memoizedProps)),t&&(t=yt)){if(li(e))throw Ff(),Error(D(418));for(;t;)$f(e,t),t=Dn(t.nextSibling)}if(yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Dn(e.stateNode.nextSibling):null;return!0}function Ff(){for(var e=yt;e;)e=Dn(e.nextSibling)}function _r(){yt=vt=null,be=!1}function qi(e){$t===null?$t=[e]:$t.push(e)}var Px=fn.ReactCurrentBatchConfig;function ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var i=s.refs;a===null?delete i[l]:i[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vu(e){var t=e._init;return t(e._payload)}function Bf(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=Pn(x,m),x.index=0,x.sibling=null,x}function l(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,j){return m===null||m.tag!==6?(m=wa(g,x.mode,j),m.return=x,m):(m=s(m,g),m.return=x,m)}function c(x,m,g,j){var k=g.type;return k===ur?p(x,m,g.props.children,j,g.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&vu(k)===m.type)?(j=s(m,g.props),j.ref=ts(x,m,g),j.return=x,j):(j=Fl(g.type,g.key,g.props,null,x.mode,j),j.ref=ts(x,m,g),j.return=x,j)}function u(x,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ba(g,x.mode,j),m.return=x,m):(m=s(m,g.children||[]),m.return=x,m)}function p(x,m,g,j,k){return m===null||m.tag!==7?(m=Yn(g,x.mode,j,k),m.return=x,m):(m=s(m,g),m.return=x,m)}function f(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wa(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rl:return g=Fl(m.type,m.key,m.props,null,x.mode,g),g.ref=ts(x,null,m),g.return=x,g;case cr:return m=ba(m,x.mode,g),m.return=x,m;case vn:var j=m._init;return f(x,j(m._payload),g)}if(os(m)||Gr(m))return m=Yn(m,x.mode,g,null),m.return=x,m;hl(x,m)}return null}function h(x,m,g,j){var k=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:i(x,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:return g.key===k?c(x,m,g,j):null;case cr:return g.key===k?u(x,m,g,j):null;case vn:return k=g._init,h(x,m,k(g._payload),j)}if(os(g)||Gr(g))return k!==null?null:p(x,m,g,j,null);hl(x,g)}return null}function v(x,m,g,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,i(m,x,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rl:return x=x.get(j.key===null?g:j.key)||null,c(m,x,j,k);case cr:return x=x.get(j.key===null?g:j.key)||null,u(m,x,j,k);case vn:var C=j._init;return v(x,m,g,C(j._payload),k)}if(os(j)||Gr(j))return x=x.get(g)||null,p(m,x,j,k,null);hl(m,j)}return null}function w(x,m,g,j){for(var k=null,C=null,S=m,E=m=0,R=null;S!==null&&E<g.length;E++){S.index>E?(R=S,S=null):R=S.sibling;var z=h(x,S,g[E],j);if(z===null){S===null&&(S=R);break}e&&S&&z.alternate===null&&t(x,S),m=l(z,m,E),C===null?k=z:C.sibling=z,C=z,S=R}if(E===g.length)return n(x,S),be&&Un(x,E),k;if(S===null){for(;E<g.length;E++)S=f(x,g[E],j),S!==null&&(m=l(S,m,E),C===null?k=S:C.sibling=S,C=S);return be&&Un(x,E),k}for(S=r(x,S);E<g.length;E++)R=v(S,x,E,g[E],j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=l(R,m,E),C===null?k=R:C.sibling=R,C=R);return e&&S.forEach(function(I){return t(x,I)}),be&&Un(x,E),k}function y(x,m,g,j){var k=Gr(g);if(typeof k!="function")throw Error(D(150));if(g=k.call(g),g==null)throw Error(D(151));for(var C=k=null,S=m,E=m=0,R=null,z=g.next();S!==null&&!z.done;E++,z=g.next()){S.index>E?(R=S,S=null):R=S.sibling;var I=h(x,S,z.value,j);if(I===null){S===null&&(S=R);break}e&&S&&I.alternate===null&&t(x,S),m=l(I,m,E),C===null?k=I:C.sibling=I,C=I,S=R}if(z.done)return n(x,S),be&&Un(x,E),k;if(S===null){for(;!z.done;E++,z=g.next())z=f(x,z.value,j),z!==null&&(m=l(z,m,E),C===null?k=z:C.sibling=z,C=z);return be&&Un(x,E),k}for(S=r(x,S);!z.done;E++,z=g.next())z=v(S,x,E,z.value,j),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?E:z.key),m=l(z,m,E),C===null?k=z:C.sibling=z,C=z);return e&&S.forEach(function(_){return t(x,_)}),be&&Un(x,E),k}function b(x,m,g,j){if(typeof g=="object"&&g!==null&&g.type===ur&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:e:{for(var k=g.key,C=m;C!==null;){if(C.key===k){if(k=g.type,k===ur){if(C.tag===7){n(x,C.sibling),m=s(C,g.props.children),m.return=x,x=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&vu(k)===C.type){n(x,C.sibling),m=s(C,g.props),m.ref=ts(x,C,g),m.return=x,x=m;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===ur?(m=Yn(g.props.children,x.mode,j,g.key),m.return=x,x=m):(j=Fl(g.type,g.key,g.props,null,x.mode,j),j.ref=ts(x,m,g),j.return=x,x=j)}return a(x);case cr:e:{for(C=g.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=s(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=ba(g,x.mode,j),m.return=x,x=m}return a(x);case vn:return C=g._init,b(x,m,C(g._payload),j)}if(os(g))return w(x,m,g,j);if(Gr(g))return y(x,m,g,j);hl(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,g),m.return=x,x=m):(n(x,m),m=wa(g,x.mode,j),m.return=x,x=m),a(x)):n(x,m)}return b}var Rr=Bf(!0),Uf=Bf(!1),to=$n(null),no=null,yr=null,Zi=null;function ec(){Zi=yr=no=null}function tc(e){var t=to.current;we(to),e._currentValue=t}function ai(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){no=e,Zi=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Zi!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(no===null)throw Error(D(308));yr=e,no.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Vn=null;function nc(e){Vn===null?Vn=[e]:Vn.push(e)}function Hf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,nc(t)):(n.next=s.next,s.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,un(e,n)}return s=r.interleaved,s===null?(t.next=t,nc(r)):(t.next=s.next,s.next=t),r.interleaved=t,un(e,n)}function Pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}function wu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ro(e,t,n,r){var s=e.updateQueue;wn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(l!==null){var f=s.baseState;a=0,p=u=c=null,i=l;do{var h=i.lane,v=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,y=i;switch(h=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(v,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(v,f,h):w,h==null)break e;f=Se({},f,h);break e;case 2:wn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else v={eventTime:v,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=v,c=f):p=p.next=v,a|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(p===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Zn|=a,e.lanes=a,e.memoizedState=f}}function bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ks={},Jt=$n(Ks),Rs=$n(Ks),zs=$n(Ks);function Xn(e){if(e===Ks)throw Error(D(174));return e}function sc(e,t){switch(ge(zs,t),ge(Rs,e),ge(Jt,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ba(t,e)}we(Jt),ge(Jt,t)}function zr(){we(Jt),we(Rs),we(zs)}function Vf(e){Xn(zs.current);var t=Xn(Jt.current),n=Ba(t,e.type);t!==n&&(ge(Rs,e),ge(Jt,n))}function lc(e){Rs.current===e&&(we(Jt),we(Rs))}var ke=$n(0);function so(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function oc(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var Il=fn.ReactCurrentDispatcher,ma=fn.ReactCurrentBatchConfig,qn=0,je=null,Ie=null,Ue=null,lo=!1,hs=!1,Ps=0,Ix=0;function qe(){throw Error(D(321))}function ac(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function ic(e,t,n,r,s,l){if(qn=l,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Il.current=e===null||e.memoizedState===null?$x:Fx,e=n(r,s),hs){l=0;do{if(hs=!1,Ps=0,25<=l)throw Error(D(301));l+=1,Ue=Ie=null,t.updateQueue=null,Il.current=Bx,e=n(r,s)}while(hs)}if(Il.current=oo,t=Ie!==null&&Ie.next!==null,qn=0,Ue=Ie=je=null,lo=!1,t)throw Error(D(300));return e}function cc(){var e=Ps!==0;return Ps=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?je.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Rt(){if(Ie===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Ue===null?je.memoizedState:Ue.next;if(t!==null)Ue=t,Ie=e;else{if(e===null)throw Error(D(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ue===null?je.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Is(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=Rt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=a=null,c=null,u=l;do{var p=u.lane;if((qn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,a=r):c=c.next=f,je.lanes|=p,Zn|=p}u=u.next}while(u!==null&&u!==l);c===null?a=r:c.next=i,Ut(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,je.lanes|=l,Zn|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ga(e){var t=Rt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Ut(l,t.memoizedState)||(ut=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Xf(){}function Kf(e,t){var n=je,r=Rt(),s=t(),l=!Ut(r.memoizedState,s);if(l&&(r.memoizedState=s,ut=!0),r=r.queue,uc(Gf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Qf.bind(null,n,r,s,t),void 0,null),We===null)throw Error(D(349));qn&30||Yf(n,t,s)}return s}function Yf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qf(e,t,n,r){t.value=n,t.getSnapshot=r,Jf(t)&&qf(e)}function Gf(e,t,n){return n(function(){Jf(t)&&qf(e)})}function Jf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch(r){return!0}}function qf(e){var t=un(e,1);t!==null&&Bt(t,e,1,-1)}function ku(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=Ax.bind(null,je,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zf(){return Rt().memoizedState}function Ll(e,t,n,r){var s=Yt();je.flags|=e,s.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function Eo(e,t,n,r){var s=Rt();r=r===void 0?null:r;var l=void 0;if(Ie!==null){var a=Ie.memoizedState;if(l=a.destroy,r!==null&&ac(r,a.deps)){s.memoizedState=Ls(t,n,l,r);return}}je.flags|=e,s.memoizedState=Ls(1|t,n,l,r)}function ju(e,t){return Ll(8390656,8,e,t)}function uc(e,t){return Eo(2048,8,e,t)}function ep(e,t){return Eo(4,2,e,t)}function tp(e,t){return Eo(4,4,e,t)}function np(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rp(e,t,n){return n=n!=null?n.concat([e]):null,Eo(4,4,np.bind(null,t,e),n)}function dc(){}function sp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ac(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ac(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function op(e,t,n){return qn&21?(Ut(n,t)||(n=df(),je.lanes|=n,Zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function Lx(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=ma.transition;ma.transition={};try{e(!1),t()}finally{pe=n,ma.transition=r}}function ap(){return Rt().memoizedState}function Ox(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ip(e))cp(t,n);else if(n=Hf(e,t,n,r),n!==null){var s=st();Bt(n,e,r,s),up(n,t,r)}}function Ax(e,t,n){var r=zn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ip(e))cp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,i=l(a,n);if(s.hasEagerState=!0,s.eagerState=i,Ut(i,a)){var c=t.interleaved;c===null?(s.next=s,nc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch(u){}finally{}n=Hf(e,t,s,r),n!==null&&(s=st(),Bt(n,e,r,s),up(n,t,r))}}function ip(e){var t=e.alternate;return e===je||t!==null&&t===je}function cp(e,t){hs=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}var oo={readContext:_t,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},$x={readContext:_t,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:ju,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4194308,4,np.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ox.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:ku,useDebugValue:dc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=ku(!1),t=e[0];return e=Lx.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=Yt();if(be){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),We===null)throw Error(D(349));qn&30||Yf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ju(Gf.bind(null,r,l,e),[e]),r.flags|=2048,Ls(9,Qf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Yt(),t=We.identifierPrefix;if(be){var n=ln,r=sn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ix++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fx={readContext:_t,useCallback:sp,useContext:_t,useEffect:uc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:lp,useReducer:xa,useRef:Zf,useState:function(){return xa(Is)},useDebugValue:dc,useDeferredValue:function(e){var t=Rt();return op(t,Ie.memoizedState,e)},useTransition:function(){var e=xa(Is)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Kf,useId:ap,unstable_isNewReconciler:!1},Bx={readContext:_t,useCallback:sp,useContext:_t,useEffect:uc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:lp,useReducer:ga,useRef:Zf,useState:function(){return ga(Is)},useDebugValue:dc,useDeferredValue:function(e){var t=Rt();return Ie===null?t.memoizedState=e:op(t,Ie.memoizedState,e)},useTransition:function(){var e=ga(Is)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Kf,useId:ap,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ii(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=zn(e),l=on(r,s);l.payload=t,n!=null&&(l.callback=n),t=_n(e,l,s),t!==null&&(Bt(t,e,s,r),Pl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=zn(e),l=on(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=_n(e,l,s),t!==null&&(Bt(t,e,s,r),Pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=zn(e),s=on(n,r);s.tag=2,t!=null&&(s.callback=t),t=_n(e,s,r),t!==null&&(Bt(t,e,r,n),Pl(t,e,r))}};function Su(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,r)||!Ms(s,l):!0}function dp(e,t,n){var r=!1,s=Ln,l=t.contextType;return typeof l=="object"&&l!==null?l=_t(l):(s=ft(t)?Gn:tt.current,r=t.contextTypes,l=(r=r!=null)?Dr(e,s):Ln),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Nu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},rc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=_t(l):(l=ft(t)?Gn:tt.current,s.context=Dr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ii(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mo.enqueueReplaceState(s,s.state,null),ro(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var n="",r=t;do n+=mm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ya(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function fp(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){io||(io=!0,wi=r),ui(e,t)},n}function pp(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ui(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ui(e,t),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ux;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ng.bind(null,e,t,n),t.then(e,e))}function Eu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Hx=fn.ReactCurrentOwner,ut=!1;function rt(e,t,n,r){t.child=e===null?Uf(t,null,n,r):Rr(t,e.child,n,r)}function Tu(e,t,n,r,s){n=n.render;var l=t.ref;return Cr(t,s),r=ic(e,t,n,r,l,s),n=cc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(be&&n&&Gi(t),t.flags|=1,rt(e,t,r,s),t.child)}function Du(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!vc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hp(e,t,l,r,s)):(e=Fl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(a,r)&&e.ref===t.ref)return dn(e,t,s)}return t.flags|=1,e=Pn(l,r),e.ref=t.ref,e.return=t,t.child=e}function hp(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Ms(l,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,dn(e,t,s)}return di(e,t,n,r,s)}function mp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(wr,gt),gt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(wr,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ge(wr,gt),gt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ge(wr,gt),gt|=r;return rt(e,t,s,n),t.child}function xp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function di(e,t,n,r,s){var l=ft(n)?Gn:tt.current;return l=Dr(t,l),Cr(t,s),n=ic(e,t,n,r,l,s),r=cc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(be&&r&&Gi(t),t.flags|=1,rt(e,t,n,s),t.child)}function _u(e,t,n,r,s){if(ft(n)){var l=!0;ql(t)}else l=!1;if(Cr(t,s),t.stateNode===null)Ol(e,t),dp(t,n,r),ci(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=ft(n)?Gn:tt.current,u=Dr(t,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&Nu(t,a,r,u),wn=!1;var h=t.memoizedState;a.state=h,ro(t,r,a,s),c=t.memoizedState,i!==r||h!==c||dt.current||wn?(typeof p=="function"&&(ii(t,n,p,r),c=t.memoizedState),(i=wn||Su(t,n,i,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Wf(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Ot(t.type,i),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=ft(n)?Gn:tt.current,c=Dr(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==c)&&Nu(t,a,r,c),wn=!1,h=t.memoizedState,a.state=h,ro(t,r,a,s);var w=t.memoizedState;i!==f||h!==w||dt.current||wn?(typeof v=="function"&&(ii(t,n,v,r),w=t.memoizedState),(u=wn||Su(t,n,u,r,h,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return fi(e,t,n,r,l,s)}function fi(e,t,n,r,s,l){xp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&xu(t,n,!1),dn(e,t,l);r=t.stateNode,Hx.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Rr(t,e.child,null,l),t.child=Rr(t,null,i,l)):rt(e,t,i,l),t.memoizedState=r.state,s&&xu(t,n,!0),t.child}function gp(e){var t=e.stateNode;t.pendingContext?mu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mu(e,t.context,!1),sc(e,t.containerInfo)}function Ru(e,t,n,r,s){return _r(),qi(s),t.flags|=256,rt(e,t,n,r),t.child}var pi={dehydrated:null,treeContext:null,retryLane:0};function hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function yp(e,t,n){var r=t.pendingProps,s=ke.current,l=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(ke,s&1),e===null)return oi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=_o(a,r,0,null),e=Yn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=hi(n),t.memoizedState=pi,e):fc(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Wx(e,t,a,r,i,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=Pn(i,l):(l=Yn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?hi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=pi,r}return l=e.child,e=l.sibling,r=Pn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=_o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&qi(r),Rr(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wx(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=ya(Error(D(422))),ml(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=_o({mode:"visible",children:r.children},s,0,null),l=Yn(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Rr(t,e.child,null,a),t.child.memoizedState=hi(a),t.memoizedState=pi,l);if(!(t.mode&1))return ml(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(D(419)),r=ya(l,r,void 0),ml(e,t,a,r)}if(i=(a&e.childLanes)!==0,ut||i){if(r=We,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,un(e,s),Bt(r,e,s,-1))}return yc(),r=ya(Error(D(421))),ml(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,yt=Dn(s.nextSibling),vt=t,be=!0,$t=null,e!==null&&(Et[Mt++]=sn,Et[Mt++]=ln,Et[Mt++]=Jn,sn=e.id,ln=e.overflow,Jn=t),t=fc(t,r.children),t.flags|=4096,t)}function zu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ai(e.return,t,n)}function va(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function vp(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(rt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zu(e,n,t);else if(e.tag===19)zu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&so(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),va(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&so(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}va(t,!0,n,null,l);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vx(e,t,n){switch(t.tag){case 3:gp(t),_r();break;case 5:Vf(t);break;case 1:ft(t.type)&&ql(t);break;case 4:sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ge(to,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?yp(e,t,n):(ge(ke,ke.current&1),e=dn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,mp(e,t,n)}return dn(e,t,n)}var wp,mi,bp,kp;wp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mi=function(){};bp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xn(Jt.current);var l=null;switch(n){case"input":s=Oa(e,s),r=Oa(e,r),l=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),l=[];break;case"textarea":s=Fa(e,s),r=Fa(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gl)}Ua(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ye("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};kp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ns(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xx(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ft(t.type)&&Jl(),Ze(t),null;case 3:return r=t.stateNode,zr(),we(dt),we(tt),oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(ji($t),$t=null))),mi(e,t),Ze(t),null;case 5:lc(t);var s=Xn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)bp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ze(t),null}if(e=Xn(Jt.current),pl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Qt]=t,r[_s]=l,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<is.length;s++)ye(is[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Uc(r,l),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ye("invalid",r);break;case"textarea":Wc(r,l),ye("invalid",r)}Ua(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var i=l[a];a==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&fl(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&fl(r.textContent,i,e),s=["children",""+i]):bs.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ye("scroll",r)}switch(n){case"input":sl(r),Hc(r,l,!0);break;case"textarea":sl(r),Vc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Gl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Qt]=t,e[_s]=r,wp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ha(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<is.length;s++)ye(is[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Uc(e,r),s=Oa(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Wc(e,r),s=Fa(e,r),ye("invalid",e);break;default:s=r}Ua(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?qd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gd(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ks(e,c):typeof c=="number"&&ks(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bs.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ye("scroll",e):c!=null&&Li(e,l,c,a))}switch(n){case"input":sl(e),Hc(e,r,!1);break;case"textarea":sl(e),Vc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+In(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?kr(e,!!r.multiple,l,!1):r.defaultValue!=null&&kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)kp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Xn(zs.current),Xn(Jt.current),pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(l=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Ze(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&yt!==null&&t.mode&1&&!(t.flags&128))Ff(),_r(),t.flags|=98560,l=!1;else if(l=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[Qt]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),l=!1}else $t!==null&&(ji($t),$t=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Oe===0&&(Oe=3):yc())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return zr(),mi(e,t),e===null&&Ts(t.stateNode.containerInfo),Ze(t),null;case 10:return tc(t.type._context),Ze(t),null;case 17:return ft(t.type)&&Jl(),Ze(t),null;case 19:if(we(ke),l=t.memoizedState,l===null)return Ze(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)ns(l,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=so(e),a!==null){for(t.flags|=128,ns(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&Re()>Ir&&(t.flags|=128,r=!0,ns(l,!1),t.lanes=4194304)}else{if(!r)if(e=so(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ns(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!be)return Ze(t),null}else 2*Re()-l.renderingStartTime>Ir&&n!==1073741824&&(t.flags|=128,r=!0,ns(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Re(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return gc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Kx(e,t){switch(Ji(t),t.tag){case 1:return ft(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),we(dt),we(tt),oc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return zr(),null;case 10:return tc(t.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var xl=!1,et=!1,Yx=typeof WeakSet=="function"?WeakSet:Set,F=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function xi(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Pu=!1;function Qx(e,t){if(Za=Kl,e=Ef(),Qi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var a=0,i=-1,c=-1,u=0,p=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(i=a+s),f!==l||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++u===s&&(i=a),h===l&&++p===r&&(c=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Kl=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Me(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return w=Pu,Pu=!1,w}function ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&xi(t,n,l)}s=s.next}while(s!==r)}}function To(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jp(e){var t=e.alternate;t!==null&&(e.alternate=null,jp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[_s],delete t[ri],delete t[_x],delete t[Rx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sp(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gl));else if(r!==4&&(e=e.child,e!==null))for(yi(e,t,n),e=e.sibling;e!==null;)yi(e,t,n),e=e.sibling}function vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vi(e,t,n),e=e.sibling;e!==null;)vi(e,t,n),e=e.sibling}var Xe=null,At=!1;function yn(e,t,n){for(n=n.child;n!==null;)Np(e,t,n),n=n.sibling}function Np(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(bo,n)}catch(i){}switch(n.tag){case 5:et||vr(n,t);case 6:var r=Xe,s=At;Xe=null,yn(e,t,n),Xe=r,At=s,Xe!==null&&(At?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(At?(e=Xe,n=n.stateNode,e.nodeType===8?fa(e.parentNode,n):e.nodeType===1&&fa(e,n),Cs(e)):fa(Xe,n.stateNode));break;case 4:r=Xe,s=At,Xe=n.stateNode.containerInfo,At=!0,yn(e,t,n),Xe=r,At=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&xi(n,t,a),s=s.next}while(s!==r)}yn(e,t,n);break;case 1:if(!et&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Me(n,t,i)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,yn(e,t,n),et=r):yn(e,t,n);break;default:yn(e,t,n)}}function Lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yx),t.forEach(function(r){var s=sg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Xe=i.stateNode,At=!1;break e;case 3:Xe=i.stateNode.containerInfo,At=!0;break e;case 4:Xe=i.stateNode.containerInfo,At=!0;break e}i=i.return}if(Xe===null)throw Error(D(160));Np(l,a,s),Xe=null,At=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cp(t,e),t=t.sibling}function Cp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Kt(e),r&4){try{ms(3,e,e.return),To(3,e)}catch(y){Me(e,e.return,y)}try{ms(5,e,e.return)}catch(y){Me(e,e.return,y)}}break;case 1:Lt(t,e),Kt(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(Lt(t,e),Kt(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var s=e.stateNode;try{ks(s,"")}catch(y){Me(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Kd(s,l),Ha(i,a);var u=Ha(i,l);for(a=0;a<c.length;a+=2){var p=c[a],f=c[a+1];p==="style"?qd(s,f):p==="dangerouslySetInnerHTML"?Gd(s,f):p==="children"?ks(s,f):Li(s,p,f,u)}switch(i){case"input":Aa(s,l);break;case"textarea":Yd(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?kr(s,!!l.multiple,v,!1):h!==!!l.multiple&&(l.defaultValue!=null?kr(s,!!l.multiple,l.defaultValue,!0):kr(s,!!l.multiple,l.multiple?[]:"",!1))}s[_s]=l}catch(y){Me(e,e.return,y)}}break;case 6:if(Lt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(y){Me(e,e.return,y)}}break;case 3:if(Lt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(y){Me(e,e.return,y)}break;case 4:Lt(t,e),Kt(e);break;case 13:Lt(t,e),Kt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(mc=Re())),r&4&&Lu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||p,Lt(t,e),et=u):Lt(t,e),Kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(F=e,p=e.child;p!==null;){for(f=F=p;F!==null;){switch(h=F,v=h.child,h.tag){case 0:case 11:case 14:case 15:ms(4,h,h.return);break;case 1:vr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Me(r,n,y)}}break;case 5:vr(h,h.return);break;case 22:if(h.memoizedState!==null){Au(f);continue}}v!==null?(v.return=h,F=v):Au(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{s=f.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Jd("display",a))}catch(y){Me(e,e.return,y)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Me(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Kt(e),r&4&&Lu(e);break;case 21:break;default:Lt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ks(s,""),r.flags&=-33);var l=Iu(e);vi(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Iu(e);yi(e,i,a);break;default:throw Error(D(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gx(e,t,n){F=e,Ep(e)}function Ep(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||xl;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||et;i=xl;var u=et;if(xl=a,(et=c)&&!u)for(F=s;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?$u(s):c!==null?(c.return=a,F=c):$u(s);for(;l!==null;)F=l,Ep(l),l=l.sibling;F=s,xl=i,et=u}Ou(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,F=l):Ou(e)}}function Ou(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||To(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&bu(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bu(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Cs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}et||t.flags&512&&gi(t)}catch(h){Me(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Au(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function $u(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{To(4,t)}catch(c){Me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Me(t,s,c)}}var l=t.return;try{gi(t)}catch(c){Me(t,l,c)}break;case 5:var a=t.return;try{gi(t)}catch(c){Me(t,a,c)}}}catch(c){Me(t,t.return,c)}if(t===e){F=null;break}var i=t.sibling;if(i!==null){i.return=t.return,F=i;break}F=t.return}}var Jx=Math.ceil,ao=fn.ReactCurrentDispatcher,pc=fn.ReactCurrentOwner,Dt=fn.ReactCurrentBatchConfig,le=0,We=null,ze=null,Ke=0,gt=0,wr=$n(0),Oe=0,Os=null,Zn=0,Do=0,hc=0,xs=null,ct=null,mc=0,Ir=1/0,nn=null,io=!1,wi=null,Rn=null,gl=!1,Nn=null,co=0,gs=0,bi=null,Al=-1,$l=0;function st(){return le&6?Re():Al!==-1?Al:Al=Re()}function zn(e){return e.mode&1?le&2&&Ke!==0?Ke&-Ke:Px.transition!==null?($l===0&&($l=df()),$l):(e=pe,e!==0||(e=window.event,e=e===void 0?16:yf(e.type)),e):1}function Bt(e,t,n,r){if(50<gs)throw gs=0,bi=null,Error(D(185));Ws(e,n,r),(!(le&2)||e!==We)&&(e===We&&(!(le&2)&&(Do|=n),Oe===4&&jn(e,Ke)),pt(e,r),n===1&&le===0&&!(t.mode&1)&&(Ir=Re()+500,Co&&Fn()))}function pt(e,t){var n=e.callbackNode;Pm(e,t);var r=Xl(e,e===We?Ke:0);if(r===0)n!==null&&Yc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yc(n),t===1)e.tag===0?zx(Fu.bind(null,e)):Of(Fu.bind(null,e)),Tx(function(){!(le&6)&&Fn()}),n=null;else{switch(ff(r)){case 1:n=Bi;break;case 4:n=cf;break;case 16:n=Vl;break;case 536870912:n=uf;break;default:n=Vl}n=Ip(n,Mp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mp(e,t){if(Al=-1,$l=0,le&6)throw Error(D(327));var n=e.callbackNode;if(Er()&&e.callbackNode!==n)return null;var r=Xl(e,e===We?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uo(e,r);else{t=r;var s=le;le|=2;var l=Dp();(We!==e||Ke!==t)&&(nn=null,Ir=Re()+500,Kn(e,t));do try{eg();break}catch(i){Tp(e,i)}while(!0);ec(),ao.current=l,le=s,ze!==null?t=0:(We=null,Ke=0,t=Oe)}if(t!==0){if(t===2&&(s=Ya(e),s!==0&&(r=s,t=ki(e,s))),t===1)throw n=Os,Kn(e,0),jn(e,r),pt(e,Re()),n;if(t===6)jn(e,r);else{if(s=e.current.alternate,!(r&30)&&!qx(s)&&(t=uo(e,r),t===2&&(l=Ya(e),l!==0&&(r=l,t=ki(e,l))),t===1))throw n=Os,Kn(e,0),jn(e,r),pt(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Hn(e,ct,nn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=mc+500-Re(),10<t)){if(Xl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ni(Hn.bind(null,e,ct,nn),t);break}Hn(e,ct,nn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ft(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jx(r/1960))-r,10<r){e.timeoutHandle=ni(Hn.bind(null,e,ct,nn),r);break}Hn(e,ct,nn);break;case 5:Hn(e,ct,nn);break;default:throw Error(D(329))}}}return pt(e,Re()),e.callbackNode===n?Mp.bind(null,e):null}function ki(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=ct,ct=n,t!==null&&ji(t)),e}function ji(e){ct===null?ct=e:ct.push.apply(ct,e)}function qx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Ut(l(),s))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~hc,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Fu(e){if(le&6)throw Error(D(327));Er();var t=Xl(e,0);if(!(t&1))return pt(e,Re()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var r=Ya(e);r!==0&&(t=r,n=ki(e,r))}if(n===1)throw n=Os,Kn(e,0),jn(e,t),pt(e,Re()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,ct,nn),pt(e,Re()),null}function xc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Ir=Re()+500,Co&&Fn())}}function er(e){Nn!==null&&Nn.tag===0&&!(le&6)&&Er();var t=le;le|=1;var n=Dt.transition,r=pe;try{if(Dt.transition=null,pe=1,e)return e()}finally{pe=r,Dt.transition=n,le=t,!(le&6)&&Fn()}}function gc(){gt=wr.current,we(wr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mx(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Ji(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:zr(),we(dt),we(tt),oc();break;case 5:lc(r);break;case 4:zr();break;case 13:we(ke);break;case 19:we(ke);break;case 10:tc(r.type._context);break;case 22:case 23:gc()}n=n.return}if(We=e,ze=e=Pn(e.current,null),Ke=gt=t,Oe=0,Os=null,hc=Do=Zn=0,ct=xs=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Vn=null}return e}function Tp(e,t){do{var n=ze;try{if(ec(),Il.current=oo,lo){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lo=!1}if(qn=0,Ue=Ie=je=null,hs=!1,Ps=0,pc.current=null,n===null||n.return===null){Oe=1,Os=t,ze=null;break}e:{var l=e,a=n.return,i=n,c=t;if(t=Ke,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Eu(a);if(v!==null){v.flags&=-257,Mu(v,a,i,l,t),v.mode&1&&Cu(l,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Cu(l,u,t),yc();break e}c=Error(D(426))}}else if(be&&i.mode&1){var b=Eu(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mu(b,a,i,l,t),qi(Pr(c,i));break e}}l=c=Pr(c,i),Oe!==4&&(Oe=2),xs===null?xs=[l]:xs.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=fp(l,c,t);wu(l,x);break e;case 1:i=c;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rn===null||!Rn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=pp(l,i,t);wu(l,j);break e}}l=l.return}while(l!==null)}Rp(n)}catch(k){t=k,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Dp(){var e=ao.current;return ao.current=oo,e===null?oo:e}function yc(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),We===null||!(Zn&268435455)&&!(Do&268435455)||jn(We,Ke)}function uo(e,t){var n=le;le|=2;var r=Dp();(We!==e||Ke!==t)&&(nn=null,Kn(e,t));do try{Zx();break}catch(s){Tp(e,s)}while(!0);if(ec(),le=n,ao.current=r,ze!==null)throw Error(D(261));return We=null,Ke=0,Oe}function Zx(){for(;ze!==null;)_p(ze)}function eg(){for(;ze!==null&&!Nm();)_p(ze)}function _p(e){var t=Pp(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Rp(e):ze=t,pc.current=null}function Rp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kx(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,ze=null;return}}else if(n=Xx(n,t,gt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Oe===0&&(Oe=5)}function Hn(e,t,n){var r=pe,s=Dt.transition;try{Dt.transition=null,pe=1,tg(e,t,n,r)}finally{Dt.transition=s,pe=r}return null}function tg(e,t,n,r){do Er();while(Nn!==null);if(le&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Im(e,l),e===We&&(ze=We=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,Ip(Vl,function(){return Er(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Dt.transition,Dt.transition=null;var a=pe;pe=1;var i=le;le|=4,pc.current=null,Qx(e,n),Cp(n,e),bx(ei),Kl=!!Za,ei=Za=null,e.current=n,Gx(n),Cm(),le=i,pe=a,Dt.transition=l}else e.current=n;if(gl&&(gl=!1,Nn=e,co=s),l=e.pendingLanes,l===0&&(Rn=null),Tm(n.stateNode),pt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(io)throw io=!1,e=wi,wi=null,e;return co&1&&e.tag!==0&&Er(),l=e.pendingLanes,l&1?e===bi?gs++:(gs=0,bi=e):gs=0,Fn(),null}function Er(){if(Nn!==null){var e=ff(co),t=Dt.transition,n=pe;try{if(Dt.transition=null,pe=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,co=0,le&6)throw Error(D(331));var s=le;for(le|=4,F=e.current;F!==null;){var l=F,a=l.child;if(F.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(F=u;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:ms(8,p,l)}var f=p.child;if(f!==null)f.return=p,F=f;else for(;F!==null;){p=F;var h=p.sibling,v=p.return;if(jp(p),p===u){F=null;break}if(h!==null){h.return=v,F=h;break}F=v}}}var w=l.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}F=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,F=a;else e:for(;F!==null;){if(l=F,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ms(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,F=x;break e}F=l.return}}var m=e.current;for(F=m;F!==null;){a=F;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,F=g;else e:for(a=m;F!==null;){if(i=F,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:To(9,i)}}catch(k){Me(i,i.return,k)}if(i===a){F=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,F=j;break e}F=i.return}}if(le=s,Fn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(bo,e)}catch(k){}r=!0}return r}finally{pe=n,Dt.transition=t}}return!1}function Bu(e,t,n){t=Pr(n,t),t=fp(e,t,1),e=_n(e,t,1),t=st(),e!==null&&(Ws(e,1,t),pt(e,t))}function Me(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){e=Pr(n,e),e=pp(t,e,1),t=_n(t,e,1),e=st(),t!==null&&(Ws(t,1,e),pt(t,e));break}}t=t.return}}function ng(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ke&n)===n&&(Oe===4||Oe===3&&(Ke&130023424)===Ke&&500>Re()-mc?Kn(e,0):hc|=n),pt(e,t)}function zp(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=st();e=un(e,t),e!==null&&(Ws(e,t,n),pt(e,n))}function rg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zp(e,n)}function sg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),zp(e,n)}var Pp;Pp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,Vx(e,t,n);ut=!!(e.flags&131072)}else ut=!1,be&&t.flags&1048576&&Af(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ol(e,t),e=t.pendingProps;var s=Dr(t,tt.current);Cr(t,n),s=ic(null,t,r,e,s,n);var l=cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(l=!0,ql(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rc(t),s.updater=Mo,t.stateNode=s,s._reactInternals=t,ci(t,r,e,n),t=fi(null,t,r,!0,l,n)):(t.tag=0,be&&l&&Gi(t),rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ol(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=og(r),e=Ot(r,e),s){case 0:t=di(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=Tu(null,t,r,e,n);break e;case 14:t=Du(null,t,r,Ot(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),di(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),_u(e,t,r,s,n);case 3:e:{if(gp(t),e===null)throw Error(D(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Wf(e,t),ro(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Pr(Error(D(423)),t),t=Ru(e,t,r,n,s);break e}else if(r!==s){s=Pr(Error(D(424)),t),t=Ru(e,t,r,n,s);break e}else for(yt=Dn(t.stateNode.containerInfo.firstChild),vt=t,be=!0,$t=null,n=Uf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===s){t=dn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Vf(t),e===null&&oi(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,ti(r,s)?a=null:l!==null&&ti(r,l)&&(t.flags|=32),xp(e,t),rt(e,t,a,n),t.child;case 6:return e===null&&oi(t),null;case 13:return yp(e,t,n);case 4:return sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Tu(e,t,r,s,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,ge(to,r._currentValue),r._currentValue=a,l!==null)if(Ut(l.value,a)){if(l.children===s.children&&!dt.current){t=dn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){a=l.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=on(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ai(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(D(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),ai(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=_t(s),r=r(s),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,s=Ot(r,t.pendingProps),s=Ot(r.type,s),Du(e,t,r,s,n);case 15:return hp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Ol(e,t),t.tag=1,ft(r)?(e=!0,ql(t)):e=!1,Cr(t,n),dp(t,r,s),ci(t,r,s,n),fi(null,t,r,!0,e,n);case 19:return vp(e,t,n);case 22:return mp(e,t,n)}throw Error(D(156,t.tag))};function Ip(e,t){return af(e,t)}function lg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new lg(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function og(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ai)return 11;if(e===$i)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")vc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ur:return Yn(n.children,s,l,t);case Oi:a=8,s|=8;break;case za:return e=Tt(12,n,t,s|2),e.elementType=za,e.lanes=l,e;case Pa:return e=Tt(13,n,t,s),e.elementType=Pa,e.lanes=l,e;case Ia:return e=Tt(19,n,t,s),e.elementType=Ia,e.lanes=l,e;case Wd:return _o(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ud:a=10;break e;case Hd:a=9;break e;case Ai:a=11;break e;case $i:a=14;break e;case vn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Tt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Yn(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function _o(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Wd,e.lanes=n,e.stateNode={isHidden:!1},e}function wa(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ag(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,r,s,l,a,i,c){return e=new ag(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Tt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(l),e}function ig(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return Ln;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(ft(n))return Lf(e,n,t)}return t}function Op(e,t,n,r,s,l,a,i,c){return e=wc(n,r,!0,e,s,l,a,i,c),e.context=Lp(null),n=e.current,r=st(),s=zn(n),l=on(r,s),l.callback=t!=null?t:null,_n(n,l,s),e.current.lanes=s,Ws(e,s,r),pt(e,r),e}function Ro(e,t,n,r){var s=t.current,l=st(),a=zn(s);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=on(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(s,t,a),e!==null&&(Bt(e,s,a,l),Pl(e,s,a)),a}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bc(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function cg(){return null}var Ap=typeof reportError=="function"?reportError:function(e){console.error(e)};function kc(e){this._internalRoot=e}zo.prototype.render=kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ro(e,t,null,null)};zo.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Ro(null,e,null,null)}),t[cn]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=mf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&gf(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hu(){}function ug(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=fo(a);l.call(u)}}var a=Op(t,r,e,0,null,!1,!1,"",Hu);return e._reactRootContainer=a,e[cn]=a.current,Ts(e.nodeType===8?e.parentNode:e),er(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=fo(c);i.call(u)}}var c=wc(e,0,!1,null,null,!1,!1,"",Hu);return e._reactRootContainer=c,e[cn]=c.current,Ts(e.nodeType===8?e.parentNode:e),er(function(){Ro(t,c,n,r)}),c}function Io(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var i=s;s=function(){var c=fo(a);i.call(c)}}Ro(t,a,e,s)}else a=ug(n,t,e,s,r);return fo(a)}pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=as(t.pendingLanes);n!==0&&(Ui(t,n|1),pt(t,Re()),!(le&6)&&(Ir=Re()+500,Fn()))}break;case 13:er(function(){var r=un(e,1);if(r!==null){var s=st();Bt(r,e,1,s)}}),bc(e,1)}};Hi=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=st();Bt(t,e,134217728,n)}bc(e,134217728)}};hf=function(e){if(e.tag===13){var t=zn(e),n=un(e,t);if(n!==null){var r=st();Bt(n,e,t,r)}bc(e,t)}};mf=function(){return pe};xf=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};Va=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=No(r);if(!s)throw Error(D(90));Xd(r),Aa(r,s)}}}break;case"textarea":Yd(e,n);break;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}};tf=xc;nf=er;var dg={usingClientEntryPoint:!1,Events:[Xs,hr,No,Zd,ef,xc]},rs={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lf(e),e===null?null:e.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{bo=yl.inject(fg),Gt=yl}catch(e){}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(D(200));return ig(e,t,null,n)};bt.createRoot=function(e,t){if(!jc(e))throw Error(D(299));var n=!1,r="",s=Ap;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wc(e,1,!1,null,null,n,!1,r,s),e[cn]=t.current,Ts(e.nodeType===8?e.parentNode:e),new kc(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=lf(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return er(e)};bt.hydrate=function(e,t,n){if(!Po(t))throw Error(D(200));return Io(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Ap;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Op(t,null,e,1,n!=null?n:null,s,!1,l,a),e[cn]=t.current,Ts(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zo(t)};bt.render=function(e,t,n){if(!Po(t))throw Error(D(200));return Io(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Po(e))throw Error(D(40));return e._reactRootContainer?(er(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};bt.unstable_batchedUpdates=xc;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Po(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Io(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function $p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($p)}catch(e){console.error(e)}}$p(),Ad.exports=bt;var br=Ad.exports,Wu=br;_a.createRoot=Wu.createRoot,_a.hydrateRoot=Wu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}var Cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cn||(Cn={}));const Vu="popstate";function pg(e){e===void 0&&(e={});function t(s,l){let{pathname:a="/",search:i="",hash:c=""}=rr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Si("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let a=s.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof l=="string"?l:Fp(l))}function r(s,l){Lo(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return mg(t,n,r,e)}function Ae(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Lo(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function hg(){return Math.random().toString(36).substr(2,8)}function Xu(e,t){return{usr:e.state,key:e.key,idx:t}}function Si(e,t,n,r){return n===void 0&&(n=null),As({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rr(t):t,{state:n,key:t&&t.key||r||hg()})}function Fp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,a=s.history,i=Cn.Pop,c=null,u=p();u==null&&(u=0,a.replaceState(As({},a.state,{idx:u}),""));function p(){return(a.state||{idx:null}).idx}function f(){i=Cn.Pop;let b=p(),x=b==null?null:b-u;u=b,c&&c({action:i,location:y.location,delta:x})}function h(b,x){i=Cn.Push;let m=Si(y.location,b,x);n&&n(m,b),u=p()+1;let g=Xu(m,u),j=y.createHref(m);try{a.pushState(g,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}l&&c&&c({action:i,location:y.location,delta:1})}function v(b,x){i=Cn.Replace;let m=Si(y.location,b,x);n&&n(m,b),u=p();let g=Xu(m,u),j=y.createHref(m);a.replaceState(g,"",j),l&&c&&c({action:i,location:y.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Fp(b);return m=m.replace(/ $/,"%20"),Ae(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let y={get action(){return i},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vu,f),c=b,()=>{s.removeEventListener(Vu,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:v,go(b){return a.go(b)}};return y}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function xg(e,t,n){return n===void 0&&(n="/"),gg(e,t,n)}function gg(e,t,n,r){let s=typeof t=="string"?rr(t):t,l=Hp(s.pathname||"/",n);if(l==null)return null;let a=Bp(e);yg(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=Dg(l);i=Eg(a[c],u)}return i}function Bp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,a,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Qn([r,c.relativePath]),p=n.concat(c);l.children&&l.children.length>0&&(Ae(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bp(l.children,t,p,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Ng(u,l.index),routesMeta:p})};return e.forEach((l,a)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,a);else for(let c of Up(l.path))s(l,a,c)}),t}function Up(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let a=Up(r.join("/")),i=[];return i.push(...a.map(c=>c===""?l:[l,c].join("/"))),s&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function yg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Cg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vg=/^:[\w-]+$/,wg=3,bg=2,kg=1,jg=10,Sg=-2,Yu=e=>e==="*";function Ng(e,t){let n=e.split("/"),r=n.length;return n.some(Yu)&&(r+=Sg),t&&(r+=bg),n.filter(s=>!Yu(s)).reduce((s,l)=>s+(vg.test(l)?wg:l===""?kg:jg),r)}function Cg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Eg(e,t,n){let{routesMeta:r}=e,s={},l="/",a=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",f=Mg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),h=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Qn([l,f.pathname]),pathnameBase:Og(Qn([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=Qn([l,f.pathnameBase]))}return a}function Mg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,p,f)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let y=i[f]||"";a=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const w=i[f];return v&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function Tg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Lo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Dg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rg=e=>_g.test(e);function zg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?rr(e):e,l;if(n)if(Rg(n))l=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Lo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?l=Qu(n.substring(1),"/"):l=Qu(n,t)}else l=t;return{pathname:l,search:Ag(r),hash:$g(s)}}function Qu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ka(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ig(e,t){let n=Pg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=rr(e):(s=As({},e),Ae(!s.pathname||!s.pathname.includes("?"),ka("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),ka("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),ka("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=zg(s,i),u=a&&a!=="/"&&a.endsWith("/"),p=(l||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Qn=e=>e.join("/").replace(/\/\/+/g,"/"),Og=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ag=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$g=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wp=["post","put","patch","delete"];new Set(Wp);const Bg=["get",...Wp];new Set(Bg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}const Sc=d.createContext(null),Ug=d.createContext(null),Oo=d.createContext(null),Ao=d.createContext(null),sr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Vp=d.createContext(null);function $o(){return d.useContext(Ao)!=null}function Xp(){return $o()||Ae(!1),d.useContext(Ao).location}function Kp(e){d.useContext(Oo).static||d.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=d.useContext(sr);return e?ty():Hg()}function Hg(){$o()||Ae(!1);let e=d.useContext(Sc),{basename:t,future:n,navigator:r}=d.useContext(Oo),{matches:s}=d.useContext(sr),{pathname:l}=Xp(),a=JSON.stringify(Ig(s,n.v7_relativeSplatPath)),i=d.useRef(!1);return Kp(()=>{i.current=!0}),d.useCallback(function(u,p){if(p===void 0&&(p={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=Lg(u,JSON.parse(a),l,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Qn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,a,l,e])}function Yp(){let{matches:e}=d.useContext(sr),t=e[e.length-1];return t?t.params:{}}function Wg(e,t){return Vg(e,t)}function Vg(e,t,n,r){$o()||Ae(!1);let{navigator:s}=d.useContext(Oo),{matches:l}=d.useContext(sr),a=l[l.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Xp(),p;if(t){var f;let b=typeof t=="string"?rr(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ae(!1),p=b}else p=u;let h=p.pathname||"/",v=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=xg(e,{pathname:v}),y=Gg(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Qn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Qn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&y?d.createElement(Ao.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Cn.Pop}},y):y}function Xg(){let e=ey(),t=Fg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const Kg=d.createElement(Xg,null);class Yg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(sr.Provider,{value:this.props.routeContext},d.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qg(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(Sc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(sr.Provider,{value:t},r)}function Gg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||Ae(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:h,errors:v}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((p,f,h)=>{let v,w=!1,y=null,b=null;n&&(v=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||Kg,c&&(u<0&&h===0?(ny("route-fallback"),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return v?g=y:w?g=b:f.route.Component?g=d.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,d.createElement(Qg,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Yg,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Qp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qp||{}),Gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gp||{});function Jg(e){let t=d.useContext(Sc);return t||Ae(!1),t}function qg(e){let t=d.useContext(Ug);return t||Ae(!1),t}function Zg(e){let t=d.useContext(sr);return t||Ae(!1),t}function Jp(e){let t=Zg(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function ey(){var e;let t=d.useContext(Vp),n=qg(),r=Jp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ty(){let{router:e}=Jg(Qp.UseNavigateStable),t=Jp(Gp.UseNavigateStable),n=d.useRef(!1);return Kp(()=>{n.current=!0}),d.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$s({fromRouteId:t},l)))},[e,t])}const Gu={};function ny(e,t,n){Gu[e]||(Gu[e]=!0)}function ry(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nt(e){Ae(!1)}function sy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Cn.Pop,navigator:l,static:a=!1,future:i}=e;$o()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:l,static:a,future:$s({v7_relativeSplatPath:!1},i)}),[c,i,l,a]);typeof r=="string"&&(r=rr(r));let{pathname:p="/",search:f="",hash:h="",state:v=null,key:w="default"}=r,y=d.useMemo(()=>{let b=Hp(p,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:v,key:w},navigationType:s}},[c,p,f,h,v,w,s]);return y==null?null:d.createElement(Oo.Provider,{value:u},d.createElement(Ao.Provider,{children:n,value:y}))}function ly(e){let{children:t,location:n}=e;return Wg(Ni(t),n)}new Promise(()=>{});function Ni(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let l=[...t,s];if(r.type===d.Fragment){n.push.apply(n,Ni(r.props.children,l));return}r.type!==nt&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ni(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oy="6";try{window.__reactRouterVersion=oy}catch(e){}const ay="startTransition",Ju=nm[ay];function iy(e){let{basename:t,children:n,future:r,window:s}=e,l=d.useRef();l.current==null&&(l.current=pg({window:s,v5Compat:!0}));let a=l.current,[i,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},p=d.useCallback(f=>{u&&Ju?Ju(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>a.listen(p),[a,p]),d.useEffect(()=>ry(r),[r]),d.createElement(sy,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var qu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qu||(qu={}));var Zu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zu||(Zu={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:a,...i},c)=>d.createElement("svg",{ref:c,...uy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qp("lucide",s),...i},[...a.map(([u,p])=>d.createElement(u,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=d.forwardRef(({className:r,...s},l)=>d.createElement(dy,{ref:l,iconNode:t,className:qp(`lucide-${cy(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ne("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ne("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ne("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ne("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ne("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ne("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sh="";async function nd(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${sh}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function $(e,t={}){let n=await nd();const r=`${sh}${e}`,s=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let l=await s(n);if(l.status===401&&(localStorage.removeItem("whisper_token"),n=await nd(),l=await s(n)),l.status===204)return null;if(!l.ok){const a=await l.json().catch(()=>({}));throw new Error(a.detail||` (${l.status})`)}return l.json()}const Dy="WhisperMiniDB",_y=1,Or="avatars",lh=()=>new Promise((e,t)=>{const n=indexedDB.open(Dy,_y);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Or)||r.createObjectStore(Or,{keyPath:"key"})}}),Ci=async(e,t)=>{const n=await lh();return new Promise((r,s)=>{const l=n.transaction([Or],"readwrite");l.objectStore(Or).put({key:e,base64:t}),l.oncomplete=()=>r(),l.onerror=()=>s(l.error)})},Ur=async e=>{const t=await lh();return new Promise((n,r)=>{const l=t.transaction([Or],"readonly").objectStore(Or).get(e);l.onsuccess=()=>{var a;return n(((a=l.result)==null?void 0:a.base64)||null)},l.onerror=()=>r(l.error)})},it={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function ir({icon:e,label:t,desc:n,disabled:r,onClick:s,badge:l}){const[a,i]=d.useState(!1),c=()=>!r&&i(!0),u=()=>{i(!1),r||s==null||s()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:it.bg,boxShadow:a?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:a?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:c,onTouchEnd:u,onMouseDown:c,onMouseUp:u,onMouseLeave:()=>i(!1),children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),l&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full",style:{background:"#ef4444",border:"2px solid var(--bg)"}})]}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:it.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:it.textMuted},children:n})]})]})}function rd({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:it.textMuted},children:e})}function Ry(){const e=zt(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(u){return null}}),[r,s]=d.useState(null),[l,a]=d.useState(!1);d.useEffect(()=>{$("/api/user/profile").then(u=>{n(u),localStorage.setItem("whisper_profile",JSON.stringify(u))}).catch(()=>{}),Ur("user-avatar").then(u=>{u&&s(u)}).catch(function(){}),$("/api/diary/unread-count").then(u=>{u.count>0&&a(!0)}).catch(()=>{})},[]);const i=(t==null?void 0:t.nickname)||"",c=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:it.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:it.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:it.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:it.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:it.text},children:["@",i]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:it.textMuted},children:['"',c,'"']})]}),o.jsx(Ys,{size:16,style:{color:it.textMuted,flexShrink:0}})]}),o.jsx(rd,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(ir,{icon:o.jsx(py,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(ir,{icon:o.jsx(hy,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(ir,{icon:o.jsx(Zp,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(ir,{icon:o.jsx(Ey,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(rd,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(ir,{icon:o.jsx(fy,{size:18,color:"white"}),label:"",desc:"",badge:l,onClick:()=>e("/diary")}),o.jsx(ir,{icon:o.jsx(My,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:it.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(wy,{size:32,fill:it.accent,style:{color:it.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const me={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},sd={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"},message_mode:{label:"",color:"#6b7b9b",bg:"#e0e6f0"}};function zy({activation:e}){const t=sd[e]||sd.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const vl=80;function Py({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(p,f)=>{const h=n.current,v=r.current;if(!h)return;const w="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=w,h.style.transform=`translateX(${p}px)`,v){const y=Math.min(1,Math.abs(p)/vl);v.style.transition=w,v.style.opacity=`${y}`}s.current.current=p},a=()=>l(0),i=p=>{const f=p.touches[0],h=s.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=p=>{const f=s.current;if(!f.dragging)return;const h=p.touches[0],v=h.clientX-f.startX,w=h.clientY-f.startY;if(!f.locked){if(Math.abs(v)<5&&Math.abs(w)<5)return;f.locked=!0,f.isH=Math.abs(v)>Math.abs(w)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const y=Math.max(-vl,Math.min(0,f.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/vl)}`),f.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-vl):l(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:me.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Iy({book:e,onTap:t}){var n;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:me.bg,userSelect:"none"},onClick:()=>t(e),children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:me.bg},children:o.jsx(th,{size:18,style:{color:me.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:me.text},children:e.name}),o.jsx(zy,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:me.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,s)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:me.accentDark},children:r},s)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:me.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Ys,{size:16,style:{color:me.textMuted,flexShrink:0}})]})}function Ly({folder:e,books:t,onDelete:n,onTap:r}){const[s,l]=d.useState(!0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>l(!s),children:[s?o.jsx(Bn,{size:14,style:{color:me.textMuted}}):o.jsx(Ys,{size:14,style:{color:me.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:me.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:me.textMuted},children:t.length})]}),s&&t.map(a=>o.jsx(Py,{onDelete:()=>n(a),children:o.jsx(Iy,{book:a,onTap:r})},a.id))]})}function Oy(){const e=zt(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(null),u=w=>{c(w),setTimeout(()=>c(null),2e3)},p=()=>{s(!0),$("/api/world-books").then(w=>n(w.world_books||[])).catch(()=>u("")).finally(()=>s(!1))};d.useEffect(()=>{p()},[]);const f=async w=>{a(null);try{await $(`/api/world-books/${w.id}`,{method:"DELETE"}),n(y=>y.filter(b=>b.id!==w.id)),u("")}catch(y){u("")}},h={};for(const w of t){const y=w.folder||"";h[y]||(h[y]=[]),h[y].push(w)}const v=Object.keys(h).sort((w,y)=>w===""?1:y===""?-1:w.localeCompare(y));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:me.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:me.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:me.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:me.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:me.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Br,{size:20,style:{color:me.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:me.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(th,{size:36,style:{color:me.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:me.textMuted},children:" + "})]}):v.map(w=>o.jsx(Ly,{folder:w,books:h[w],onDelete:y=>a(y),onTap:y=>e(`/world-books/${y.id}`)},w))}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:me.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:w=>w.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:me.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:me.textMuted},children:["",l.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:me.bg,boxShadow:"var(--card-shadow-sm)",color:me.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>f(l),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const Y={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function Ay({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})}function $y({value:e,onChange:t,folders:n}){const[r,s]=d.useState(!1),l=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),s(!0)},onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}}),r&&l.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:l.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:Y.text},onMouseDown:()=>{t(a),s(!1)},children:a},a))})]})}function Fy({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""},{value:"message_mode",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:Y.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?Y.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?Y.accentDark:Y.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}function By({selected:e,onChange:t}){const n=[{value:"long",label:""},{value:"short",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:n.map(r=>{const s=e===r.value;return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>t(r.value),children:r.label},r.value)})})]})}const Uy=[{value:"happy",label:""},{value:"sad",label:""},{value:"angry",label:""},{value:"anxious",label:""},{value:"tired",label:""},{value:"emo",label:""},{value:"flirty",label:""},{value:"proud",label:""},{value:"calm",label:""}];function Hy({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(s=>s!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:Uy.map(r=>{const s=e.includes(r.value);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>n(r.value),children:r.label},r.value)})})]})}function Wy({keywords:e,onChange:t}){const[n,r]=d.useState(""),s=()=>{const l=n.trim();if(!l||e.includes(l)){r("");return}t([...e,l]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:[e.map(l=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:Y.accentDark},children:[l,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==l)),children:o.jsx(Gs,{size:10})})]},l)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),onKeyDown:l=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),s())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:Y.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:Y.accentDark},onClick:s,children:o.jsx(Br,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:Y.textMuted},children:" Enter "})]})}function Vy({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:Y.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Lr,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:Y.bg,color:Y.text},placeholder:"..."})]})}function ld(){const e=zt(),{id:t}=Yp(),n=!t,[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState("always"),[u,p]=d.useState([]),[f,h]=d.useState("long"),[v,w]=d.useState(""),[y,b]=d.useState(!1),[x,m]=d.useState(!n),[g,j]=d.useState(null),[k,C]=d.useState([]),[S,E]=d.useState(!1),R=d.useRef(null),z=M=>{var ie;const B=(ie=M.target.files)==null?void 0:ie[0];if(!B)return;const K=new FileReader;K.onload=V=>w(V.target.result||""),K.readAsText(B),M.target.value=""},I=M=>{j(M),setTimeout(()=>j(null),2e3)};d.useEffect(()=>{$("/api/world-books").then(M=>{const B=M.world_books||[];if(C([...new Set(B.map(K=>K.folder).filter(Boolean))]),!n){const K=B.find(ie=>String(ie.id)===String(t));K&&(s(K.name),a(K.folder||""),c(K.activation),p(K.keywords||[]),h(K.message_mode||"long"),w(K.content))}}).catch(()=>I("")).finally(()=>m(!1))},[t,n]);const _=async()=>{if(!r.trim()){I("");return}b(!0);try{const M={name:r.trim(),folder:l.trim()||null,activation:i,keywords:i==="keyword"||i==="mood"?u:[],message_mode:i==="message_mode"?f:null,content:v};n?(await $("/api/world-books",{method:"POST",body:M}),I("")):(await $(`/api/world-books/${t}`,{method:"PUT",body:M}),I(""))}catch(M){I(": "+M.message)}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:Y.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Y.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:_,disabled:y,children:o.jsx(Bo,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:x?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Y.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Ay,{label:"",value:r,onChange:s,placeholder:""}),o.jsx($y,{value:l,onChange:a,folders:k}),o.jsx(Fy,{value:i,onChange:c}),i==="keyword"&&o.jsx(Wy,{keywords:u,onChange:p}),i==="mood"&&o.jsx(Hy,{selected:u,onChange:p}),i==="message_mode"&&o.jsx(By,{selected:f,onChange:h})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>{var M;return(M=R.current)==null?void 0:M.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:Y.textMuted}})}),o.jsx("input",{ref:R,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:z}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>E(!0),title:"",children:o.jsx(Qs,{size:13,style:{color:Y.accentDark}})})]})]}),o.jsx("textarea",{value:v,onChange:M=>w(M.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})]})}),S&&o.jsx(Vy,{value:v,onChange:w,onClose:()=>E(!1)}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const _e={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},wl=80;function Xy({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(p,f)=>{const h=n.current,v=r.current;if(!h)return;const w="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=w,h.style.transform=`translateX(${p}px)`,v){const y=Math.min(1,Math.abs(p)/wl);v.style.transition=w,v.style.opacity=`${y}`}s.current.current=p},a=()=>l(0),i=p=>{const f=p.touches[0],h=s.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=p=>{const f=s.current;if(!f.dragging)return;const h=p.touches[0],v=h.clientX-f.startX,w=h.clientY-f.startY;if(!f.locked){if(Math.abs(v)<5&&Math.abs(w)<5)return;f.locked=!0,f.isH=Math.abs(v)>Math.abs(w)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const y=Math.max(-wl,Math.min(0,f.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/wl)}`),f.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-wl):l(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Ky({assistant:e,localAvatar:t,onTap:n}){var s;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:_e.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:_e.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:_e.accentDark},children:((s=e.name)==null?void 0:s[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:_e.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:_e.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Ys,{size:16,style:{color:_e.textMuted,flexShrink:0}})]})}function Yy(){const e=zt(),[t,n]=d.useState([]),[r,s]=d.useState({}),[l,a]=d.useState(!0),[i,c]=d.useState(null),[u,p]=d.useState(null),f=w=>{p(w),setTimeout(()=>p(null),2e3)},h=()=>{a(!0),$("/api/assistants").then(async w=>{const y=w.assistants||[];n(y);const b={};await Promise.all(y.map(async x=>{const m=await Ur(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),s(b)}).catch(()=>f("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const v=async w=>{c(null);try{await $(`/api/assistants/${w.id}`,{method:"DELETE"}),n(y=>y.filter(b=>b.id!==w.id)),f("")}catch(y){f("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:_e.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:_e.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:_e.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Br,{size:20,style:{color:_e.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:_e.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Zp,{size:36,style:{color:_e.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:_e.textMuted},children:" + "})]}):t.map(w=>o.jsx(Xy,{onDelete:()=>c(w),children:o.jsx(Ky,{assistant:w,localAvatar:r[w.id],onTap:y=>e(`/assistants/${y.id}`)})},w.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>c(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:_e.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:w=>w.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:_e.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:_e.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)",color:_e.text},onClick:()=>c(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>v(i),children:""})]})]})}),u&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:u})})]})}function Qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Uo=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Hr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Cc(e){return"nodeType"in e}function at(e){var t,n;return e?Hr(e)?e:Cc(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ec(e){const{Document:t}=at(e);return e instanceof t}function Js(e){return Hr(e)?!1:e instanceof at(e).HTMLElement}function oh(e){return e instanceof at(e).SVGElement}function Wr(e){return e?Hr(e)?e.document:Cc(e)?Ec(e)?e:Js(e)||oh(e)?e.ownerDocument:document:document:document}const Ht=Uo?d.useLayoutEffect:d.useEffect;function Ho(e){const t=d.useRef(e);return Ht(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Gy(){const e=d.useRef(null),t=d.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Bs(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Ht(()=>{n.current!==e&&(n.current=e)},t),n}function qs(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function po(e){const t=Ho(e),n=d.useRef(null),r=d.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function ho(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let ja={};function Zs(e,t){return d.useMemo(()=>{if(t)return t;const n=ja[e]==null?0:ja[e]+1;return ja[e]=n,e+"-"+n},[e,t])}function ah(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const i=Object.entries(a);for(const[c,u]of i){const p=l[c];p!=null&&(l[c]=p+e*u)}return l},{...t})}}const Mr=ah(1),mo=ah(-1);function Jy(e){return"clientX"in e&&"clientY"in e}function Wo(e){if(!e)return!1;const{KeyboardEvent:t}=at(e.target);return t&&e instanceof t}function qy(e){if(!e)return!1;const{TouchEvent:t}=at(e.target);return t&&e instanceof t}function xo(e){if(qy(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Jy(e)?{x:e.clientX,y:e.clientY}:null}const On=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[On.Translate.toString(e),On.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),od="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zy(e){return e.matches(od)?e:e.querySelector(od)}const ev={display:"none"};function tv(e){let{id:t,value:n}=e;return ve.createElement("div",{id:t,style:ev},n)}function nv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function rv(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ih=d.createContext(null);function sv(e){const t=d.useContext(ih);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function lv(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:s,event:l}=r;e.forEach(a=>{var i;return(i=a[s])==null?void 0:i.call(a,l)})},[e]),t]}const ov={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},av={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function iv(e){let{announcements:t=av,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=ov}=e;const{announce:l,announcement:a}=rv(),i=Zs("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),sv(d.useMemo(()=>({onDragStart(f){let{active:h}=f;l(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:v}=f;t.onDragMove&&l(t.onDragMove({active:h,over:v}))},onDragOver(f){let{active:h,over:v}=f;l(t.onDragOver({active:h,over:v}))},onDragEnd(f){let{active:h,over:v}=f;l(t.onDragEnd({active:h,over:v}))},onDragCancel(f){let{active:h,over:v}=f;l(t.onDragCancel({active:h,over:v}))}}),[l,t])),!c)return null;const p=ve.createElement(ve.Fragment,null,ve.createElement(tv,{id:r,value:s.draggable}),ve.createElement(nv,{id:i,announcement:a}));return n?br.createPortal(p,n):p}var Le;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Le||(Le={}));function go(){}function ad(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function cv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Wt=Object.freeze({x:0,y:0});function uv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dv(e,t){const n=xo(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function fv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function pv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function hv(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function id(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const mv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=id(t,t.left,t.top),l=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const u=uv(id(c),s);l.push({id:i,data:{droppableContainer:a,value:u}})}}return l.sort(fv)};function xv(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=s-r,i=l-n;if(r<s&&n<l){const c=t.width*t.height,u=e.width*e.height,p=a*i,f=p/(c+u-p);return Number(f.toFixed(4))}return 0}const gv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const l of r){const{id:a}=l,i=n.get(a);if(i){const c=xv(i,t);c>0&&s.push({id:a,data:{droppableContainer:l,value:c}})}}return s.sort(pv)};function yv(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ch(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wt}function vv(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const wv=vv(1);function uh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function bv(e,t,n){const r=uh(t);if(!r)return e;const{scaleX:s,scaleY:l,x:a,y:i}=r,c=e.left-a-(1-s)*parseFloat(n),u=e.top-i-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,f=l?e.height/l:e.height;return{width:p,height:f,top:u,right:c+p,bottom:u+f,left:c}}const kv={ignoreTransform:!1};function Vr(e,t){t===void 0&&(t=kv);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:p}=at(e).getComputedStyle(e);u&&(n=bv(n,u,p))}const{top:r,left:s,width:l,height:a,bottom:i,right:c}=n;return{top:r,left:s,width:l,height:a,bottom:i,right:c}}function cd(e){return Vr(e,{ignoreTransform:!0})}function jv(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Sv(e,t){return t===void 0&&(t=at(e).getComputedStyle(e)),t.position==="fixed"}function Nv(e,t){t===void 0&&(t=at(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=t[s];return typeof l=="string"?n.test(l):!1})}function Mc(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ec(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Js(s)||oh(s)||n.includes(s))return n;const l=at(e).getComputedStyle(s);return s!==e&&Nv(s,l)&&n.push(s),Sv(s,l)?n:r(s.parentNode)}return e?r(e):n}function dh(e){const[t]=Mc(e,1);return t!=null?t:null}function Sa(e){return!Uo||!e?null:Hr(e)?e:Cc(e)?Ec(e)||e===Wr(e).scrollingElement?window:Js(e)?e:null:null}function fh(e){return Hr(e)?e.scrollX:e.scrollLeft}function ph(e){return Hr(e)?e.scrollY:e.scrollTop}function Ei(e){return{x:fh(e),y:ph(e)}}var He;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(He||(He={}));function hh(e){return!Uo||!e?!1:e===document.scrollingElement}function mh(e){const t={x:0,y:0},n=hh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const Cv={x:.2,y:.2};function Ev(e,t,n,r,s){let{top:l,left:a,right:i,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=Cv);const{isTop:u,isBottom:p,isLeft:f,isRight:h}=mh(e),v={x:0,y:0},w={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!u&&l<=t.top+y.height?(v.y=He.Backward,w.y=r*Math.abs((t.top+y.height-l)/y.height)):!p&&c>=t.bottom-y.height&&(v.y=He.Forward,w.y=r*Math.abs((t.bottom-y.height-c)/y.height)),!h&&i>=t.right-y.width?(v.x=He.Forward,w.x=r*Math.abs((t.right-y.width-i)/y.width)):!f&&a<=t.left+y.width&&(v.x=He.Backward,w.x=r*Math.abs((t.left+y.width-a)/y.width)),{direction:v,speed:w}}function Mv(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function xh(e){return e.reduce((t,n)=>Mr(t,Ei(n)),Wt)}function Tv(e){return e.reduce((t,n)=>t+fh(n),0)}function Dv(e){return e.reduce((t,n)=>t+ph(n),0)}function gh(e,t){if(t===void 0&&(t=Vr),!e)return;const{top:n,left:r,bottom:s,right:l}=t(e);dh(e)&&(s<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _v=[["x",["left","right"],Tv],["y",["top","bottom"],Dv]];class Tc{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Mc(n),s=xh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,i]of _v)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=i(r),p=s[l]-u;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ys{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Rv(e){const{EventTarget:t}=at(e);return e instanceof t?e:Wr(e)}function Na(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ct;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ct||(Ct={}));function ud(e){e.preventDefault()}function zv(e){e.stopPropagation()}var ce;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ce||(ce={}));const yh={start:[ce.Space,ce.Enter],cancel:[ce.Esc],end:[ce.Space,ce.Enter,ce.Tab]},Pv=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ce.Right:return{...n,x:n.x+25};case ce.Left:return{...n,x:n.x-25};case ce.Down:return{...n,y:n.y+25};case ce.Up:return{...n,y:n.y-25}}};class vh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ys(Wr(n)),this.windowListeners=new ys(at(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ct.Resize,this.handleCancel),this.windowListeners.add(Ct.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ct.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&gh(r),n(Wt)}handleKeyDown(t){if(Wo(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:l=yh,coordinateGetter:a=Pv,scrollBehavior:i="smooth"}=s,{code:c}=t;if(l.end.includes(c)){this.handleEnd(t);return}if(l.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,p=u?{x:u.left,y:u.top}:Wt;this.referenceCoordinates||(this.referenceCoordinates=p);const f=a(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=mo(f,p),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const y of w){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:j,maxScroll:k,minScroll:C}=mh(y),S=Mv(y),E={x:Math.min(b===ce.Right?S.right-S.width/2:S.right,Math.max(b===ce.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===ce.Down?S.bottom-S.height/2:S.bottom,Math.max(b===ce.Down?S.top:S.top+S.height/2,f.y))},R=b===ce.Right&&!m||b===ce.Left&&!g,z=b===ce.Down&&!j||b===ce.Up&&!x;if(R&&E.x!==f.x){const I=y.scrollLeft+h.x,_=b===ce.Right&&I<=k.x||b===ce.Left&&I>=C.x;if(_&&!h.y){y.scrollTo({left:I,behavior:i});return}_?v.x=y.scrollLeft-I:v.x=b===ce.Right?y.scrollLeft-k.x:y.scrollLeft-C.x,v.x&&y.scrollBy({left:-v.x,behavior:i});break}else if(z&&E.y!==f.y){const I=y.scrollTop+h.y,_=b===ce.Down&&I<=k.y||b===ce.Up&&I>=C.y;if(_&&!h.x){y.scrollTo({top:I,behavior:i});return}_?v.y=y.scrollTop-I:v.y=b===ce.Down?y.scrollTop-k.y:y.scrollTop-C.y,v.y&&y.scrollBy({top:-v.y,behavior:i});break}}this.handleMove(t,Mr(mo(f,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=yh,onActivation:s}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=l.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function dd(e){return!!(e&&"distance"in e)}function fd(e){return!!(e&&"delay"in e)}class Dc{constructor(t,n,r){var s;r===void 0&&(r=Rv(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=Wr(a),this.documentListeners=new ys(this.document),this.listeners=new ys(r),this.windowListeners=new ys(at(a)),this.initialCoordinates=(s=xo(l))!=null?s:Wt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ct.Resize,this.handleCancel),this.windowListeners.add(Ct.DragStart,ud),this.windowListeners.add(Ct.VisibilityChange,this.handleCancel),this.windowListeners.add(Ct.ContextMenu,ud),this.documentListeners.add(Ct.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dd(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ct.Click,zv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ct.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:i}}=l;if(!s)return;const c=(n=xo(t))!=null?n:Wt,u=mo(s,c);if(!r&&i){if(dd(i)){if(i.tolerance!=null&&Na(u,i.tolerance))return this.handleCancel();if(Na(u,i.distance))return this.handleStart()}if(fd(i)&&Na(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Iv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _c extends Dc{constructor(t){const{event:n}=t,r=Wr(n.target);super(t,Iv,r)}}_c.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Lv={move:{name:"mousemove"},end:{name:"mouseup"}};var Mi;(function(e){e[e.RightClick=2]="RightClick"})(Mi||(Mi={}));class Ov extends Dc{constructor(t){super(t,Lv,Wr(t.event.target))}}Ov.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Mi.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ca={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wh extends Dc{constructor(t){super(t,Ca)}static setup(){return window.addEventListener(Ca.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ca.move.name,t)};function t(){}}}wh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var vs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vs||(vs={}));var yo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yo||(yo={}));function Av(e){let{acceleration:t,activator:n=vs.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:i=yo.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:p,delta:f,threshold:h}=e;const v=Fv({delta:f,disabled:!l}),[w,y]=Gy(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case vs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case vs.DraggableRect:return s}},[n,s,c]),g=d.useRef(null),j=d.useCallback(()=>{const C=g.current;if(!C)return;const S=b.current.x*x.current.x,E=b.current.y*x.current.y;C.scrollBy(S,E)},[]),k=d.useMemo(()=>i===yo.TreeOrder?[...u].reverse():u,[i,u]);d.useEffect(()=>{if(!l||!u.length||!m){y();return}for(const C of k){if((r==null?void 0:r(C))===!1)continue;const S=u.indexOf(C),E=p[S];if(!E)continue;const{direction:R,speed:z}=Ev(C,E,m,t,h);for(const I of["x","y"])v[I][R[I]]||(z[I]=0,R[I]=0);if(z.x>0||z.y>0){y(),g.current=C,w(j,a),b.current=z,x.current=R;return}}b.current={x:0,y:0},x.current={x:0,y:0},y()},[t,j,r,y,l,a,JSON.stringify(m),JSON.stringify(v),w,u,k,p,JSON.stringify(h)])}const $v={x:{[He.Backward]:!1,[He.Forward]:!1},y:{[He.Backward]:!1,[He.Forward]:!1}};function Fv(e){let{delta:t,disabled:n}=e;const r=ho(t);return qs(s=>{if(n||!r||!s)return $v;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[He.Backward]:s.x[He.Backward]||l.x===-1,[He.Forward]:s.x[He.Forward]||l.x===1},y:{[He.Backward]:s.y[He.Backward]||l.y===-1,[He.Forward]:s.y[He.Forward]||l.y===1}}},[n,t,r])}function Bv(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return qs(s=>{var l;return t==null?null:(l=r!=null?r:s)!=null?l:null},[r,t])}function Uv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var Us;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Us||(Us={}));var Ti;(function(e){e.Optimized="optimized"})(Ti||(Ti={}));const pd=new Map;function Hv(e,t){let{dragging:n,dependencies:r,config:s}=t;const[l,a]=d.useState(null),{frequency:i,measure:c,strategy:u}=s,p=d.useRef(e),f=b(),h=Bs(f),v=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),w=d.useRef(null),y=qs(x=>{if(f&&!n)return pd;if(!x||x===pd||p.current!==e||l!=null){const m=new Map;for(let g of e){if(!g)continue;if(l&&l.length>0&&!l.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const j=g.node.current,k=j?new Tc(c(j),j):null;g.rect.current=k,k&&m.set(g.id,k)}return m}return x},[e,l,n,f,c]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{f||v()},[n,f]),d.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),d.useEffect(()=>{f||typeof i!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},i))},[i,f,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:l!=null};function b(){switch(u){case Us.Always:return!1;case Us.BeforeDragging:return n;default:return!n}}}function Rc(e,t){return qs(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Wv(e,t){return Rc(e,t)}function Vv(e){let{callback:t,disabled:n}=e;const r=Ho(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Vo(e){let{callback:t,disabled:n}=e;const r=Ho(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Xv(e){return new Tc(Vr(e),e)}function hd(e,t,n){t===void 0&&(t=Xv);const[r,s]=d.useState(null);function l(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c!=null?c:n)!=null?u:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const a=Vv({callback(c){if(e)for(const u of c){const{type:p,target:f}=u;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){l();break}}}}),i=Vo({callback:l});return Ht(()=>{l(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function Kv(e){const t=Rc(e);return ch(e,t)}const md=[];function Yv(e){const t=d.useRef(e),n=qs(r=>e?r&&r!==md&&e&&t.current&&e.parentNode===t.current.parentNode?r:Mc(e):md,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Qv(e){const[t,n]=d.useState(null),r=d.useRef(e),s=d.useCallback(l=>{const a=Sa(l.target);a&&n(i=>i?(i.set(a,Ei(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const l=r.current;if(e!==l){a(l);const i=e.map(c=>{const u=Sa(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Ei(u)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(l)};function a(i){i.forEach(c=>{const u=Sa(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Mr(l,a),Wt):xh(e):Wt,[e,t])}function xd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Wt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?mo(e,n.current):Wt}function Gv(e){d.useEffect(()=>{if(!Uo)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Jv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:l}=r;return n[s]=a=>{l(a,t)},n},{}),[e,t])}function bh(e){return d.useMemo(()=>e?jv(e):null,[e])}const gd=[];function qv(e,t){t===void 0&&(t=Vr);const[n]=e,r=bh(n?at(n):null),[s,l]=d.useState(gd);function a(){l(()=>e.length?e.map(c=>hh(c)?r:new Tc(t(c),c)):gd)}const i=Vo({callback:a});return Ht(()=>{i==null||i.disconnect(),a(),e.forEach(c=>i==null?void 0:i.observe(c))},[e]),s}function kh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Js(t)?t:e}function Zv(e){let{measure:t}=e;const[n,r]=d.useState(null),s=d.useCallback(u=>{for(const{target:p}of u)if(Js(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),l=Vo({callback:s}),a=d.useCallback(u=>{const p=kh(u);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?t(p):null)},[t,l]),[i,c]=po(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:c}),[n,i,c])}const e1=[{sensor:_c,options:{}},{sensor:vh,options:{}}],t1={current:{}},Bl={draggable:{measure:cd},droppable:{measure:cd,strategy:Us.WhileDragging,frequency:Ti.Optimized},dragOverlay:{measure:Vr}};class ws extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const n1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ws,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:go},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bl,measureDroppableContainers:go,windowRect:null,measuringScheduled:!1},jh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:go,draggableNodes:new Map,over:null,measureDroppableContainers:go},el=d.createContext(jh),Sh=d.createContext(n1);function r1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ws}}}function s1(e,t){switch(t.type){case Le.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Le.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Le.DragEnd:case Le.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Le.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new ws(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Le.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new ws(e.droppable.containers);return a.set(n,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case Le.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new ws(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function l1(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=d.useContext(el),l=ho(r),a=ho(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!Wo(l)||document.activeElement===l.target)return;const i=s.get(a);if(!i)return;const{activatorNode:c,node:u}=i;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const p of[c.current,u.current]){if(!p)continue;const f=Zy(p);if(f){f.focus();break}}})}},[r,t,s,a,l]),null}function Nh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,l)=>l({transform:s,...r}),n):n}function o1(e){return d.useMemo(()=>({draggable:{...Bl.draggable,...e==null?void 0:e.draggable},droppable:{...Bl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function a1(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const l=d.useRef(!1),{x:a,y:i}=typeof s=="boolean"?{x:s,y:s}:s;Ht(()=>{if(!a&&!i||!t){l.current=!1;return}if(l.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const p=n(u),f=ch(p,r);if(a||(f.x=0),i||(f.y=0),l.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=dh(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,i,r,n])}const Xo=d.createContext({...Wt,scaleX:1,scaleY:1});var bn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bn||(bn={}));const i1=d.memo(function(t){var n,r,s,l;let{id:a,accessibility:i,autoScroll:c=!0,children:u,sensors:p=e1,collisionDetection:f=gv,measuring:h,modifiers:v,...w}=t;const y=d.useReducer(s1,void 0,r1),[b,x]=y,[m,g]=lv(),[j,k]=d.useState(bn.Uninitialized),C=j===bn.Initialized,{draggable:{active:S,nodes:E,translate:R},droppable:{containers:z}}=b,I=S!=null?E.get(S):null,_=d.useRef({initial:null,translated:null}),M=d.useMemo(()=>{var Je;return S!=null?{id:S,data:(Je=I==null?void 0:I.data)!=null?Je:t1,rect:_}:null},[S,I]),B=d.useRef(null),[K,ie]=d.useState(null),[V,P]=d.useState(null),U=Bs(w,Object.values(w)),H=Zs("DndDescribedBy",a),q=d.useMemo(()=>z.getEnabled(),[z]),G=o1(h),{droppableRects:oe,measureDroppableContainers:de,measuringScheduled:Ne}=Hv(q,{dragging:C,dependencies:[R.x,R.y],config:G.droppable}),Z=Bv(E,S),fe=d.useMemo(()=>V?xo(V):null,[V]),Pe=Ah(),$e=Wv(Z,G.draggable.measure);a1({activeNode:S!=null?E.get(S):null,config:Pe.layoutShiftCompensation,initialRect:$e,measure:G.draggable.measure});const J=hd(Z,G.draggable.measure,$e),Te=hd(Z?Z.parentElement:null),Ce=d.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=z.getNodeFor((n=Ce.current.over)==null?void 0:n.id),he=Zv({measure:G.dragOverlay.measure}),Ge=(r=he.nodeRef.current)!=null?r:Z,xe=C?(s=he.rect)!=null?s:J:null,Pt=!!(he.nodeRef.current&&he.rect),pn=Kv(Pt?null:J),N=bh(Ge?at(Ge):null),L=Yv(C?Qe!=null?Qe:Z:null),Q=qv(L),De=Nh(v,{transform:{x:R.x-pn.x,y:R.y-pn.y,scaleX:1,scaleY:1},activatorEvent:V,active:M,activeNodeRect:J,containerNodeRect:Te,draggingNodeRect:xe,over:Ce.current.over,overlayNodeRect:he.rect,scrollableAncestors:L,scrollableAncestorRects:Q,windowRect:N}),It=fe?Mr(fe,R):null,Fe=Qv(L),Xr=xd(Fe),tl=xd(Fe,[J]),qt=Mr(De,Xr),Zt=xe?wv(xe,De):null,hn=M&&Zt?f({active:M,collisionRect:Zt,droppableRects:oe,droppableContainers:q,pointerCoordinates:It}):null,O=hv(hn,"id"),[ae,re]=d.useState(null),Ee=Pt?De:Mr(De,tl),St=yv(Ee,(l=ae==null?void 0:ae.rect)!=null?l:null,J),en=d.useRef(null),Ko=d.useCallback((Je,ht)=>{let{sensor:mt,options:mn}=ht;if(B.current==null)return;const Nt=E.get(B.current);if(!Nt)return;const xt=Je.nativeEvent,Vt=new mt({active:B.current,activeNode:Nt,event:xt,options:mn,context:Ce,onAbort(Ve){if(!E.get(Ve))return;const{onDragAbort:Xt}=U.current,tn={id:Ve};Xt==null||Xt(tn),m({type:"onDragAbort",event:tn})},onPending(Ve,xn,Xt,tn){if(!E.get(Ve))return;const{onDragPending:Yr}=U.current,gn={id:Ve,constraint:xn,initialCoordinates:Xt,offset:tn};Yr==null||Yr(gn),m({type:"onDragPending",event:gn})},onStart(Ve){const xn=B.current;if(xn==null)return;const Xt=E.get(xn);if(!Xt)return;const{onDragStart:tn}=U.current,Kr={activatorEvent:xt,active:{id:xn,data:Xt.data,rect:_}};br.unstable_batchedUpdates(()=>{tn==null||tn(Kr),k(bn.Initializing),x({type:Le.DragStart,initialCoordinates:Ve,active:xn}),m({type:"onDragStart",event:Kr}),ie(en.current),P(xt)})},onMove(Ve){x({type:Le.DragMove,coordinates:Ve})},onEnd:or(Le.DragEnd),onCancel:or(Le.DragCancel)});en.current=Vt;function or(Ve){return async function(){const{active:Xt,collisions:tn,over:Kr,scrollAdjustedTranslate:Yr}=Ce.current;let gn=null;if(Xt&&Yr){const{cancelDrop:Qr}=U.current;gn={activatorEvent:xt,active:Xt,collisions:tn,delta:Yr,over:Kr},Ve===Le.DragEnd&&typeof Qr=="function"&&await Promise.resolve(Qr(gn))&&(Ve=Le.DragCancel)}B.current=null,br.unstable_batchedUpdates(()=>{x({type:Ve}),k(bn.Uninitialized),re(null),ie(null),P(null),en.current=null;const Qr=Ve===Le.DragEnd?"onDragEnd":"onDragCancel";if(gn){const Qo=U.current[Qr];Qo==null||Qo(gn),m({type:Qr,event:gn})}})}}},[E]),Yo=d.useCallback((Je,ht)=>(mt,mn)=>{const Nt=mt.nativeEvent,xt=E.get(mn);if(B.current!==null||!xt||Nt.dndKit||Nt.defaultPrevented)return;const Vt={active:xt};Je(mt,ht.options,Vt)===!0&&(Nt.dndKit={capturedBy:ht.sensor},B.current=mn,Ko(mt,ht))},[E,Ko]),Ic=Uv(p,Yo);Gv(p),Ht(()=>{J&&j===bn.Initializing&&k(bn.Initialized)},[J,j]),d.useEffect(()=>{const{onDragMove:Je}=U.current,{active:ht,activatorEvent:mt,collisions:mn,over:Nt}=Ce.current;if(!ht||!mt)return;const xt={active:ht,activatorEvent:mt,collisions:mn,delta:{x:qt.x,y:qt.y},over:Nt};br.unstable_batchedUpdates(()=>{Je==null||Je(xt),m({type:"onDragMove",event:xt})})},[qt.x,qt.y]),d.useEffect(()=>{const{active:Je,activatorEvent:ht,collisions:mt,droppableContainers:mn,scrollAdjustedTranslate:Nt}=Ce.current;if(!Je||B.current==null||!ht||!Nt)return;const{onDragOver:xt}=U.current,Vt=mn.get(O),or=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,Ve={active:Je,activatorEvent:ht,collisions:mt,delta:{x:Nt.x,y:Nt.y},over:or};br.unstable_batchedUpdates(()=>{re(or),xt==null||xt(Ve),m({type:"onDragOver",event:Ve})})},[O]),Ht(()=>{Ce.current={activatorEvent:V,active:M,activeNode:Z,collisionRect:Zt,collisions:hn,droppableRects:oe,draggableNodes:E,draggingNode:Ge,draggingNodeRect:xe,droppableContainers:z,over:ae,scrollableAncestors:L,scrollAdjustedTranslate:qt},_.current={initial:xe,translated:Zt}},[M,Z,hn,Zt,E,Ge,xe,oe,z,ae,L,qt]),Av({...Pe,delta:R,draggingRect:Zt,pointerCoordinates:It,scrollableAncestors:L,scrollableAncestorRects:Q});const Lh=d.useMemo(()=>({active:M,activeNode:Z,activeNodeRect:J,activatorEvent:V,collisions:hn,containerNodeRect:Te,dragOverlay:he,draggableNodes:E,droppableContainers:z,droppableRects:oe,over:ae,measureDroppableContainers:de,scrollableAncestors:L,scrollableAncestorRects:Q,measuringConfiguration:G,measuringScheduled:Ne,windowRect:N}),[M,Z,J,V,hn,Te,he,E,z,oe,ae,de,L,Q,G,Ne,N]),Oh=d.useMemo(()=>({activatorEvent:V,activators:Ic,active:M,activeNodeRect:J,ariaDescribedById:{draggable:H},dispatch:x,draggableNodes:E,over:ae,measureDroppableContainers:de}),[V,Ic,M,J,x,H,E,ae,de]);return ve.createElement(ih.Provider,{value:g},ve.createElement(el.Provider,{value:Oh},ve.createElement(Sh.Provider,{value:Lh},ve.createElement(Xo.Provider,{value:St},u)),ve.createElement(l1,{disabled:(i==null?void 0:i.restoreFocus)===!1})),ve.createElement(iv,{...i,hiddenTextDescribedById:H}));function Ah(){const Je=(K==null?void 0:K.autoScrollEnabled)===!1,ht=typeof c=="object"?c.enabled===!1:c===!1,mt=C&&!Je&&!ht;return typeof c=="object"?{...c,enabled:mt}:{enabled:mt}}}),c1=d.createContext(null),yd="button",u1="Draggable";function d1(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const l=Zs(u1),{activators:a,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:p,draggableNodes:f,over:h}=d.useContext(el),{role:v=yd,roleDescription:w="draggable",tabIndex:y=0}=s!=null?s:{},b=(c==null?void 0:c.id)===t,x=d.useContext(b?Xo:c1),[m,g]=po(),[j,k]=po(),C=Jv(a,t),S=Bs(n);Ht(()=>(f.set(t,{id:t,key:l,node:m,activatorNode:j,data:S}),()=>{const R=f.get(t);R&&R.key===l&&f.delete(t)}),[f,t]);const E=d.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":b&&v===yd?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[r,v,y,b,w,p.draggable]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:E,isDragging:b,listeners:r?void 0:C,node:m,over:h,setNodeRef:g,setActivatorNodeRef:k,transform:x}}function Ch(){return d.useContext(Sh)}const f1="Droppable",p1={timeout:25};function h1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const l=Zs(f1),{active:a,dispatch:i,over:c,measureDroppableContainers:u}=d.useContext(el),p=d.useRef({disabled:n}),f=d.useRef(!1),h=d.useRef(null),v=d.useRef(null),{disabled:w,updateMeasurementsFor:y,timeout:b}={...p1,...s},x=Bs(y!=null?y:r),m=d.useCallback(()=>{if(!f.current){f.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),v.current=null},b)},[b]),g=Vo({callback:m,disabled:w||!a}),j=d.useCallback((E,R)=>{g&&(R&&(g.unobserve(R),f.current=!1),E&&g.observe(E))},[g]),[k,C]=po(j),S=Bs(t);return d.useEffect(()=>{!g||!k.current||(g.disconnect(),f.current=!1,g.observe(k.current))},[k,g]),d.useEffect(()=>(i({type:Le.RegisterDroppable,element:{id:r,key:l,disabled:n,node:k,rect:h,data:S}}),()=>i({type:Le.UnregisterDroppable,key:l,id:r})),[r]),d.useEffect(()=>{n!==p.current.disabled&&(i({type:Le.SetDroppableDisabled,id:r,key:l,disabled:n}),p.current.disabled=n)},[r,l,n,i]),{active:a,rect:h,isOver:(c==null?void 0:c.id)===r,node:k,over:c,setNodeRef:C}}function m1(e){let{animation:t,children:n}=e;const[r,s]=d.useState(null),[l,a]=d.useState(null),i=ho(n);return!n&&!r&&i&&s(i),Ht(()=>{if(!l)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,l)).then(()=>{s(null)})},[t,r,l]),ve.createElement(ve.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const x1={x:0,y:0,scaleX:1,scaleY:1};function g1(e){let{children:t}=e;return ve.createElement(el.Provider,{value:jh},ve.createElement(Xo.Provider,{value:x1},t))}const y1={position:"fixed",touchAction:"none"},v1=e=>Wo(e)?"transform 250ms ease":void 0,w1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:l,className:a,rect:i,style:c,transform:u,transition:p=v1}=e;if(!i)return null;const f=s?u:{...u,scaleX:1,scaleY:1},h={...y1,width:i.width,height:i.height,top:i.top,left:i.left,transform:On.Transform.toString(f),transformOrigin:s&&r?dv(r,i):void 0,transition:typeof p=="function"?p(r):p,...c};return ve.createElement(n,{className:a,style:h,ref:t},l)}),b1=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:l,className:a}=e;if(l!=null&&l.active)for(const[i,c]of Object.entries(l.active))c!==void 0&&(s[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,c));if(l!=null&&l.dragOverlay)for(const[i,c]of Object.entries(l.dragOverlay))c!==void 0&&r.node.style.setProperty(i,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},k1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:On.Transform.toString(t)},{transform:On.Transform.toString(n)}]},j1={duration:250,easing:"ease",keyframes:k1,sideEffects:b1({styles:{active:{opacity:"0"}}})};function S1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return Ho((l,a)=>{if(t===null)return;const i=n.get(l);if(!i)return;const c=i.node.current;if(!c)return;const u=kh(a);if(!u)return;const{transform:p}=at(a).getComputedStyle(a),f=uh(p);if(!f)return;const h=typeof t=="function"?t:N1(t);return gh(c,s.draggable.measure),h({active:{id:l,data:i.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function N1(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...j1,...e};return l=>{let{active:a,dragOverlay:i,transform:c,...u}=l;if(!t)return;const p={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/i.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/i.rect.height:1},h={x:c.x-p.x,y:c.y-p.y,...f},v=s({...u,active:a,dragOverlay:i,transform:{initial:c,final:h}}),[w]=v,y=v[v.length-1];if(JSON.stringify(w)===JSON.stringify(y))return;const b=r==null?void 0:r({active:a,dragOverlay:i,...u}),x=i.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let vd=0;function C1(e){return d.useMemo(()=>{if(e!=null)return vd++,vd},[e])}const E1=ve.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:l,modifiers:a,wrapperElement:i="div",className:c,zIndex:u=999}=e;const{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:v,draggableNodes:w,droppableContainers:y,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:j,windowRect:k}=Ch(),C=d.useContext(Xo),S=C1(f==null?void 0:f.id),E=Nh(a,{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:v,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:j,transform:C,windowRect:k}),R=Rc(h),z=S1({config:r,draggableNodes:w,droppableContainers:y,measuringConfiguration:m}),I=R?b.setRef:void 0;return ve.createElement(g1,null,ve.createElement(m1,{animation:z},f&&S?ve.createElement(w1,{key:S,id:f.id,ref:I,as:i,activatorEvent:p,adjustScale:t,className:c,transition:l,rect:R,style:{zIndex:u,...s},transform:E},n):null))});function zc(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function M1(e,t){return e.reduce((n,r,s)=>{const l=t.get(r);return l&&(n[s]=l),n},Array(e.length))}function bl(e){return e!==null&&e>=0}function T1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function D1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Eh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const l=zc(t,r,n),a=t[s],i=l[s];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},kl={scaleX:1,scaleY:1},_1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:l,overIndex:a}=e;const i=(t=l[n])!=null?t:r;if(!i)return null;if(s===n){const u=l[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...kl}:null}const c=R1(l,s,n);return s>n&&s<=a?{x:0,y:-i.height-c,...kl}:s<n&&s>=a?{x:0,y:i.height+c,...kl}:{x:0,y:0,...kl}};function R1(e,t,n){const r=e[t],s=e[t-1],l=e[t+1];return r?n<t?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Mh="Sortable",Th=ve.createContext({activeIndex:-1,containerId:Mh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Eh,disabled:{draggable:!1,droppable:!1}});function z1(e){let{children:t,id:n,items:r,strategy:s=Eh,disabled:l=!1}=e;const{active:a,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:p}=Ch(),f=Zs(Mh,n),h=i.rect!==null,v=d.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),w=a!=null,y=a?v.indexOf(a.id):-1,b=u?v.indexOf(u.id):-1,x=d.useRef(v),m=!T1(v,x.current),g=b!==-1&&y===-1||m,j=D1(l);Ht(()=>{m&&w&&p(v)},[m,v,w,p]),d.useEffect(()=>{x.current=v},[v]);const k=d.useMemo(()=>({activeIndex:y,containerId:f,disabled:j,disableTransforms:g,items:v,overIndex:b,useDragOverlay:h,sortedRects:M1(v,c),strategy:s}),[y,f,j.draggable,j.droppable,g,v,b,c,h,s]);return ve.createElement(Th.Provider,{value:k},t)}const P1=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return zc(n,r,s).indexOf(t)},I1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:l,newIndex:a,previousItems:i,previousContainerId:c,transition:u}=e;return!u||!r||i!==l&&s===a?!1:n?!0:a!==s&&t===c},L1={duration:200,easing:"ease"},Dh="transform",O1=On.Transition.toString({property:Dh,duration:0,easing:"linear"}),A1={roleDescription:"sortable"};function $1(e){let{disabled:t,index:n,node:r,rect:s}=e;const[l,a]=d.useState(null),i=d.useRef(n);return Ht(()=>{if(!t&&n!==i.current&&r.current){const c=s.current;if(c){const u=Vr(r.current,{ignoreTransform:!0}),p={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(p.x||p.y)&&a(p)}}n!==i.current&&(i.current=n)},[t,n,r,s]),d.useEffect(()=>{l&&a(null)},[l]),l}function F1(e){let{animateLayoutChanges:t=I1,attributes:n,disabled:r,data:s,getNewIndex:l=P1,id:a,strategy:i,resizeObserverConfig:c,transition:u=L1}=e;const{items:p,containerId:f,activeIndex:h,disabled:v,disableTransforms:w,sortedRects:y,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(Th),g=B1(r,v),j=p.indexOf(a),k=d.useMemo(()=>({sortable:{containerId:f,index:j,items:p},...s}),[f,s,j,p]),C=d.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:S,node:E,isOver:R,setNodeRef:z}=h1({id:a,data:k,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:I,activatorEvent:_,activeNodeRect:M,attributes:B,setNodeRef:K,listeners:ie,isDragging:V,over:P,setActivatorNodeRef:U,transform:H}=d1({id:a,data:k,attributes:{...A1,...n},disabled:g.draggable}),q=Qy(z,K),G=!!I,oe=G&&!w&&bl(h)&&bl(b),de=!x&&V,Ne=de&&oe?H:null,Z=i!=null?i:m,fe=oe?Ne!=null?Ne:Z({rects:y,activeNodeRect:M,activeIndex:h,overIndex:b,index:j}):null,Pe=bl(h)&&bl(b)?l({id:a,items:p,activeIndex:h,overIndex:b}):j,$e=I==null?void 0:I.id,J=d.useRef({activeId:$e,items:p,newIndex:Pe,containerId:f}),Te=p!==J.current.items,Ce=t({active:I,containerId:f,isDragging:V,isSorting:G,id:a,index:j,items:p,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:u,wasDragging:J.current.activeId!=null}),Qe=$1({disabled:!Ce,index:j,node:E,rect:S});return d.useEffect(()=>{G&&J.current.newIndex!==Pe&&(J.current.newIndex=Pe),f!==J.current.containerId&&(J.current.containerId=f),p!==J.current.items&&(J.current.items=p)},[G,Pe,f,p]),d.useEffect(()=>{if($e===J.current.activeId)return;if($e!=null&&J.current.activeId==null){J.current.activeId=$e;return}const Ge=setTimeout(()=>{J.current.activeId=$e},50);return()=>clearTimeout(Ge)},[$e]),{active:I,activeIndex:h,attributes:B,data:k,rect:S,index:j,newIndex:Pe,items:p,isOver:R,isSorting:G,isDragging:V,listeners:ie,node:E,overIndex:b,over:P,setNodeRef:q,setActivatorNodeRef:U,setDroppableNodeRef:z,setDraggableNodeRef:K,transform:Qe!=null?Qe:fe,transition:he()};function he(){if(Qe||Te&&J.current.newIndex===j)return O1;if(!(de&&!Wo(_)||!u)&&(G||Ce))return On.Transition.toString({...u,property:Dh})}}function B1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ce.Down,ce.Right,ce.Up,ce.Left;const T={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function wd({label:e,value:t,onChange:n,placeholder:r,rows:s,onExpand:l,onHistory:a}){const i=d.useRef(null),c=u=>{var h;const p=(h=u.target.files)==null?void 0:h[0];if(!p)return;const f=new FileReader;f.onload=v=>n(v.target.result||""),f.readAsText(p),u.target.value=""};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:a,children:o.jsx(by,{size:13,style:{color:T.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},children:o.jsx(Fo,{size:13,style:{color:T.textMuted}})}),o.jsx("input",{ref:i,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:c}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:l,children:o.jsx(Qs,{size:13,style:{color:T.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:u=>n(u.target.value),placeholder:r,rows:s||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]})}function Ea({label:e,value:t,onChange:n,presets:r}){const[s,l]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text},onClick:()=>l(!s),children:[o.jsx("span",{style:{color:a?T.text:T.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:T.textMuted,transform:s?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:T.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:T.textMuted},onClick:()=>{n(null),l(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:T.text},onClick:()=>{n(i.id),l(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx(Fs,{size:14,style:{color:T.accentDark}})]},i.id))]})]})]})}function Ma({value:e,onChange:t,onClose:n,title:r,placeholder:s}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:T.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Lr,{size:18,style:{color:T.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:l=>t(l.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:T.bg,color:T.text},placeholder:s||""})]})}function U1({items:e,currentContent:t,onApply:n,onClose:r}){const[s,l]=d.useState("current"),[a,i]=d.useState(null),c=p=>p?new Date(p).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",u=async()=>{if(s==="current"){r();return}const p=e.find(f=>f.id===s);p&&await n(p.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:T.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx(Lr,{size:18,style:{color:T.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:T.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:T.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:T.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx(Lr,{size:18,style:{color:T.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:T.bg},children:[o.jsx("button",{onClick:()=>l("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s==="current"?T.accentDark:T.bg,boxShadow:s==="current"?"none":"var(--icon-inset)"},children:s==="current"&&o.jsx(Fs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:T.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:T.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:T.textMuted},children:""}),e.map(p=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s===p.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:T.bg},children:[o.jsx("button",{onClick:()=>l(p.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s===p.id?T.accentDark:T.bg,boxShadow:s===p.id?"none":"var(--icon-inset)"},children:s===p.id&&o.jsx(Fs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(p),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:T.text},children:[" ",p.version]}),o.jsx("span",{className:"text-[10px]",style:{color:T.textMuted},children:c(p.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:T.textMuted},children:p.content})]})]},p.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:u,children:""})})]})}function _h(e){return e==="always"?"":e==="keyword"?"":e==="message_mode"?"":""}function Rh(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function H1({item:e,book:t,position:n,sectionList:r,onRemove:s,onChangePosition:l}){const{attributes:a,listeners:i,setNodeRef:c,transform:u,transition:p,isDragging:f}=F1({id:String(e.id)}),h={transform:On.Transform.toString(u),transition:p,opacity:f?.35:1,zIndex:f?10:void 0};return t?o.jsxs("div",{ref:c,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:f?"grabbing":"grab"},children:o.jsx(nh,{size:14,style:{color:T.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:T.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:T.textMuted},children:[_h(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:T.textMuted},onClick:()=>l(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>s(e.id),children:o.jsx(Gs,{size:14,style:{color:T.textMuted}})})]}):null}function W1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[s,l]=d.useState(new Set(t)),a={};e.forEach(u=>{const p=u.folder||"";a[p]||(a[p]=[]),a[p].push(u)});const i=u=>{l(p=>{const f=new Set(p);return f.has(u)?f.delete(u):f.add(u),f})},c=u=>{const p=u.every(f=>s.has(f.id));l(f=>{const h=new Set(f);return p?u.forEach(v=>h.delete(v.id)):u.forEach(v=>h.add(v.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:T.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:T.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Gs,{size:20,style:{color:T.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([u,p])=>{const f=p.every(h=>s.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:u}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:f?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:f?T.accentDark:T.textMuted},onClick:()=>c(p),children:f?"":""})]}),o.jsx("div",{className:"space-y-2",children:p.map(h=>{const v=s.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:T.bg,boxShadow:v?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:v?T.accentDark:T.bg,boxShadow:v?"none":"var(--icon-inset)"},children:v&&o.jsx(Fs,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:v?T.accentDark:T.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:T.textMuted},children:_h(h.activation)})]},h.id)})})]},u)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...s]),children:[" ",s.size,""]})})]})})}function V1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,s]=d.useState(!1),[l,a]=d.useState(null),i=Rh(e),c=i.filter(k=>k.position==="before").sort((k,C)=>k.sort_order-C.sort_order),u=i.filter(k=>k.position==="after").sort((k,C)=>k.sort_order-C.sort_order),p=k=>n.find(C=>C.id===k||C.id===Number(k)),f=cv(ad(_c,{activationConstraint:{distance:5}}),ad(wh,{activationConstraint:{delay:150,tolerance:5}})),h=({active:k})=>a(k.id),v=({active:k,over:C})=>{if(!C)return;const S=i.find(R=>String(R.id)===String(k.id)),E=i.find(R=>String(R.id)===String(C.id));if(!(!S||!E)&&S.position!==E.position){const R=i.map(z=>String(z.id)===String(S.id)?{...z,position:E.position}:z);t(R)}},w=({active:k,over:C})=>{if(a(null),!C||k.id===C.id)return;const S=i.find(B=>String(B.id)===String(k.id)),E=i.find(B=>String(B.id)===String(C.id));if(!S||!E||S.position!==E.position)return;const R=S.position==="before"?[...c]:[...u],z=R.findIndex(B=>String(B.id)===String(k.id)),I=R.findIndex(B=>String(B.id)===String(C.id)),_=zc(R,z,I).map((B,K)=>({...B,sort_order:K})),M=i.filter(B=>B.position!==S.position);t([...M,..._])},y=k=>t(i.filter(C=>C.id!==k)),b=(k,C)=>{const E=(C==="before"?c:u).length;t(i.map(R=>R.id===k?{...R,position:C,sort_order:E}:R))},x=k=>{const C=i.map(I=>I.id),E=k.filter(I=>!C.includes(I)).map((I,_)=>({id:I,position:"after",sort_order:u.length+_})),R=new Set(C.filter(I=>!k.includes(I))),z=i.filter(I=>!R.has(I.id));t([...z,...E])},m=(k,C)=>k.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:T.textMuted},children:""}):o.jsx(z1,{items:k.map(S=>String(S.id)),strategy:_1,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},children:k.map((S,E)=>o.jsxs("div",{children:[E>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(H1,{item:S,book:p(S.id),position:C,sectionList:k,onRemove:y,onChangePosition:b})]},S.id))})}),g=l?i.find(k=>String(k.id)===String(l)):null,j=g?p(g.id):null;return o.jsxs(i1,{sensors:f,collisionDetection:mv,onDragStart:h,onDragOver:v,onDragEnd:w,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:"System Prompt "}),m(c,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:T.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:"System Prompt "}),m(u,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)",color:T.accentDark},onClick:()=>s(!0),children:[o.jsx(Br,{size:16})," "]}),o.jsx(E1,{children:j&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:T.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(nh,{size:14,style:{color:T.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:T.accentDark},children:j.name})})]})}),r&&o.jsx(W1,{allBooks:n,mountedIds:i.map(k=>k.id),onClose:()=>s(!1),onConfirm:k=>{x(k),s(!1)}})]})}function bd(){const e=zt(),{id:t}=Yp(),n=!t,[r,s]=d.useState("basic"),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,p]=d.useState(""),[f,h]=d.useState(null),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState(""),[g,j]=d.useState(""),[k,C]=d.useState(null),[S,E]=d.useState(null),[R,z]=d.useState([]),[I,_]=d.useState([]),[M,B]=d.useState([]),[K,ie]=d.useState(!1),[V,P]=d.useState(!n),[U,H]=d.useState(null),[q,G]=d.useState(!1),[oe,de]=d.useState(!1),[Ne,Z]=d.useState(!1),[fe,Pe]=d.useState(null),[$e,J]=d.useState([]),Te=d.useRef(null),Ce=d.useRef(null),Qe=N=>{var De;const L=(De=N.target.files)==null?void 0:De[0];if(!L)return;const Q=new FileReader;Q.onload=It=>p(It.target.result||""),Q.readAsText(L),N.target.value=""},he=N=>{H(N),setTimeout(()=>H(null),2500)},Ge=async N=>{const L=N==="human"?k:S;if(!L){he("");return}try{const Q=await $(`/api/core-blocks/${L}/history`);J(Q.history||[]),Pe(N)}catch(Q){he("")}};d.useEffect(()=>{(async()=>{const[L,Q]=await Promise.all([$("/api/presets").catch(()=>({presets:[]})),$("/api/world-books").catch(()=>({world_books:[]}))]);if(_(L.presets||[]),B(Q.world_books||[]),n)P(!1);else try{const[De,It]=await Promise.all([$(`/api/assistants/${t}`),$(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(De.name||""),Ur(`assistant-avatar-${t}`).then(Fe=>{Fe&&c(Fe)}).catch(function(){}),p(De.system_prompt||""),h(De.model_preset_id||null),w(De.summary_model_preset_id||null),b(De.summary_fallback_preset_id||null),z(De.rule_set_ids||[]);for(const Fe of It.blocks||[])Fe.block_type==="human"?(m(Fe.content||""),C(Fe.id)):Fe.block_type==="persona"&&(j(Fe.content||""),E(Fe.id))}catch(De){he(": "+De.message)}finally{P(!1)}})()},[t,n]);const xe=N=>{var De;const L=(De=N.target.files)==null?void 0:De[0];if(!L)return;const Q=new FileReader;Q.onload=async It=>{const Fe=It.target.result,Xr=`assistant-avatar-${t||"new"}`;try{await Ci(Xr,Fe),c(Fe)}catch(tl){he("")}},Q.readAsDataURL(L),N.target.value=""},Pt=async()=>{if(!l.trim()){he("");return}ie(!0);try{const N={name:l.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:u,model_preset_id:f,summary_model_preset_id:v,summary_fallback_preset_id:y,rule_set_ids:Rh(R)};let L=t;if(n?(L=(await $("/api/assistants",{method:"POST",body:{name:l.trim()}})).id,i&&(await Ci(`assistant-avatar-${L}`,i),N.avatar_url=`assistant-avatar-${L}`),await $(`/api/assistants/${L}`,{method:"PUT",body:N})):await $(`/api/assistants/${t}`,{method:"PUT",body:N}),k)await $(`/api/core-blocks/${k}`,{method:"PUT",body:{content:x}});else if(x.trim()){const Q=await $("/api/core-blocks",{method:"POST",body:{block_type:"human",assistant_id:Number(L),content:x}});C(Q.id)}if(S)await $(`/api/core-blocks/${S}`,{method:"PUT",body:{content:g}});else if(g.trim()){const Q=await $("/api/core-blocks",{method:"POST",body:{block_type:"persona",assistant_id:Number(L),content:g}});E(Q.id)}he("")}catch(N){he(": "+N.message)}finally{ie(!1)}},pn=[{key:"basic",label:""},{key:"about",label:"Core Blocks"},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:T.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:T.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:K?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Pt,disabled:K,children:o.jsx(Bo,{size:18,style:{color:T.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:pn.map(N=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===N.key?T.bg:"transparent",boxShadow:r===N.key?"var(--card-shadow-sm)":"none",color:r===N.key?T.accentDark:T.textMuted},onClick:()=>s(N.key),children:N.label},N.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:V?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:T.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var N;return(N=Te.current)==null?void 0:N.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:T.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:T.accentDark},children:(l==null?void 0:l[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:T.accentDark},children:o.jsx(eh,{size:9,color:"white"})})]}),o.jsx("input",{ref:Te,type:"file",accept:"image/*",className:"hidden",onChange:xe}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:""}),o.jsx("input",{type:"text",value:l,onChange:N=>a(N.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>{var N;return(N=Ce.current)==null?void 0:N.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:T.textMuted}})}),o.jsx("input",{ref:Ce,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:Qe}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>G(!0),title:"",children:o.jsx(Qs,{size:13,style:{color:T.accentDark}})})]})]}),o.jsx("textarea",{value:u,onChange:N=>p(N.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Ea,{label:"",value:f,onChange:h,presets:I}),o.jsx(Ea,{label:"",value:v,onChange:w,presets:I}),o.jsx(Ea,{label:"",value:y,onChange:b,presets:I})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(wd,{label:"human block",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>de(!0),onHistory:()=>Ge("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(wd,{label:"persona block",value:g,onChange:j,placeholder:"AI ...",rows:7,onExpand:()=>Z(!0),onHistory:()=>Ge("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(V1,{ruleSetIds:R,onChange:z,allBooks:M})})]})}),q&&o.jsx(Ma,{value:u,onChange:p,onClose:()=>G(!1),title:"",placeholder:"..."}),oe&&o.jsx(Ma,{value:x,onChange:m,onClose:()=>de(!1),title:"human block",placeholder:" AI ..."}),Ne&&o.jsx(Ma,{value:g,onChange:j,onClose:()=>Z(!1),title:"persona block",placeholder:"AI ..."}),fe&&o.jsx(U1,{items:$e,currentContent:fe==="human"?x:g,onApply:async N=>{const L=fe==="human"?k:S;try{await $(`/api/core-blocks/${L}`,{method:"PUT",body:{content:N}}),fe==="human"?m(N):j(N),he("")}catch(Q){he("")}},onClose:()=>Pe(null)}),U&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:U})})]})}const ee={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function X1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":ee.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function kd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:n})]}),o.jsx(Ys,{size:16,style:{color:ee.textMuted}})]})}function K1(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function ss({value:e,onChange:t,min:n,max:r}){const[s,l]=d.useState(String(e));d.useEffect(()=>l(String(e)),[e]);const a=()=>{let i=parseInt(s);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),l(String(i)),t(i)};return o.jsx("input",{type:"number",value:s,onChange:i=>l(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:ee.bg,color:ee.text},min:n,max:r})}function Y1(){const e=zt(),[t,n]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessage)||!1}),[r,s]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMin)||30}),[l,a]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMax)||60}),[i,c]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[u,p]=d.useState(8e3),[f,h]=d.useState(16e3),[v,w]=d.useState(!1),[y,b]=d.useState(!1),[x,m]=d.useState(null),g=k=>{m(k),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{$("/api/settings/context-budget").then(k=>{p(k.retain_budget),h(k.trigger_threshold),w(!0)}).catch(()=>w(!0))},[]),d.useEffect(()=>{const k=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...k,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:l}))},[t,r,l]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),$("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]);const j=async()=>{b(!0);try{await $("/api/settings/context-budget",{method:"PUT",body:{retain_budget:u,trigger_threshold:f}}),g("")}catch(k){g("")}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ee.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ee.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:ee.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ee.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(kd,{icon:o.jsx(Cy,{size:18,style:{color:ee.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(K1,{}),o.jsx(kd,{icon:o.jsx(Sy,{size:18,style:{color:ee.textMuted}}),label:"",hint:"",onClick:()=>g("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(jy,{size:18,style:{color:ee.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:" AI "})]}),o.jsx(X1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:ee.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:ee.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ss,{value:r,onChange:s,min:1,max:999}),o.jsx("span",{style:{color:ee.textMuted},children:"~"}),o.jsx(ss,{value:l,onChange:a,min:1,max:999})]})]})})]}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(Ty,{size:18,style:{color:ee.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ss,{value:i,onChange:c,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:ee.textMuted},children:""})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(gy,{size:18,style:{color:ee.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:""})]})]}),v?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ee.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:ee.textMuted},children:" token "})]}),o.jsx(ss,{value:u,onChange:p,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ee.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:ee.textMuted},children:""})]}),o.jsx(ss,{value:f,onChange:h,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:y?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:j,disabled:y,children:y?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:ee.accent,borderTopColor:"transparent"}})})]})]}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const A={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Q1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function G1(e){try{return new URL(e).hostname}catch(t){return e}}function jd({label:e,value:t,onChange:n,placeholder:r,password:s,disabled:l}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:A.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s&&!a?"password":"text",value:t,onChange:c=>n(c.target.value),placeholder:r,disabled:l,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:l?A.textMuted:A.text,opacity:l?.5:1}}),s&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(vy,{size:16,style:{color:A.textMuted}}):o.jsx(yy,{size:16,style:{color:A.textMuted}})})]})]})}function J1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:A.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?A.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?A.accentDark:A.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function q1({value:e,onChange:t,options:n,placeholder:r}){const[s,l]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!s)return;const i=c=>{a.current&&!a.current.contains(c.target)&&l(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[s]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:e?A.text:A.textMuted},onClick:()=>l(!s),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx(Bn,{size:16,style:{color:A.textMuted,flexShrink:0,transform:s?"rotate(180deg)":"none"}})]}),s&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:A.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:A.text},onClick:()=>{t(i),l(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx(Fs,{size:12,style:{color:A.accentDark,flexShrink:0}})]},i))})]})}function Z1({value:e,onChange:t}){const[n,r]=d.useState(!1),s=d.useRef(null);return d.useEffect(()=>{if(!n)return;const l=a=>{s.current&&!s.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]),o.jsxs("div",{className:"relative",ref:s,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:l=>t(l.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:A.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx(Bn,{size:16,style:{color:A.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:A.bg,boxShadow:"var(--card-shadow)"},children:Q1.map(l=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:A.text},onClick:()=>{t(l),r(!1)},children:l},l))})]})}function Ta({value:e,onChange:t,min:n,max:r,step:s}){const[l,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let c=parseFloat(l);isNaN(c)&&(c=n),c=Math.max(n,Math.min(r,c)),c=Math.round(c/s)*s,c=parseFloat(c.toFixed(4)),a(String(c)),t(c)};return o.jsx("input",{type:"number",value:l,onChange:c=>a(c.target.value),onBlur:i,onKeyDown:c=>c.key==="Enter"&&i(),step:s,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:A.text}})}function Sd({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":A.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Da({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:A.bg,boxShadow:"var(--card-shadow)"},children:e})}function e0(){const e=zt(),[t,n]=d.useState([]),[r,s]=d.useState([]),[l,a]=d.useState(!0),[i,c]=d.useState(""),[u,p]=d.useState(""),[f,h]=d.useState("api_key"),[v,w]=d.useState(""),[y,b]=d.useState([]),[x,m]=d.useState(!1),[g,j]=d.useState(1),[k,C]=d.useState(!1),[S,E]=d.useState(1),[R,z]=d.useState(!1),[I,_]=d.useState(4096),[M,B]=d.useState(null),[K,ie]=d.useState(null),[V,P]=d.useState(!1),[U,H]=d.useState(!1),[q,G]=d.useState(""),[oe,de]=d.useState(!1),[Ne,Z]=d.useState(!1),[fe,Pe]=d.useState(null),[$e,J]=d.useState(null),[Te,Ce]=d.useState(""),Qe=d.useRef(null),he=d.useRef(!1),Ge=d.useRef({});Ge.current={baseUrl:i,apiKey:u,authType:f,modelName:v,temperature:g,tempEnabled:k,topP:S,topPEnabled:R,maxTokens:I,editingPreset:M,providers:t};const xe=d.useCallback(O=>{ie(O),setTimeout(()=>ie(null),2500)},[]),Pt=d.useCallback(async()=>{try{const[O,ae]=await Promise.all([$("/api/providers"),$("/api/presets")]);n(O.providers||[]),s(ae.presets||[])}catch(O){xe(": "+O.message)}finally{a(!1)}},[xe]);d.useEffect(()=>{Pt()},[Pt]);const pn=O=>{var re,Ee;B(O),w(O.model_name),C(O.temperature!=null),j((re=O.temperature)!=null?re:1),z(O.top_p!=null),E((Ee=O.top_p)!=null?Ee:1),_(O.max_tokens);const ae=t.find(St=>St.id===O.api_provider_id);ae&&(c(ae.base_url),p(ae.api_key),h(ae.auth_type||"api_key"))},N=()=>{B(null),c(""),p(""),h("api_key"),w(""),j(1),C(!1),E(1),z(!1),_(4096),b([])},L=async()=>{if(!i.trim()||!u.trim()){xe(" API  Key");return}m(!0);try{const O=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${u.trim()}`}});if(!O.ok)throw new Error(`HTTP ${O.status}`);const re=((await O.json()).data||[]).map(Ee=>Ee.id).sort();b(re),xe(re.length?` ${re.length} `:"")}catch(O){xe(": "+O.message)}finally{m(!1)}},Q=async()=>{var O;if(!i.trim()||!u.trim()||!v.trim()){xe(" API Key ");return}P(!0);try{const ae=i.trim().replace(/\/+$/,""),re={"Content-Type":"application/json",Authorization:`Bearer ${u.trim()}`};f==="oauth_token"&&(re["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",re["anthropic-dangerous-direct-browser-access"]="true",re["x-app"]="cli");const Ee=await fetch(`${ae}/chat/completions`,{method:"POST",headers:re,body:JSON.stringify({model:v.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!Ee.ok){const St=await Ee.json().catch(()=>({}));throw new Error(((O=St.error)==null?void 0:O.message)||`HTTP ${Ee.status}`)}xe(" ")}catch(ae){xe(": "+ae.message)}finally{P(!1)}},De=async O=>{const ae=Ge.current,re=ae.baseUrl.trim(),Ee=ae.apiKey.trim(),St=ae.authType,en=O.find(Yo=>Yo.base_url===re);return en?((en.api_key!==Ee||en.auth_type!==St)&&await $(`/api/providers/${en.id}`,{method:"PUT",body:{api_key:Ee,auth_type:St}}),en.id):(await $("/api/providers",{method:"POST",body:{name:G1(re),base_url:re,api_key:Ee,auth_type:St}})).id},It=async(O,ae)=>{const re=Ge.current;if(!re.baseUrl.trim()||!re.apiKey.trim()||!re.modelName.trim()){xe("");return}Z(!0);try{const Ee=await De(re.providers),St={name:O,model_name:re.modelName.trim(),temperature:re.tempEnabled?re.temperature:null,top_p:re.topPEnabled?re.topP:null,max_tokens:Number(re.maxTokens)||4096,api_provider_id:Ee};re.editingPreset&&!ae?(await $(`/api/presets/${re.editingPreset.id}`,{method:"PUT",body:St}),xe("")):(await $("/api/presets",{method:"POST",body:St}),xe("")),await Pt()}catch(Ee){xe(": "+Ee.message)}finally{Z(!1)}},Fe=()=>{const O=q.trim();O&&(H(!1),It(O,oe))},Xr=()=>{M&&It(M.name,!1)},tl=async()=>{if(fe){try{await $(`/api/presets/${fe.id}`,{method:"DELETE"}),xe(""),(M==null?void 0:M.id)===fe.id&&N(),Pt()}catch(O){xe(": "+O.message)}Pe(null)}},qt=async()=>{const O=Te.trim();if(!(!O||!$e)){try{await $(`/api/presets/${$e.id}`,{method:"PUT",body:{name:O}}),xe(""),Pt()}catch(ae){xe("")}J(null)}},Zt=(O,ae)=>{he.current=!1,O.touches?O.touches[0].clientX:O.clientX,O.touches?O.touches[0].clientY:O.clientY,Qe.current=setTimeout(()=>{he.current=!0,Pe(ae)},600)},hn=()=>clearTimeout(Qe.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:A.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:A.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:A.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:l?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:A.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Da,{children:[o.jsx(jd,{label:"API ",value:i,onChange:c,placeholder:"https://api.openai.com/v1",disabled:f==="oauth_token"}),o.jsx(jd,{label:"API Key",value:u,onChange:p,placeholder:f==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:A.textMuted},children:""}),o.jsx(J1,{value:f,onChange:O=>{h(O),O==="oauth_token"&&c("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Da,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:A.textMuted},children:""}),f==="oauth_token"?o.jsx(Z1,{value:v,onChange:w}):o.jsx(q1,{value:v,onChange:w,options:y})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text},onClick:Q,disabled:V,children:[V?o.jsx(td,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text,opacity:f==="oauth_token"?.4:1},onClick:L,disabled:x||f==="oauth_token",children:[x?o.jsx(td,{size:14,className:"animate-spin"}):o.jsx(Nc,{size:14}),""]})]})]}),o.jsxs(Da,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:A.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:A.textMuted},children:""})]}),o.jsx(Sd,{on:k,onToggle:()=>C(!k)})]}),k&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:A.textMuted},children:""}),o.jsx(Ta,{value:g,onChange:j,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:A.text},children:"Top P (0-1)"}),o.jsx(Sd,{on:R,onToggle:()=>z(!R)})]}),R&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:A.textMuted},children:""}),o.jsx(Ta,{value:S,onChange:E,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:A.text},children:"Max Tokens"}),o.jsx(Ta,{value:I,onChange:_,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[M?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Xr,disabled:Ne,children:[o.jsx(Bo,{size:14}),Ne?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text},onClick:()=>{de(!0),G(""),H(!0)},disabled:Ne,children:[o.jsx(xy,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{de(!0),G(""),H(!0)},disabled:Ne,children:[o.jsx(Br,{size:14}),""]}),M&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:A.textMuted},onClick:N,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:A.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:A.bg,boxShadow:"var(--card-shadow)",color:A.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(O=>{var ae,re;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:A.bg,boxShadow:(M==null?void 0:M.id)===O.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{he.current||pn(O)},onTouchStart:Ee=>Zt(Ee,O),onTouchEnd:hn,onMouseDown:Ee=>Zt(Ee,O),onMouseUp:hn,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(M==null?void 0:M.id)===O.id?A.accentDark:A.text},children:O.name}),o.jsx(rh,{size:12,style:{color:A.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:A.textMuted},children:O.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:A.textMuted},children:["T: ",(ae=O.temperature)!=null?ae:""," | Top-P: ",(re=O.top_p)!=null?re:""," | Max: ",O.max_tokens]})]},O.id)})})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>H(!1),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:A.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:O=>O.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:A.text},children:""}),o.jsx("input",{type:"text",value:q,onChange:O=>G(O.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:A.text},autoFocus:!0,onKeyDown:O=>O.key==="Enter"&&Fe()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text},onClick:()=>H(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:q.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Fe,disabled:!q.trim(),children:""})]})]})}),fe&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Pe(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:A.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:O=>O.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:A.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:A.textMuted},children:["",fe.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text},onClick:()=>Pe(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:tl,children:""})]})]})}),$e&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>J(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:A.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:O=>O.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:A.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:Te,onChange:O=>Ce(O.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:A.bg,color:A.text},onKeyDown:O=>O.key==="Enter"&&qt()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:A.bg,boxShadow:"var(--card-shadow-sm)",color:A.text},onClick:()=>J(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:qt,children:""})]})]})}),K&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:K})})]})}const se={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},zh={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},t0=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],n0=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}],Nd=300,jl=80;function r0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:se.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:se.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:se.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:se.bg,boxShadow:"var(--card-shadow-sm)",color:se.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function s0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all .25s ease":"none";u.style.transition=f,u.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/jl)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:se.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-jl,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/jl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-jl:0,!0)},children:e})]})}function l0({block_type:e}){const t=zh[e]||{bg:"rgba(136,136,160,0.1)",color:se.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function o0({content:e}){const[t,n]=d.useState(!1),r=e.length>Nd;return o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:se.text},children:r&&!t?e.slice(0,Nd)+"...":e}),r&&o.jsx("div",{className:"mt-1.5 flex justify-center",children:o.jsx("button",{className:"rounded-full px-3 py-0.5 text-[11px]",style:{color:se.accentDark,background:"rgba(232,160,191,0.12)"},onClick:s=>{s.stopPropagation(),n(!t)},children:t?"":""})})]})}function a0({avatarUrl:e}){return o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full overflow-hidden",style:{boxShadow:"var(--icon-inset)",background:se.bg},children:e?o.jsx("img",{src:e,alt:"",className:"h-full w-full object-cover"}):o.jsx("span",{style:{fontSize:16},children:""})})}function i0({item:e,expanded:t,onToggle:n,live:r,avatarUrl:s}){const l=e.rounds.map(a=>({...a,blocks:a.blocks.filter(i=>i.block_type!=="text")})).filter(a=>a.blocks.length>0);return o.jsxs("div",{className:"rounded-[18px] overflow-hidden",style:{background:se.bg},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx(a0,{avatarUrl:s}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:se.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx("span",{className:"text-[10px]",style:{color:se.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:se.text},children:e.preview||"()"})]}),t?o.jsx(my,{size:16,style:{color:se.textMuted,flexShrink:0}}):o.jsx(Bn,{size:16,style:{color:se.textMuted,flexShrink:0}})]}),t&&l.length>0&&o.jsx("div",{className:"px-4 pb-4",children:l.map(a=>o.jsxs("div",{className:"mb-3",children:[l.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:se.textMuted},children:[" ",a.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),a.blocks.map((i,c)=>{const u=zh[i.block_type]||{bg:"rgba(136,136,160,0.08)",color:se.textMuted,label:i.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:u.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(l0,{block_type:i.block_type}),i.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:u.color},children:i.tool_name})]}),o.jsx(o0,{content:i.content})]},c)})]},a.round_index))})]})}function c0(){const e=zt(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[u,p]=d.useState(!1),[f,h]=d.useState(new Set),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState(null),g=d.useRef(null),[j,k]=d.useState(null),[C,S]=d.useState(!1),E=d.useRef(null),R=()=>{s(!0),w(null),$("/api/cot?limit=30").then(_=>{n(Array.isArray(_)?_:[])}).catch(_=>{console.error("COT load error:",_),w(_.message||"")}).finally(()=>s(!1))};d.useEffect(()=>{R()},[]),d.useEffect(()=>{$("/api/sessions?limit=1").then(_=>{var B;const M=(B=_.sessions)==null?void 0:B[0];M!=null&&M.assistant_id&&Ur(`assistant-avatar-${M.assistant_id}`).then(K=>{K&&m(K)}).catch(()=>{})}).catch(()=>{})},[]),d.useEffect(()=>{$("/api/settings/mood").then(_=>k(_.mood||"calm")).catch(()=>k("calm"))},[]),d.useEffect(()=>{if(!C)return;const _=M=>{E.current&&!E.current.contains(M.target)&&S(!1)};return document.addEventListener("pointerdown",_),()=>document.removeEventListener("pointerdown",_)},[C]),d.useEffect(()=>{const _=localStorage.getItem("whisper_token");if(!_)return;const B=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(_)}`;let K,ie,V=!1;const P=()=>{V||(K=new WebSocket(B),g.current=K,K.onopen=()=>p(!0),K.onmessage=U=>{try{const H=JSON.parse(U.data);if(H.type==="done"){h(Z=>{const fe=new Set(Z);return fe.delete(H.request_id),fe});return}const{request_id:q,round_index:G,block_type:oe,content:de,tool_name:Ne}=H;n(Z=>{const fe=Z.findIndex(J=>J.request_id===q);if(fe>=0){const J={...Z[fe]},Te=[...J.rounds],Ce=Te.findIndex(he=>he.round_index===G);Ce>=0?Te[Ce]={...Te[Ce],blocks:[...Te[Ce].blocks,{block_type:oe,content:de,tool_name:Ne}]}:(Te.push({round_index:G,blocks:[{block_type:oe,content:de,tool_name:Ne}]}),Te.sort((he,Ge)=>he.round_index-Ge.round_index)),J.rounds=Te,oe==="tool_use"&&(J.has_tool_calls=!0),oe==="text"&&!J.preview&&(J.preview=de.slice(0,80));const Qe=[...Z];return Qe[fe]=J,Qe}return[{request_id:q,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:oe==="text"?de.slice(0,80):"",has_tool_calls:oe==="tool_use",rounds:[{round_index:G,blocks:[{block_type:oe,content:de,tool_name:Ne}]}]},...Z]}),h(Z=>new Set(Z).add(q)),a(q)}catch(H){}},K.onclose=()=>{p(!1),g.current=null,V||(ie=setTimeout(P,3e3))},K.onerror=()=>K.close())};return P(),()=>{V=!0,clearTimeout(ie),g.current&&(g.current.onclose=null,g.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const _=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({..._,shortMode:i==="short",theaterMode:i==="theater"})),$("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const z=_=>{k(_),S(!1),$("/api/settings/mood",{method:"PUT",body:{mood:_}}).catch(()=>{})},I=_=>{b({message:" COT ",action:async()=>{try{await $(`/api/cot/${_.request_id}`,{method:"DELETE"}),n(M=>M.filter(B=>B.request_id!==_.request_id))}catch(M){console.error("Delete COT failed:",M)}}})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:se.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:se.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:se.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:se.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:se.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:R,disabled:r,children:o.jsx(Nc,{size:16,style:{color:se.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:E,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:se.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>j&&S(!C),children:j?o.jsx("img",{src:`/miniapp/assets/mood/${j}.png`,alt:j,className:"h-6 w-6",style:{imageRendering:"pixelated"}}):o.jsx("div",{className:"h-6 w-6"})}),C&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:se.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:n0.map((_,M)=>{const B=Math.floor(M/3),K=M%3,ie=j===_.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:ie?"rgba(232,160,191,0.18)":"transparent",boxShadow:[K<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",B<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>z(_.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${_.key}.png`,alt:_.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:ie?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:ie?"#d48aab":se.textMuted},children:_.label})]},_.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:se.bg,width:240},children:t0.map(_=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===_.key?se.bg:"transparent",boxShadow:i===_.key?"var(--card-shadow-sm)":"none",color:i===_.key?se.accentDark:se.textMuted},onClick:()=>c(_.key),children:_.label},_.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:se.accent,borderTopColor:"transparent"}})}):v?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(ed,{size:36,style:{color:"#ef4444",opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:"#ef4444"},children:v})]}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(ed,{size:36,style:{color:se.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:se.textMuted},children:" COT "})]}):t.map(_=>o.jsx(s0,{onDelete:()=>I(_),children:o.jsx(i0,{item:_,expanded:l===_.request_id,onToggle:()=>a(l===_.request_id?null:_.request_id),live:f.has(_.request_id),avatarUrl:x})},_.request_id))}),y&&o.jsx(r0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(_){console.error(_)}b(null)},onCancel:()=>b(null)})]})}const Be={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Sl=80;function u0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all .25s ease":"none";if(u.style.transition=f,u.style.transform=`translateX(${i}px)`,p){const h=Math.min(1,Math.abs(i)/Sl);p.style.transition=f,p.style.opacity=`${h}`}s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Be.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Sl,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Sl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Sl:0,!0)},children:e})]})}function d0({msg:e,roleLabel:t,roleColor:n,fmtTime:r,onDelete:s}){const[l,a]=d.useState(!1);return o.jsx(u0,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:Be.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:n(e.role)},children:t(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:Be.textMuted},children:r(e.created_at)})]}),o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer transition-all",style:{color:Be.text,maxHeight:l?"none":80},onClick:()=>a(!l),children:e.content}),!l&&e.content.length>120&&o.jsx("div",{className:"mt-1 flex justify-end",children:o.jsx(Bn,{size:12,style:{color:Be.textMuted}})})]})})}function f0(){const e=zt(),[t,n]=d.useState([]),[r,s]=d.useState(null),[l,a]=d.useState(!0),[i,c]=d.useState(!1),u=async()=>{var y;a(!0);try{const x=(y=(await $("/api/sessions?limit=1")).sessions)==null?void 0:y[0];if(!x){a(!1);return}s(x.id);const m=await $(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),c(m.has_more||!1)}catch(b){console.error(b)}a(!1)};d.useEffect(()=>{u()},[]);const p=async y=>{if(r)try{await $(`/api/sessions/${r}/messages/${y}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==y))}catch(b){console.error("Delete failed",b)}},f=async()=>{if(!r||!i||l)return;const y=t[t.length-1];if(y){a(!0);try{const b=await $(`/api/sessions/${r}/messages?limit=50&before_id=${y.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),c(b.has_more||!1)}catch(b){console.error(b)}a(!1)}},h=y=>{if(!y)return"";const b=new Date(y),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},v=y=>y==="user"?"":y==="assistant"?"AI":"",w=y=>y==="user"?Be.accentDark:y==="assistant"?"#3a9b5c":Be.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Be.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Be.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:Be.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Be.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Be.bg,boxShadow:l?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:u,disabled:l,children:o.jsx(Nc,{size:16,style:{color:Be.accentDark},className:l?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:Be.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Be.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:Be.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(y=>o.jsx(d0,{msg:y,roleLabel:v,roleColor:w,fmtTime:h,onDelete:()=>p(y.id)},y.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:Be.bg,boxShadow:"var(--card-shadow-sm)",color:Be.accentDark},onClick:f,disabled:l,children:l?"...":""})]})})]})}const X={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},p0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],Nl=80;function vo(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function Pc({text:e,keyword:t}){if(!t||!e)return o.jsx(o.Fragment,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),s=[];let l=0,a=n.indexOf(r,l);for(;a!==-1;)a>l&&s.push(o.jsx("span",{children:e.slice(l,a)},l)),s.push(o.jsx("span",{style:{color:X.accentDark,fontWeight:600},children:e.slice(a,a+r.length)},`h${a}`)),l=a+r.length,a=n.indexOf(r,l);return l<e.length&&s.push(o.jsx("span",{children:e.slice(l)},l)),o.jsx(o.Fragment,{children:s})}function h0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:X.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:X.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function m0({initialText:e,onSave:t,onCancel:n}){const[r,s]=d.useState(e);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-5 w-full max-w-[340px] rounded-[18px] p-4",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsx("textarea",{className:"w-full rounded-[12px] p-3 text-[12px] leading-relaxed resize-none outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text,minHeight:140,maxHeight:280},value:r,onChange:l=>s(l.target.value),autoFocus:!0}),o.jsxs("div",{className:"mt-3 flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.accentDark},onClick:()=>t(r),disabled:!r.trim(),children:""})]})]})})}function Ph({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all .25s ease":"none";u.style.transition=f,u.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/Nl)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Nl,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Nl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Nl:0,!0)},children:e})]})}function Cd({children:e,time:t,badge:n,keyword:r,onSwipeDelete:s,onEdit:l}){const[a,i]=d.useState(!1),c=!!s,u=o.jsxs("div",{className:c?"rounded-[18px] p-3":"mb-3 rounded-[18px] p-3",style:{background:X.bg,boxShadow:c?"none":"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[n,o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer transition-all",style:{color:X.text,maxHeight:a?"none":64},onClick:()=>i(!a),children:o.jsx(Pc,{text:typeof e=="string"?e:"",keyword:r})})]}),l&&o.jsx("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:p=>{p.stopPropagation(),l()},children:o.jsx(rh,{size:11,style:{color:X.accentDark}})})]}),t&&o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:X.textMuted},children:t}),!a&&o.jsx(Bn,{size:12,style:{color:X.textMuted}})]})]});return s?o.jsx(Ph,{onDelete:s,children:u}):u}function x0({content:e,deletedAt:t,keyword:n,onRestore:r,onPermanentDelete:s}){const[l,a]=d.useState(!1);return o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer",style:{color:X.text,maxHeight:l?"none":64},onClick:()=>a(!l),children:o.jsx(Pc,{text:e,keyword:n})}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:X.textMuted},children:t?` ${vo(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:r,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:s,children:""})]})]})]})}function g0({msg:e,keyword:t,roleLabel:n,roleColor:r,onDelete:s}){const[l,a]=d.useState(!1);return o.jsx(Ph,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:X.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:r(e.role)},children:n(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:X.textMuted},children:vo(e.created_at)})]}),o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer transition-all",style:{color:X.text,maxHeight:l?"none":80},onClick:()=>a(!l),children:o.jsx(Pc,{text:e.content,keyword:t})}),!l&&e.content.length>120&&o.jsx("div",{className:"mt-1 flex justify-end",children:o.jsx(Bn,{size:12,style:{color:X.textMuted}})})]})})}function y0(){const e=zt(),[t,n]=d.useState("memories"),[r,s]=d.useState(!1),[l,a]=d.useState(null),[i,c]=d.useState([]),[u,p]=d.useState(null),[f,h]=d.useState(""),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState([]),[g,j]=d.useState([]),[k,C]=d.useState([]),[S,E]=d.useState([]),[R,z]=d.useState([]),[I,_]=d.useState(!0),[M,B]=d.useState(!1);d.useEffect(()=>{$("/api/sessions?limit=50").then(N=>{const L=N.sessions||[];c(L),L.length>0&&!l&&a(L[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{l&&$(`/api/sessions/${l}/info`).then(N=>p(N.assistant_name||null)).catch(()=>p(null))},[l]),d.useEffect(()=>{l&&K()},[l,r]),d.useEffect(()=>{l&&!r&&K()},[t]);const K=async()=>{if(l){_(!0);try{if(r){const[N,L]=await Promise.all([$("/api/memories/trash?limit=100"),$(`/api/sessions/${l}/summaries/trash`)]);E(N.memories||[]),z(L.summaries||[])}else if(t==="memories"){const N=await $("/api/memories?limit=100");m(N.memories||[])}else if(t==="summaries"){const N=await $(`/api/sessions/${l}/summaries`);j(N.summaries||[])}else{const N=await $(`/api/sessions/${l}/messages?limit=50`);C((N.messages||[]).reverse()),B(N.has_more||!1)}}catch(N){console.error(N)}_(!1)}},ie=async()=>{if(!l||!M||I)return;const N=k[k.length-1];if(N){_(!0);try{const L=await $(`/api/sessions/${l}/messages?limit=50&before_id=${N.id}`);C(Q=>[...Q,...(L.messages||[]).reverse()]),B(L.has_more||!1)}catch(L){console.error(L)}_(!1)}},V=f.trim().toLowerCase(),P=d.useMemo(()=>V?x.filter(N=>N.content.toLowerCase().includes(V)):x,[x,V]),U=d.useMemo(()=>V?g.filter(N=>(N.summary_content||"").toLowerCase().includes(V)):g,[g,V]),H=d.useMemo(()=>V?k.filter(N=>N.content.toLowerCase().includes(V)):k,[k,V]),q=d.useMemo(()=>V?S.filter(N=>N.content.toLowerCase().includes(V)):S,[S,V]),G=d.useMemo(()=>V?R.filter(N=>(N.summary_content||"").toLowerCase().includes(V)):R,[R,V]),oe=(N,L)=>w({message:N,action:L}),de=N=>oe("",async()=>{await $(`/api/memories/${N}`,{method:"DELETE"}),m(L=>L.filter(Q=>Q.id!==N))}),Ne=N=>oe("",async()=>{await $(`/api/sessions/${l}/summaries/${N}`,{method:"DELETE"}),j(L=>L.filter(Q=>Q.id!==N))}),Z=N=>oe("",async()=>{await $(`/api/sessions/${l}/messages/${N}`,{method:"DELETE"}),C(L=>L.filter(Q=>Q.id!==N))}),fe=async N=>{await $(`/api/memories/${N}/restore`,{method:"POST"}),E(L=>L.filter(Q=>Q.id!==N))},Pe=N=>oe("",async()=>{await $(`/api/memories/${N}/permanent`,{method:"DELETE"}),E(L=>L.filter(Q=>Q.id!==N))}),$e=async N=>{await $(`/api/sessions/${l}/summaries/${N}/restore`,{method:"POST"}),z(L=>L.filter(Q=>Q.id!==N))},J=N=>oe("",async()=>{await $(`/api/sessions/${l}/summaries/${N}/permanent`,{method:"DELETE"}),z(L=>L.filter(Q=>Q.id!==N))}),Te=async N=>{if(y){try{y.type==="memory"?(await $(`/api/memories/${y.id}`,{method:"PUT",body:{content:N}}),m(L=>L.map(Q=>Q.id===y.id?{...Q,content:N}:Q))):(await $(`/api/sessions/${l}/summaries/${y.id}`,{method:"PATCH",body:{summary_content:N}}),j(L=>L.map(Q=>Q.id===y.id?{...Q,summary_content:N}:Q)))}catch(L){console.error(L)}b(null)}},Ce=N=>N==="user"?"":N==="assistant"?u||"":"",Qe=N=>N==="user"?X.accentDark:N==="assistant"?"#8d68c4":X.textMuted,pn=r?(()=>{if(I)return o.jsx(Cl,{});const N=t==="memories"?q:G;return N.length===0?o.jsx(El,{text:V?"":""}):N.map(L=>o.jsx(x0,{content:L.content||L.summary_content||"()",deletedAt:L.deleted_at,keyword:V,onRestore:()=>t==="memories"?fe(L.id):$e(L.id),onPermanentDelete:()=>t==="memories"?Pe(L.id):J(L.id)},L.id))})():t==="memories"?I&&x.length===0?o.jsx(Cl,{}):P.length===0?o.jsx(El,{text:V?"":""}):P.map(N=>o.jsx(Cd,{time:vo(N.created_at),keyword:V,onSwipeDelete:()=>de(N.id),onEdit:()=>b({type:"memory",id:N.id,text:N.content}),badge:o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:X.accentDark},children:N.klass}),children:N.content},N.id)):t==="summaries"?I&&g.length===0?o.jsx(Cl,{}):U.length===0?o.jsx(El,{text:V?"":""}):U.map(N=>o.jsx(Cd,{time:vo(N.created_at),keyword:V,onSwipeDelete:()=>Ne(N.id),onEdit:()=>b({type:"summary",id:N.id,text:N.summary_content}),badge:N.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:X.accentDark},children:N.mood_tag}):null,children:N.summary_content||"()"},N.id)):I&&k.length===0?o.jsx(Cl,{}):H.length===0?o.jsx(El,{text:V?"":""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:X.textMuted},children:""}),H.map(N=>o.jsx(g0,{msg:N,keyword:V,roleLabel:Ce,roleColor:Qe,onDelete:()=>Z(N.id)},N.id)),M&&!V&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.accentDark},onClick:ie,disabled:I,children:I?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:X.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>s(!r),children:o.jsx(lr,{size:16,style:{color:r?"#ef4444":X.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:X.bg,boxShadow:"var(--inset-shadow)"},children:p0.map(N=>{const L=r&&N.key==="messages",Q=t===N.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:L?{color:X.textMuted,opacity:.35,cursor:"default"}:Q?{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.accentDark}:{color:X.textMuted},disabled:L,onClick:()=>!L&&n(N.key),children:N.label},N.key)})})}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",style:{width:"33%"},children:[o.jsx("select",{className:"w-full appearance-none rounded-[12px] py-2 pl-3 pr-7 text-[11px] font-medium outline-none truncate",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.text,WebkitAppearance:"none"},value:l!=null?l:"",onChange:N=>a(Number(N.target.value)),children:i.map(N=>o.jsxs("option",{value:N.id,children:["#",N.id," ",N.title||""]},N.id))}),o.jsx(Bn,{size:12,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",style:{color:X.textMuted}})]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ny,{size:13,className:"absolute left-2.5 top-1/2 -translate-y-1/2",style:{color:X.textMuted}}),o.jsx("input",{className:"w-full rounded-[12px] py-2 pl-8 pr-7 text-[11px] outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text},placeholder:"...",value:f,onChange:N=>h(N.target.value)}),f&&o.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>h(""),children:o.jsx(Gs,{size:13,style:{color:X.textMuted}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:pn}),v&&o.jsx(h0,{message:v.message,onConfirm:async()=>{try{await v.action()}catch(N){console.error(N)}w(null)},onCancel:()=>w(null)}),y&&o.jsx(m0,{initialText:y.text,onSave:Te,onCancel:()=>b(null)})]})}function Cl(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:X.accent,borderTopColor:"transparent"}})})}function El({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:X.textMuted},children:e})}const W={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},v0=[{key:"theirs",label:""},{key:"mine",label:""}],Ml=80;function Ih(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function w0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:W.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:W.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function b0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all 0.25s cubic-bezier(.4,0,.2,1)":"none";u.style.transition=f,u.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/Ml)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(lr,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Ml,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Ml)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Ml:0,!0)},children:e})]})}function k0({unlockAt:e}){const[t,n]=d.useState(Date.now());d.useEffect(()=>{const u=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(u)},[]);const r=new Date(e).getTime()-t;if(r<=0)return null;const s=Math.floor(r/864e5),l=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);let c="";return s>0&&(c+=`${s}`),(l>0||s>0)&&(c+=`${l}`),c+=`${a}${i}`,o.jsxs("div",{className:"flex items-center gap-1.5 text-[12px]",style:{color:W.accentDark},children:[o.jsx(ky,{size:12}),o.jsx("span",{children:c})]})}function j0({assistants:e,avatarMap:t,currentId:n,onSelect:r,onClose:s}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:s,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-5",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:W.text},children:""}),o.jsx("button",{onClick:s,children:o.jsx(Gs,{size:18,style:{color:W.textMuted}})})]}),o.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(l=>{var i;const a=t[l.id]||l.avatar_url;return o.jsxs("button",{className:"mb-2 flex w-full items-center gap-3 rounded-[14px] p-3 text-left",style:{background:W.bg,boxShadow:l.id===n?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{r(l.id),s()},children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:36,height:36,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:2},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:W.bg},children:a?o.jsx("img",{src:a,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:W.accentDark},children:((i=l.name)==null?void 0:i[0])||"?"})})}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:W.text},children:l.name})]},l.id)})})]})})}function S0({diary:e,onBack:t,onMarkRead:n}){return d.useEffect(()=>{e&&!e.is_read&&e.author==="assistant"&&(!e.unlock_at||new Date(e.unlock_at)<=new Date)&&n(e.id)},[e]),o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:t,children:o.jsx(jt,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[15px] font-bold truncate max-w-[60%]",style:{color:W.text},children:e.title||""}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:o.jsxs("div",{className:"rounded-[18px] p-5",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{className:"mb-3 text-[10px]",style:{color:W.textMuted},children:Ih(e.created_at)}),o.jsx("div",{className:"text-[13px] leading-[28px]",style:{color:W.text},children:e.content.split(`
`).map((r,s)=>o.jsx("div",{style:{borderBottom:"1px solid rgba(0,0,0,0.06)",minHeight:28},children:r||""},s))})]})})]})}function N0({assistantId:e,onSave:t,onCancel:n}){const[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(!1),[u,p]=d.useState(""),[f,h]=d.useState(!1),[v,w]=d.useState(!1),y=async()=>{if(!(!l.trim()||f)){h(!0);try{const b={assistant_id:e,author:"user",title:r.trim(),content:l.trim()};i&&u&&(b.unlock_at=new Date(u).toISOString()),await t(b)}finally{h(!1)}}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(jt,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[15px] font-bold",style:{color:W.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:l.trim()?"var(--card-shadow-sm)":"var(--inset-shadow)"},onClick:y,disabled:!l.trim()||f,children:o.jsx("span",{className:"text-[12px] font-bold",style:{color:l.trim()?W.accentDark:W.textMuted},children:""})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[!v&&o.jsx("input",{className:"mb-3 w-full rounded-[12px] px-3 py-2.5 text-[13px] font-medium outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text},placeholder:"",value:r,onChange:b=>s(b.target.value)}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx("textarea",{className:"w-full rounded-[14px] p-3 text-[13px] leading-[28px] resize-none outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text,minHeight:v?"calc(100vh - 120px)":200,backgroundImage:"repeating-linear-gradient(transparent, transparent 27px, rgba(0,0,0,0.05) 27px, rgba(0,0,0,0.05) 28px)",backgroundPositionY:9},placeholder:"...",value:l,onChange:b=>a(b.target.value),autoFocus:!0}),o.jsx("button",{className:"absolute top-2 right-2 flex h-7 w-7 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>w(!v),children:v?o.jsx(Lr,{size:13,style:{color:W.accentDark}}):o.jsx(Qs,{size:13,style:{color:W.accentDark}})})]}),!v&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between rounded-[14px] px-4 py-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[13px] font-medium",style:{color:W.text},children:""}),o.jsx("p",{className:"text-[10px]",style:{color:W.textMuted},children:""})]}),o.jsx("button",{className:"relative h-7 w-12 rounded-full transition-colors",style:{background:i?W.accent:"rgba(0,0,0,0.1)"},onClick:()=>{if(!i&&!u){const b=new Date;b.setDate(b.getDate()+1),b.setHours(9,0,0,0);const x=m=>String(m).padStart(2,"0");p(`${b.getFullYear()}-${x(b.getMonth()+1)}-${x(b.getDate())}T${x(b.getHours())}:${x(b.getMinutes())}`)}c(!i)},children:o.jsx("div",{className:"absolute top-0.5 h-6 w-6 rounded-full transition-transform",style:{background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transform:i?"translateX(22px)":"translateX(2px)"}})})]}),i&&o.jsxs("div",{className:"rounded-[14px] px-4 py-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("p",{className:"mb-2 text-[12px] font-medium",style:{color:W.text},children:""}),o.jsx("input",{type:"datetime-local",className:"w-full rounded-[10px] px-3 py-2 text-[13px] outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text},value:u,onChange:b=>p(b.target.value)})]})]})]})]})}function C0(){var _;const e=zt(),[t,n]=d.useState("theirs"),[r,s]=d.useState([]),[l,a]=d.useState({}),[i,c]=d.useState(null),[u,p]=d.useState(!1),[f,h]=d.useState([]),[v,w]=d.useState(!0),[y,b]=d.useState(null),[x,m]=d.useState(null),[g,j]=d.useState(!1);d.useEffect(()=>{$("/api/assistants").then(async M=>{const B=M.assistants||[];s(B),B.length>0&&!i&&c(B[0].id);const K={};await Promise.all(B.map(async ie=>{const V=await Ur(`assistant-avatar-${ie.id}`).catch(()=>null);V&&(K[ie.id]=V)})),a(K)}).catch(()=>{})},[]);const k=r.find(M=>M.id===i),C=i&&l[i]||(k==null?void 0:k.avatar_url);d.useEffect(()=>{i!=null&&S()},[i,t]);const S=async()=>{w(!0);try{const B=await $(`/api/diary?assistant_id=${i}&author=${t==="theirs"?"assistant":"user"}&limit=100`);h(B.diary||[])}catch(M){console.error(M)}w(!1)},E=M=>{b({message:"",action:async()=>{await $(`/api/diary/${M}`,{method:"DELETE"}),h(B=>B.filter(K=>K.id!==M))}})},R=async M=>{try{await $(`/api/diary/${M}/read`,{method:"POST"}),h(B=>B.map(K=>K.id===M?{...K,is_read:!0}:K))}catch(B){console.error(B)}},z=async M=>{await $("/api/diary",{method:"POST",body:M}),j(!1),S()},I=M=>{M.unlock_at&&new Date(M.unlock_at)>new Date||m(M)};return x?o.jsx(S0,{diary:x,onBack:()=>{m(null),S()},onMarkRead:R}):g?o.jsx(N0,{assistantId:i,onSave:z,onCancel:()=>j(!1)}):o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:W.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{border:"2px solid #e8a0bf",padding:2},onClick:()=>p(!0),children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:W.bg},children:C?o.jsx("img",{src:C,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:W.accentDark},children:((_=k==null?void 0:k.name)==null?void 0:_[0])||"?"})})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:W.bg,boxShadow:"var(--inset-shadow)"},children:v0.map(M=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:t===M.key?{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark}:{color:W.textMuted},onClick:()=>n(M.key),children:M.label},M.key))})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:v?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:W.accent,borderTopColor:"transparent"}})}):f.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:W.textMuted},children:t==="theirs"?"":""}):f.map(M=>{const B=M.unlock_at&&new Date(M.unlock_at)>new Date;return o.jsx(b0,{onDelete:()=>E(M.id),children:o.jsxs("div",{className:"p-4 rounded-[18px]",style:{background:W.bg,userSelect:"none"},onClick:()=>I(M),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[!M.is_read&&M.author==="assistant"&&!B&&o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{background:"#ef4444"}}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:W.text},children:M.title||""})]}),o.jsx("span",{className:"text-[10px] shrink-0 ml-2",style:{color:W.textMuted},children:Ih(M.created_at)})]}),B?o.jsx(k0,{unlockAt:M.unlock_at}):o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:W.textMuted,maxHeight:40,overflow:"hidden"},children:M.content.length>60?M.content.slice(0,60)+"...":M.content})]})},M.id)})}),t==="mine"&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center",style:{zIndex:30},children:o.jsx("button",{className:"flex h-12 w-12 items-center justify-center rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",boxShadow:"0 4px 14px rgba(232,160,191,0.4)"},onClick:()=>j(!0),children:o.jsx(Br,{size:22,color:"white"})})}),u&&o.jsx(j0,{assistants:r,avatarMap:l,currentId:i,onSelect:c,onClose:()=>p(!1)}),y&&o.jsx(w0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(M){console.error(M)}b(null)},onCancel:()=>b(null)})]})}const ue={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function E0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:ue.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:ue.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Lr,{size:18,style:{color:ue.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:ue.bg,color:ue.text},placeholder:"..."})]})}function M0(){const e=zt(),[t,n]=d.useState(""),[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,p]=d.useState(!1),[f,h]=d.useState(!0),[v,w]=d.useState(null),[y,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=S=>{w(S),setTimeout(()=>w(null),2e3)};d.useEffect(()=>{$("/api/user/profile").then(S=>{n(S.nickname||""),s(S.background_url||""),a(S.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Ur("user-avatar").then(S=>{S&&c(S)}).catch(function(){})},[]);const j=S=>{var z;const E=(z=S.target.files)==null?void 0:z[0];if(!E)return;const R=new FileReader;R.onload=async I=>{const _=I.target.result;try{await Ci("user-avatar",_),c(_)}catch(M){g("")}},R.readAsDataURL(E),S.target.value=""},k=S=>{var z;const E=(z=S.target.files)==null?void 0:z[0];if(!E)return;const R=new FileReader;R.onload=I=>a(I.target.result||""),R.readAsText(E),S.target.value=""},C=async()=>{p(!0);try{const S={nickname:t.trim()||null,background_url:r||null,basic_info:l||null,avatar_url:i?"user-avatar":null};await $("/api/user/profile",{method:"PUT",body:S});try{const E=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...E,...S}))}catch(E){}g("")}catch(S){g("")}finally{p(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ue.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(jt,{size:22,style:{color:ue.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ue.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:u?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:C,disabled:u,children:o.jsx(Bo,{size:18,style:{color:ue.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:f?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:ue.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:ue.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ue.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:ue.accentDark},children:o.jsx(eh,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:j}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:S=>s(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:ue.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ue.bg},onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:ue.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:k}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ue.bg},onClick:()=>b(!0),title:"",children:o.jsx(Qs,{size:13,style:{color:ue.accentDark}})})]})]}),o.jsx("textarea",{value:l,onChange:S=>a(S.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]})]})}),y&&o.jsx(E0,{value:l,onChange:a,onClose:()=>b(!1)}),v&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:v})})]})}function T0(){return d.useEffect(()=>{var t;const e=()=>{var s;const n=(s=window.Telegram)==null?void 0:s.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),o.jsx(iy,{children:o.jsxs(ly,{children:[o.jsx(nt,{path:"/",element:o.jsx(Ry,{})}),o.jsx(nt,{path:"/profile",element:o.jsx(M0,{})}),o.jsx(nt,{path:"/world-books",element:o.jsx(Oy,{})}),o.jsx(nt,{path:"/world-books/new",element:o.jsx(ld,{})}),o.jsx(nt,{path:"/world-books/:id",element:o.jsx(ld,{})}),o.jsx(nt,{path:"/assistants",element:o.jsx(Yy,{})}),o.jsx(nt,{path:"/assistants/new",element:o.jsx(bd,{})}),o.jsx(nt,{path:"/assistants/:id",element:o.jsx(bd,{})}),o.jsx(nt,{path:"/settings",element:o.jsx(Y1,{})}),o.jsx(nt,{path:"/settings/api",element:o.jsx(e0,{})}),o.jsx(nt,{path:"/cot",element:o.jsx(c0,{})}),o.jsx(nt,{path:"/memories",element:o.jsx(y0,{})}),o.jsx(nt,{path:"/diary",element:o.jsx(C0,{})}),o.jsx(nt,{path:"/messages",element:o.jsx(f0,{})})]})})}_a.createRoot(document.getElementById("root")).render(o.jsx(ve.StrictMode,{children:o.jsx(T0,{})}));
