function Rh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kd={exports:{}},ho={},bd={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),Ph=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),Ru=Symbol.iterator;function Wh(e){return e===null||typeof e!="object"?null:(e=Ru&&e[Ru]||e["@@iterator"],typeof e=="function"?e:null)}var Sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jd=Object.assign,Nd={};function Pr(e,t,n){this.props=e,this.context=t,this.refs=Nd,this.updater=n||Sd}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=Pr.prototype;function Ci(e,t,n){this.props=e,this.context=t,this.refs=Nd,this.updater=n||Sd}var Ei=Ci.prototype=new Cd;Ei.constructor=Ci;jd(Ei,Pr.prototype);Ei.isPureReactComponent=!0;var zu=Array.isArray,Ed=Object.prototype.hasOwnProperty,Mi={current:null},Md={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ed.call(t,r)&&!Md.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Fl,type:e,key:s,ref:a,props:l,_owner:Mi.current}}function Vh(e,t){return{$$typeof:Fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fl}function Xh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pu=/\/+/g;function Xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xh(""+e.key):t.toString(36)}function js(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fl:case Ph:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Xo(a,0):r,zu(l)?(n="",e!=null&&(n=e.replace(Pu,"$&/")+"/"),js(l,t,n,"",function(c){return c})):l!=null&&(Ti(l)&&(l=Vh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Pu,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",zu(e))for(var i=0;i<e.length;i++){s=e[i];var u=r+Xo(s,i);a+=js(s,t,n,u,l)}else if(u=Wh(e),typeof u=="function")for(e=u.call(e),i=0;!(s=e.next()).done;)s=s.value,u=r+Xo(s,i++),a+=js(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zl(e,t,n){if(e==null)return e;var r=[],l=0;return js(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Kh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Ns={transition:null},Qh={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:Mi};function _d(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Zl,forEach:function(e,t,n){Zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zl(e,function(){t++}),t},toArray:function(e){return Zl(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Pr;Y.Fragment=Ih;Y.Profiler=Oh;Y.PureComponent=Ci;Y.StrictMode=Lh;Y.Suspense=Bh;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qh;Y.act=_d;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jd({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Mi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Ed.call(t,u)&&!Md.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Fl,type:e.type,key:l,ref:s,props:r,_owner:a}};Y.createContext=function(e){return e={$$typeof:Fh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ah,_context:e},e.Consumer=e};Y.createElement=Td;Y.createFactory=function(e){var t=Td.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:$h,render:e}};Y.isValidElement=Ti;Y.lazy=function(e){return{$$typeof:Hh,_payload:{_status:-1,_result:e},_init:Kh}};Y.memo=function(e,t){return{$$typeof:Uh,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Ns.transition;Ns.transition={};try{e()}finally{Ns.transition=t}};Y.unstable_act=_d;Y.useCallback=function(e,t){return tt.current.useCallback(e,t)};Y.useContext=function(e){return tt.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};Y.useEffect=function(e,t){return tt.current.useEffect(e,t)};Y.useId=function(){return tt.current.useId()};Y.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return tt.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};Y.useRef=function(e){return tt.current.useRef(e)};Y.useState=function(e){return tt.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return tt.current.useTransition()};Y.version="18.3.1";bd.exports=Y;var d=bd.exports;const ge=zh(d),Yh=Rh({__proto__:null,default:ge},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=d,Jh=Symbol.for("react.element"),qh=Symbol.for("react.fragment"),Zh=Object.prototype.hasOwnProperty,em=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Zh.call(t,r)&&!tm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Jh,type:e,key:s,ref:a,props:l,_owner:em.current}}ho.Fragment=qh;ho.jsx=Dd;ho.jsxs=Dd;kd.exports=ho;var o=kd.exports,Ea={},Rd={exports:{}},wt={},zd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,L){var A=z.length;z.push(L);e:for(;0<A;){var G=A-1>>>1,V=z[G];if(0<l(V,L))z[G]=L,z[A]=V,A=G;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var L=z[0],A=z.pop();if(A!==L){z[0]=A;e:for(var G=0,V=z.length,ae=V>>>1;G<ae;){var ne=2*(G+1)-1,Ne=z[ne],re=ne+1,he=z[re];if(0>l(Ne,A))re<V&&0>l(he,Ne)?(z[G]=he,z[re]=A,G=re):(z[G]=Ne,z[ne]=A,G=ne);else if(re<V&&0>l(he,A))z[G]=he,z[re]=A,G=re;else break e}}return L}function l(z,L){var A=z.sortIndex-L.sortIndex;return A!==0?A:z.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var u=[],c=[],p=1,f=null,h=3,y=!1,k=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(z){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=z)r(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function j(z){if(v=!1,g(z),!k)if(n(u)!==null)k=!0,ye(w);else{var L=n(c);L!==null&&se(j,L.startTime-z)}}function w(z,L){k=!1,v&&(v=!1,x(C),C=-1),y=!0;var A=h;try{for(g(L),f=n(u);f!==null&&(!(f.expirationTime>L)||z&&!R());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var V=G(f.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&r(u),g(L)}else r(u);f=n(u)}if(f!==null)var ae=!0;else{var ne=n(c);ne!==null&&se(j,ne.startTime-L),ae=!1}return ae}finally{f=null,h=A,y=!1}}var N=!1,S=null,C=-1,T=5,D=-1;function R(){return!(e.unstable_now()-D<T)}function K(){if(S!==null){var z=e.unstable_now();D=z;var L=!0;try{L=S(!0,z)}finally{L?F():(N=!1,S=null)}}else N=!1}var F;if(typeof m=="function")F=function(){m(K)};else if(typeof MessageChannel!="undefined"){var X=new MessageChannel,de=X.port2;X.port1.onmessage=K,F=function(){de.postMessage(null)}}else F=function(){b(K,0)};function ye(z){S=z,N||(N=!0,F())}function se(z,L){C=b(function(){z(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,ye(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var A=h;h=L;try{return z()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=h;h=z;try{return L()}finally{h=A}},e.unstable_scheduleCallback=function(z,L,A){var G=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=A+V,z={id:p++,callback:L,priorityLevel:z,startTime:A,expirationTime:V,sortIndex:-1},A>G?(z.sortIndex=A,t(c,z),n(u)===null&&z===n(c)&&(v?(x(C),C=-1):v=!0,se(j,A-G))):(z.sortIndex=V,t(u,z),k||y||(k=!0,ye(w))),z},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(z){var L=h;return function(){var A=h;h=L;try{return z.apply(this,arguments)}finally{h=A}}}})(Pd);zd.exports=Pd;var nm=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=d,yt=nm;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Id=new Set,xl={};function qn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(xl[e]=t,e=0;e<t.length;e++)Id.add(t[e])}var on=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ma=Object.prototype.hasOwnProperty,lm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iu={},Lu={};function sm(e){return Ma.call(Lu,e)?!0:Ma.call(Iu,e)?!1:lm.test(e)?Lu[e]=!0:(Iu[e]=!0,!1)}function om(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function am(e,t,n,r){if(t===null||typeof t=="undefined"||om(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _i=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_i,Di);Xe[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_i,Di);Xe[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_i,Di);Xe[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ri(e,t,n,r){var l=Xe.hasOwnProperty(t)?Xe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(am(t,n,l,r)&&(n=null),r||l===null?sm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dn=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),or=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),zi=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Pi=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Ii=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Ad=Symbol.for("react.offscreen"),Ou=Symbol.iterator;function Wr(e){return e===null||typeof e!="object"?null:(e=Ou&&e[Ou]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Ko;function Zr(e){if(Ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||""}return`
`+Ko+e}var Qo=!1;function Yo(e,t){if(!e||Qo)return"";Qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,i=s.length-1;1<=a&&0<=i&&l[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==s[i]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=i);break}}}finally{Qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zr(e):""}function im(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case or:return"Portal";case Ta:return"Profiler";case zi:return"StrictMode";case _a:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case Pi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ii:return t=e.displayName||null,t!==null?t:Ra(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return Ra(e(t))}catch(n){}}return null}function um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(t);case 8:return t===zi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cm(e){var t=Fd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=cm(e))}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function za(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bd(e,t){t=t.checked,t!=null&&Ri(e,"checked",t,!1)}function Pa(e,t){Bd(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var el=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function La(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(el(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function Ud(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Wd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dm=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function Vd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function Xd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Vd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var fm=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(e,t){if(t){if(fm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,wr=null,kr=null;function Uu(e){if(e=Ul(e)){if(typeof Ba!="function")throw Error(_(280));var t=e.stateNode;t&&(t=yo(t),Ba(e.stateNode,e.type,t))}}function Kd(e){wr?kr?kr.push(e):kr=[e]:wr=e}function Qd(){if(wr){var e=wr,t=kr;if(kr=wr=null,Uu(e),t)for(e=0;e<t.length;e++)Uu(t[e])}}function Yd(e,t){return e(t)}function Gd(){}var Go=!1;function Jd(e,t,n){if(Go)return e(t,n);Go=!0;try{return Yd(e,t,n)}finally{Go=!1,(wr!==null||kr!==null)&&(Gd(),Qd())}}function vl(e,t){var n=e.stateNode;if(n===null)return null;var r=yo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Ua=!1;if(on)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch(e){Ua=!1}function pm(e,t,n,r,l,s,a,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var ll=!1,As=null,Fs=!1,Ha=null,hm={onError:function(e){ll=!0,As=e}};function mm(e,t,n,r,l,s,a,i,u){ll=!1,As=null,pm.apply(hm,arguments)}function xm(e,t,n,r,l,s,a,i,u){if(mm.apply(this,arguments),ll){if(ll){var c=As;ll=!1,As=null}else throw Error(_(198));Fs||(Fs=!0,Ha=c)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hu(e){if(Zn(e)!==e)throw Error(_(188))}function gm(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Hu(l),e;if(s===r)return Hu(l),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Zd(e){return e=gm(e),e!==null?ef(e):null}function ef(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ef(e);if(t!==null)return t;e=e.sibling}return null}var tf=yt.unstable_scheduleCallback,Wu=yt.unstable_cancelCallback,vm=yt.unstable_shouldYield,ym=yt.unstable_requestPaint,De=yt.unstable_now,wm=yt.unstable_getCurrentPriorityLevel,Oi=yt.unstable_ImmediatePriority,nf=yt.unstable_UserBlockingPriority,$s=yt.unstable_NormalPriority,km=yt.unstable_LowPriority,rf=yt.unstable_IdlePriority,mo=null,Qt=null;function bm(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Lt=Math.clz32?Math.clz32:Nm,Sm=Math.log,jm=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(Sm(e)/jm|0)|0}var rs=64,ls=4194304;function tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=tl(i):(s&=a,s!==0&&(r=tl(s)))}else a=n&~l,a!==0?r=tl(a):s!==0&&(r=tl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lt(t),l=1<<n,r|=e[n],t&=~l;return r}function Cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Lt(s),i=1<<a,u=l[a];u===-1?(!(i&n)||i&r)&&(l[a]=Cm(i,t)):u<=t&&(e.expiredLanes|=i),s&=~i}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function Jo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $l(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=n}function Mm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Lt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ie=0;function sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var of,Fi,af,uf,cf,Va=!1,ss=[],Nn=null,Cn=null,En=null,yl=new Map,wl=new Map,wn=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function Xr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ul(t),t!==null&&Fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function _m(e,t,n,r,l){switch(t){case"focusin":return Nn=Xr(Nn,e,t,n,r,l),!0;case"dragenter":return Cn=Xr(Cn,e,t,n,r,l),!0;case"mouseover":return En=Xr(En,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return yl.set(s,Xr(yl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,wl.set(s,Xr(wl.get(s)||null,e,t,n,r,l)),!0}return!1}function df(e){var t=Bn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=qd(n),t!==null){e.blockedOn=t,cf(e.priority,function(){af(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$a=r,n.target.dispatchEvent(r),$a=null}else return t=Ul(n),t!==null&&Fi(t),e.blockedOn=n,!1;t.shift()}return!0}function Xu(e,t,n){Cs(e)&&n.delete(t)}function Dm(){Va=!1,Nn!==null&&Cs(Nn)&&(Nn=null),Cn!==null&&Cs(Cn)&&(Cn=null),En!==null&&Cs(En)&&(En=null),yl.forEach(Xu),wl.forEach(Xu)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Dm)))}function kl(e){function t(l){return Kr(l,e)}if(0<ss.length){Kr(ss[0],e);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&Kr(Nn,e),Cn!==null&&Kr(Cn,e),En!==null&&Kr(En,e),yl.forEach(t),wl.forEach(t),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)df(n),n.blockedOn===null&&wn.shift()}var br=dn.ReactCurrentBatchConfig,Us=!0;function Rm(e,t,n,r){var l=ie,s=br.transition;br.transition=null;try{ie=1,$i(e,t,n,r)}finally{ie=l,br.transition=s}}function zm(e,t,n,r){var l=ie,s=br.transition;br.transition=null;try{ie=4,$i(e,t,n,r)}finally{ie=l,br.transition=s}}function $i(e,t,n,r){if(Us){var l=Xa(e,t,n,r);if(l===null)aa(e,t,r,Hs,n),Vu(e,r);else if(_m(l,e,t,n,r))r.stopPropagation();else if(Vu(e,r),t&4&&-1<Tm.indexOf(e)){for(;l!==null;){var s=Ul(l);if(s!==null&&of(s),s=Xa(e,t,n,r),s===null&&aa(e,t,r,Hs,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else aa(e,t,r,null,n)}}var Hs=null;function Xa(e,t,n,r){if(Hs=null,e=Li(r),e=Bn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hs=e,null}function ff(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wm()){case Oi:return 1;case nf:return 4;case $s:case km:return 16;case rf:return 536870912;default:return 16}default:return 16}}var bn=null,Bi=null,Es=null;function pf(){if(Es)return Es;var e,t=Bi,n=t.length,r,l="value"in bn?bn.value:bn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return Es=l.slice(e,1<r?1-r:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Ku(){return!1}function kt(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?os:Ku,this.isPropagationStopped=Ku,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=kt(Ir),Bl=je({},Ir,{view:0,detail:0}),Pm=kt(Bl),qo,Zo,Qr,xo=je({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(qo=e.screenX-Qr.screenX,Zo=e.screenY-Qr.screenY):Zo=qo=0,Qr=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Qu=kt(xo),Im=je({},xo,{dataTransfer:0}),Lm=kt(Im),Om=je({},Bl,{relatedTarget:0}),ea=kt(Om),Am=je({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=kt(Am),$m=je({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bm=kt($m),Um=je({},Ir,{data:0}),Yu=kt(Um),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vm[e])?!!t[e]:!1}function Hi(){return Xm}var Km=je({},Bl,{key:function(e){if(e.key){var t=Hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qm=kt(Km),Ym=je({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=kt(Ym),Gm=je({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Jm=kt(Gm),qm=je({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=kt(qm),ex=je({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=kt(ex),nx=[9,13,27,32],Wi=on&&"CompositionEvent"in window,sl=null;on&&"documentMode"in document&&(sl=document.documentMode);var rx=on&&"TextEvent"in window&&!sl,hf=on&&(!Wi||sl&&8<sl&&11>=sl),Ju=" ",qu=!1;function mf(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function lx(e,t){switch(e){case"compositionend":return xf(t);case"keypress":return t.which!==32?null:(qu=!0,Ju);case"textInput":return e=t.data,e===Ju&&qu?null:e;default:return null}}function sx(e,t){if(ir)return e==="compositionend"||!Wi&&mf(e,t)?(e=pf(),Es=Bi=bn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hf&&t.locale!=="ko"?null:t.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ox[e.type]:t==="textarea"}function gf(e,t,n,r){Kd(r),t=Ws(t,"onChange"),0<t.length&&(n=new Ui("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ol=null,bl=null;function ax(e){Mf(e,0)}function go(e){var t=dr(e);if($d(t))return e}function ix(e,t){if(e==="change")return t}var vf=!1;if(on){var ta;if(on){var na="oninput"in document;if(!na){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),na=typeof ec.oninput=="function"}ta=na}else ta=!1;vf=ta&&(!document.documentMode||9<document.documentMode)}function tc(){ol&&(ol.detachEvent("onpropertychange",yf),bl=ol=null)}function yf(e){if(e.propertyName==="value"&&go(bl)){var t=[];gf(t,bl,e,Li(e)),Jd(ax,t)}}function ux(e,t,n){e==="focusin"?(tc(),ol=t,bl=n,ol.attachEvent("onpropertychange",yf)):e==="focusout"&&tc()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(bl)}function dx(e,t){if(e==="click")return go(t)}function fx(e,t){if(e==="input"||e==="change")return go(t)}function px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:px;function Sl(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ma.call(t,l)||!At(e[l],t[l]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rc(e,t){var n=nc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nc(n)}}function wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hx(e){var t=kf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wf(n.ownerDocument.documentElement,n)){if(r!==null&&Vi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=rc(n,s);var a=rc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mx=on&&"documentMode"in document&&11>=document.documentMode,ur=null,Ka=null,al=null,Qa=!1;function lc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||ur==null||ur!==Os(r)||(r=ur,"selectionStart"in r&&Vi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&Sl(al,r)||(al=r,r=Ws(Ka,"onSelect"),0<r.length&&(t=new Ui("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},ra={},bf={};on&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function vo(e){if(ra[e])return ra[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bf)return ra[e]=t[n];return e}var Sf=vo("animationend"),jf=vo("animationiteration"),Nf=vo("animationstart"),Cf=vo("transitionend"),Ef=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Ef.set(e,t),qn(t,[e])}for(var la=0;la<sc.length;la++){var sa=sc[la],xx=sa.toLowerCase(),gx=sa[0].toUpperCase()+sa.slice(1);Ln(xx,"on"+gx)}Ln(Sf,"onAnimationEnd");Ln(jf,"onAnimationIteration");Ln(Nf,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Cf,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function oc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xm(r,t,void 0,e),e.currentTarget=null}function Mf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==s&&l.isPropagationStopped())break e;oc(l,i,c),s=u}else for(a=0;a<r.length;a++){if(i=r[a],u=i.instance,c=i.currentTarget,i=i.listener,u!==s&&l.isPropagationStopped())break e;oc(l,i,c),s=u}}}if(Fs)throw e=Ha,Fs=!1,Ha=null,e}function xe(e,t){var n=t[Za];n===void 0&&(n=t[Za]=new Set);var r=e+"__bubble";n.has(r)||(Tf(t,e,2,!1),n.add(r))}function oa(e,t,n){var r=0;t&&(r|=4),Tf(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[is]){e[is]=!0,Id.forEach(function(n){n!=="selectionchange"&&(vx.has(n)||oa(n,!1,e),oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,oa("selectionchange",!1,t))}}function Tf(e,t,n,r){switch(ff(t)){case 1:var l=Rm;break;case 4:l=zm;break;default:l=$i}n=l.bind(null,t,n,e),l=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function aa(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Bn(i),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}i=i.parentNode}}r=r.return}Jd(function(){var c=s,p=Li(n),f=[];e:{var h=Ef.get(e);if(h!==void 0){var y=Ui,k=e;switch(e){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":y=Qm;break;case"focusin":k="focus",y=ea;break;case"focusout":k="blur",y=ea;break;case"beforeblur":case"afterblur":y=ea;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Jm;break;case Sf:case jf:case Nf:y=Fm;break;case Cf:y=Zm;break;case"scroll":y=Pm;break;case"wheel":y=tx;break;case"copy":case"cut":case"paste":y=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gu}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=vl(m,x),j!=null&&v.push(Nl(m,j,g)))),b)break;m=m.return}0<v.length&&(h=new y(h,k,null,n,p),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==$a&&(k=n.relatedTarget||n.fromElement)&&(Bn(k)||k[an]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=c,k=k?Bn(k):null,k!==null&&(b=Zn(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=c),y!==k)){if(v=Qu,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Gu,j="onPointerLeave",x="onPointerEnter",m="pointer"),b=y==null?h:dr(y),g=k==null?h:dr(k),h=new v(j,m+"leave",y,n,p),h.target=b,h.relatedTarget=g,j=null,Bn(p)===c&&(v=new v(x,m+"enter",k,n,p),v.target=g,v.relatedTarget=b,j=v),b=j,y&&k)t:{for(v=y,x=k,m=0,g=v;g;g=lr(g))m++;for(g=0,j=x;j;j=lr(j))g++;for(;0<m-g;)v=lr(v),m--;for(;0<g-m;)x=lr(x),g--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=lr(v),x=lr(x)}v=null}else v=null;y!==null&&ac(f,h,y,v,!1),k!==null&&b!==null&&ac(f,b,k,v,!0)}}e:{if(h=c?dr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=ix;else if(Zu(h))if(vf)w=fx;else{w=cx;var N=ux}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=dx);if(w&&(w=w(e,c))){gf(f,w,n,p);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ia(h,"number",h.value)}switch(N=c?dr(c):window,e){case"focusin":(Zu(N)||N.contentEditable==="true")&&(ur=N,Ka=c,al=null);break;case"focusout":al=Ka=ur=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,lc(f,n,p);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":lc(f,n,p)}var S;if(Wi)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ir?mf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(hf&&n.locale!=="ko"&&(ir||C!=="onCompositionStart"?C==="onCompositionEnd"&&ir&&(S=pf()):(bn=p,Bi="value"in bn?bn.value:bn.textContent,ir=!0)),N=Ws(c,C),0<N.length&&(C=new Yu(C,e,null,n,p),f.push({event:C,listeners:N}),S?C.data=S:(S=xf(n),S!==null&&(C.data=S)))),(S=rx?lx(e,n):sx(e,n))&&(c=Ws(c,"onBeforeInput"),0<c.length&&(p=new Yu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=S))}Mf(f,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=vl(e,n),s!=null&&r.unshift(Nl(e,s,l)),s=vl(e,t),s!=null&&r.push(Nl(e,s,l))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,l?(u=vl(n,s),u!=null&&a.unshift(Nl(n,u,i))):l||(u=vl(n,s),u!=null&&a.push(Nl(n,u,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function ic(e){return(typeof e=="string"?e:""+e).replace(yx,`
`).replace(wx,"")}function us(e,t,n){if(t=ic(t),ic(e)!==t&&n)throw Error(_(425))}function Vs(){}var Ya=null,Ga=null;function Ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof uc!="undefined"?function(e){return uc.resolve(null).then(e).catch(Sx)}:qa;function Sx(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),kl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);kl(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Lr,Cl="__reactProps$"+Lr,an="__reactContainer$"+Lr,Za="__reactEvents$"+Lr,jx="__reactListeners$"+Lr,Nx="__reactHandles$"+Lr;function Bn(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[Kt])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function Ul(e){return e=e[Kt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function yo(e){return e[Cl]||null}var ei=[],fr=-1;function On(e){return{current:e}}function ve(e){0>fr||(e.current=ei[fr],ei[fr]=null,fr--)}function pe(e,t){fr++,ei[fr]=e.current,e.current=t}var Pn={},qe=On(Pn),it=On(!1),Kn=Pn;function Er(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function Xs(){ve(it),ve(qe)}function dc(e,t,n){if(qe.current!==Pn)throw Error(_(168));pe(qe,t),pe(it,n)}function _f(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,um(e)||"Unknown",l));return je({},n,r)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Kn=qe.current,pe(qe,e),pe(it,it.current),!0}function fc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=_f(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,ve(it),ve(qe),pe(qe,e)):ve(it),pe(it,n)}var nn=null,wo=!1,ua=!1;function Df(e){nn===null?nn=[e]:nn.push(e)}function Cx(e){wo=!0,Df(e)}function An(){if(!ua&&nn!==null){ua=!0;var e=0,t=ie;try{var n=nn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,wo=!1}catch(l){throw nn!==null&&(nn=nn.slice(e+1)),tf(Oi,An),l}finally{ie=t,ua=!1}}return null}var pr=[],hr=0,Qs=null,Ys=0,Nt=[],Ct=0,Qn=null,rn=1,ln="";function Fn(e,t){pr[hr++]=Ys,pr[hr++]=Qs,Qs=e,Ys=t}function Rf(e,t,n){Nt[Ct++]=rn,Nt[Ct++]=ln,Nt[Ct++]=Qn,Qn=e;var r=rn;e=ln;var l=32-Lt(r)-1;r&=~(1<<l),n+=1;var s=32-Lt(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,rn=1<<32-Lt(t)+l|n<<l|r,ln=s+e}else rn=1<<s|n<<l|r,ln=e}function Xi(e){e.return!==null&&(Fn(e,1),Rf(e,1,0))}function Ki(e){for(;e===Qs;)Qs=pr[--hr],pr[hr]=null,Ys=pr[--hr],pr[hr]=null;for(;e===Qn;)Qn=Nt[--Ct],Nt[Ct]=null,ln=Nt[--Ct],Nt[Ct]=null,rn=Nt[--Ct],Nt[Ct]=null}var vt=null,gt=null,we=!1,It=null;function zf(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:rn,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function ti(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ni(e){if(we){var t=gt;if(t){var n=t;if(!pc(e,t)){if(ti(e))throw Error(_(418));t=Mn(n.nextSibling);var r=vt;t&&pc(e,t)?zf(r,n):(e.flags=e.flags&-4097|2,we=!1,vt=e)}}else{if(ti(e))throw Error(_(418));e.flags=e.flags&-4097|2,we=!1,vt=e}}}function hc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function cs(e){if(e!==vt)return!1;if(!we)return hc(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ja(e.type,e.memoizedProps)),t&&(t=gt)){if(ti(e))throw Pf(),Error(_(418));for(;t;)zf(e,t),t=Mn(t.nextSibling)}if(hc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Mn(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=gt;e;)e=Mn(e.nextSibling)}function Mr(){gt=vt=null,we=!1}function Qi(e){It===null?It=[e]:It.push(e)}var Ex=dn.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=l.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mc(e){var t=e._init;return t(e._payload)}function If(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Rn(x,m),x.index=0,x.sibling=null,x}function s(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,j){return m===null||m.tag!==6?(m=xa(g,x.mode,j),m.return=x,m):(m=l(m,g),m.return=x,m)}function u(x,m,g,j){var w=g.type;return w===ar?p(x,m,g.props.children,j,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===gn&&mc(w)===m.type)?(j=l(m,g.props),j.ref=Yr(x,m,g),j.return=x,j):(j=Is(g.type,g.key,g.props,null,x.mode,j),j.ref=Yr(x,m,g),j.return=x,j)}function c(x,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ga(g,x.mode,j),m.return=x,m):(m=l(m,g.children||[]),m.return=x,m)}function p(x,m,g,j,w){return m===null||m.tag!==7?(m=Vn(g,x.mode,j,w),m.return=x,m):(m=l(m,g),m.return=x,m)}function f(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xa(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return g=Is(m.type,m.key,m.props,null,x.mode,g),g.ref=Yr(x,null,m),g.return=x,g;case or:return m=ga(m,x.mode,g),m.return=x,m;case gn:var j=m._init;return f(x,j(m._payload),g)}if(el(m)||Wr(m))return m=Vn(m,x.mode,g,null),m.return=x,m;ds(x,m)}return null}function h(x,m,g,j){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:i(x,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return g.key===w?u(x,m,g,j):null;case or:return g.key===w?c(x,m,g,j):null;case gn:return w=g._init,h(x,m,w(g._payload),j)}if(el(g)||Wr(g))return w!==null?null:p(x,m,g,j,null);ds(x,g)}return null}function y(x,m,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,i(m,x,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case es:return x=x.get(j.key===null?g:j.key)||null,u(m,x,j,w);case or:return x=x.get(j.key===null?g:j.key)||null,c(m,x,j,w);case gn:var N=j._init;return y(x,m,g,N(j._payload),w)}if(el(j)||Wr(j))return x=x.get(g)||null,p(m,x,j,w,null);ds(m,j)}return null}function k(x,m,g,j){for(var w=null,N=null,S=m,C=m=0,T=null;S!==null&&C<g.length;C++){S.index>C?(T=S,S=null):T=S.sibling;var D=h(x,S,g[C],j);if(D===null){S===null&&(S=T);break}e&&S&&D.alternate===null&&t(x,S),m=s(D,m,C),N===null?w=D:N.sibling=D,N=D,S=T}if(C===g.length)return n(x,S),we&&Fn(x,C),w;if(S===null){for(;C<g.length;C++)S=f(x,g[C],j),S!==null&&(m=s(S,m,C),N===null?w=S:N.sibling=S,N=S);return we&&Fn(x,C),w}for(S=r(x,S);C<g.length;C++)T=y(S,x,C,g[C],j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),m=s(T,m,C),N===null?w=T:N.sibling=T,N=T);return e&&S.forEach(function(R){return t(x,R)}),we&&Fn(x,C),w}function v(x,m,g,j){var w=Wr(g);if(typeof w!="function")throw Error(_(150));if(g=w.call(g),g==null)throw Error(_(151));for(var N=w=null,S=m,C=m=0,T=null,D=g.next();S!==null&&!D.done;C++,D=g.next()){S.index>C?(T=S,S=null):T=S.sibling;var R=h(x,S,D.value,j);if(R===null){S===null&&(S=T);break}e&&S&&R.alternate===null&&t(x,S),m=s(R,m,C),N===null?w=R:N.sibling=R,N=R,S=T}if(D.done)return n(x,S),we&&Fn(x,C),w;if(S===null){for(;!D.done;C++,D=g.next())D=f(x,D.value,j),D!==null&&(m=s(D,m,C),N===null?w=D:N.sibling=D,N=D);return we&&Fn(x,C),w}for(S=r(x,S);!D.done;C++,D=g.next())D=y(S,x,C,D.value,j),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?C:D.key),m=s(D,m,C),N===null?w=D:N.sibling=D,N=D);return e&&S.forEach(function(K){return t(x,K)}),we&&Fn(x,C),w}function b(x,m,g,j){if(typeof g=="object"&&g!==null&&g.type===ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case es:e:{for(var w=g.key,N=m;N!==null;){if(N.key===w){if(w=g.type,w===ar){if(N.tag===7){n(x,N.sibling),m=l(N,g.props.children),m.return=x,x=m;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===gn&&mc(w)===N.type){n(x,N.sibling),m=l(N,g.props),m.ref=Yr(x,N,g),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}g.type===ar?(m=Vn(g.props.children,x.mode,j,g.key),m.return=x,x=m):(j=Is(g.type,g.key,g.props,null,x.mode,j),j.ref=Yr(x,m,g),j.return=x,x=j)}return a(x);case or:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=l(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=ga(g,x.mode,j),m.return=x,x=m}return a(x);case gn:return N=g._init,b(x,m,N(g._payload),j)}if(el(g))return k(x,m,g,j);if(Wr(g))return v(x,m,g,j);ds(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=l(m,g),m.return=x,x=m):(n(x,m),m=xa(g,x.mode,j),m.return=x,x=m),a(x)):n(x,m)}return b}var Tr=If(!0),Lf=If(!1),Gs=On(null),Js=null,mr=null,Yi=null;function Gi(){Yi=mr=Js=null}function Ji(e){var t=Gs.current;ve(Gs),e._currentValue=t}function ri(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){Js=e,Yi=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(Js===null)throw Error(_(308));mr=e,Js.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Un=null;function qi(e){Un===null?Un=[e]:Un.push(e)}function Of(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,qi(t)):(n.next=l.next,l.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vn=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,un(e,n)}return l=r.interleaved,l===null?(t.next=t,qi(r)):(t.next=l.next,l.next=t),r.interleaved=t,un(e,n)}function Ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ai(e,n)}}function xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var l=e.updateQueue;vn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var u=i,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=c:i.next=c,p.lastBaseUpdate=u))}if(s!==null){var f=l.baseState;a=0,p=c=u=null,i=s;do{var h=i.lane,y=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(h=t,y=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){f=k.call(y,f,h);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,h=typeof k=="function"?k.call(y,f,h):k,h==null)break e;f=je({},f,h);break e;case 2:vn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else y={eventTime:y,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(c=p=y,u=f):p=p.next=y,a|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Gn|=a,e.lanes=a,e.memoizedState=f}}function gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Hl={},Yt=On(Hl),El=On(Hl),Ml=On(Hl);function Hn(e){if(e===Hl)throw Error(_(174));return e}function eu(e,t){switch(pe(Ml,t),pe(El,e),pe(Yt,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oa(t,e)}ve(Yt),pe(Yt,t)}function _r(){ve(Yt),ve(El),ve(Ml)}function Ff(e){Hn(Ml.current);var t=Hn(Yt.current),n=Oa(t,e.type);t!==n&&(pe(El,e),pe(Yt,n))}function tu(e){El.current===e&&(ve(Yt),ve(El))}var be=On(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function nu(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var _s=dn.ReactCurrentDispatcher,da=dn.ReactCurrentBatchConfig,Yn=0,Se=null,Pe=null,Fe=null,eo=!1,il=!1,Tl=0,Mx=0;function Qe(){throw Error(_(321))}function ru(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function lu(e,t,n,r,l,s){if(Yn=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_s.current=e===null||e.memoizedState===null?Rx:zx,e=n(r,l),il){s=0;do{if(il=!1,Tl=0,25<=s)throw Error(_(301));s+=1,Fe=Pe=null,t.updateQueue=null,_s.current=Px,e=n(r,l)}while(il)}if(_s.current=to,t=Pe!==null&&Pe.next!==null,Yn=0,Fe=Pe=Se=null,eo=!1,t)throw Error(_(300));return e}function su(){var e=Tl!==0;return Tl=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function _t(){if(Pe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Fe===null?Se.memoizedState:Fe.next;if(t!==null)Fe=t,Pe=e;else{if(e===null)throw Error(_(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function _l(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=_t(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=Pe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var i=a=null,u=null,c=s;do{var p=c.lane;if((Yn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=f,a=r):u=u.next=f,Se.lanes|=p,Gn|=p}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=i,At(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Se.lanes|=s,Gn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=_t(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);At(s,t.memoizedState)||(at=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function $f(){}function Bf(e,t){var n=Se,r=_t(),l=t(),s=!At(r.memoizedState,l);if(s&&(r.memoizedState=l,at=!0),r=r.queue,ou(Wf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Dl(9,Hf.bind(null,n,r,l,t),void 0,null),Be===null)throw Error(_(349));Yn&30||Uf(n,t,l)}return l}function Uf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hf(e,t,n,r){t.value=n,t.getSnapshot=r,Vf(t)&&Xf(e)}function Wf(e,t,n){return n(function(){Vf(t)&&Xf(e)})}function Vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch(r){return!0}}function Xf(e){var t=un(e,1);t!==null&&Ot(t,e,1,-1)}function vc(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:e},t.queue=e,e=e.dispatch=Dx.bind(null,Se,e),[t.memoizedState,e]}function Dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kf(){return _t().memoizedState}function Ds(e,t,n,r){var l=Xt();Se.flags|=e,l.memoizedState=Dl(1|t,n,void 0,r===void 0?null:r)}function ko(e,t,n,r){var l=_t();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var a=Pe.memoizedState;if(s=a.destroy,r!==null&&ru(r,a.deps)){l.memoizedState=Dl(t,n,s,r);return}}Se.flags|=e,l.memoizedState=Dl(1|t,n,s,r)}function yc(e,t){return Ds(8390656,8,e,t)}function ou(e,t){return ko(2048,8,e,t)}function Qf(e,t){return ko(4,2,e,t)}function Yf(e,t){return ko(4,4,e,t)}function Gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jf(e,t,n){return n=n!=null?n.concat([e]):null,ko(4,4,Gf.bind(null,t,e),n)}function au(){}function qf(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zf(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ep(e,t,n){return Yn&21?(At(n,t)||(n=lf(),Se.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function Tx(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{ie=n,da.transition=r}}function tp(){return _t().memoizedState}function _x(e,t,n){var r=Dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},np(e))rp(t,n);else if(n=Of(e,t,n,r),n!==null){var l=et();Ot(n,e,r,l),lp(n,t,r)}}function Dx(e,t,n){var r=Dn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(np(e))rp(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,n);if(l.hasEagerState=!0,l.eagerState=i,At(i,a)){var u=t.interleaved;u===null?(l.next=l,qi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch(c){}finally{}n=Of(e,t,l,r),n!==null&&(l=et(),Ot(n,e,r,l),lp(n,t,r))}}function np(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function rp(e,t){il=eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ai(e,n)}}var to={readContext:Tt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Rx={readContext:Tt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:yc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ds(4194308,4,Gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_x.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:vc,useDebugValue:au,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=vc(!1),t=e[0];return e=Tx.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,l=Xt();if(we){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Be===null)throw Error(_(349));Yn&30||Uf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,yc(Wf.bind(null,r,s,e),[e]),r.flags|=2048,Dl(9,Hf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Be.identifierPrefix;if(we){var n=ln,r=rn;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zx={readContext:Tt,useCallback:qf,useContext:Tt,useEffect:ou,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Yf,useMemo:Zf,useReducer:fa,useRef:Kf,useState:function(){return fa(_l)},useDebugValue:au,useDeferredValue:function(e){var t=_t();return ep(t,Pe.memoizedState,e)},useTransition:function(){var e=fa(_l)[0],t=_t().memoizedState;return[e,t]},useMutableSource:$f,useSyncExternalStore:Bf,useId:tp,unstable_isNewReconciler:!1},Px={readContext:Tt,useCallback:qf,useContext:Tt,useEffect:ou,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Yf,useMemo:Zf,useReducer:pa,useRef:Kf,useState:function(){return pa(_l)},useDebugValue:au,useDeferredValue:function(e){var t=_t();return Pe===null?t.memoizedState=e:ep(t,Pe.memoizedState,e)},useTransition:function(){var e=pa(_l)[0],t=_t().memoizedState;return[e,t]},useMutableSource:$f,useSyncExternalStore:Bf,useId:tp,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function li(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),l=Dn(e),s=sn(r,l);s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,l),t!==null&&(Ot(t,e,l,r),Ts(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),l=Dn(e),s=sn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,l),t!==null&&(Ot(t,e,l,r),Ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Dn(e),l=sn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Tn(e,l,r),t!==null&&(Ot(t,e,r,n),Ts(t,e,r))}};function wc(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Sl(n,r)||!Sl(l,s):!0}function sp(e,t,n){var r=!1,l=Pn,s=t.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(l=ut(t)?Kn:qe.current,r=t.contextTypes,s=(r=r!=null)?Er(e,l):Pn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function si(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Zi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Tt(s):(s=ut(t)?Kn:qe.current,l.context=Er(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(li(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&bo.enqueueReplaceState(l,l.state,null),qs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",r=t;do n+=im(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function oi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ix=typeof WeakMap=="function"?WeakMap:Map;function op(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ro||(ro=!0,xi=r),oi(e,t)},n}function ap(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){oi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oi(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function bc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ix;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Yx.bind(null,e,t,n),t.then(e,e))}function Sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var Lx=dn.ReactCurrentOwner,at=!1;function Ze(e,t,n,r){t.child=e===null?Lf(t,null,n,r):Tr(t,e.child,n,r)}function Nc(e,t,n,r,l){n=n.render;var s=t.ref;return Sr(t,l),r=lu(e,t,n,r,s,l),n=su(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(we&&n&&Xi(t),t.flags|=1,Ze(e,t,r,l),t.child)}function Cc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!mu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ip(e,t,s,r,l)):(e=Is(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(a,r)&&e.ref===t.ref)return cn(e,t,l)}return t.flags|=1,e=Rn(s,r),e.ref=t.ref,e.return=t,t.child=e}function ip(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Sl(s,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,cn(e,t,l)}return ai(e,t,n,r,l)}function up(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(gr,xt),xt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(gr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(gr,xt),xt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,pe(gr,xt),xt|=r;return Ze(e,t,l,n),t.child}function cp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ai(e,t,n,r,l){var s=ut(n)?Kn:qe.current;return s=Er(t,s),Sr(t,l),n=lu(e,t,n,r,s,l),r=su(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(we&&r&&Xi(t),t.flags|=1,Ze(e,t,n,l),t.child)}function Ec(e,t,n,r,l){if(ut(n)){var s=!0;Ks(t)}else s=!1;if(Sr(t,l),t.stateNode===null)Rs(e,t),sp(t,n,r),si(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=ut(n)?Kn:qe.current,c=Er(t,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||u!==c)&&kc(t,a,r,c),vn=!1;var h=t.memoizedState;a.state=h,qs(t,r,a,l),u=t.memoizedState,i!==r||h!==u||it.current||vn?(typeof p=="function"&&(li(t,n,p,r),u=t.memoizedState),(i=vn||wc(t,n,i,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Af(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:zt(t.type,i),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tt(u):(u=ut(n)?Kn:qe.current,u=Er(t,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==u)&&kc(t,a,r,u),vn=!1,h=t.memoizedState,a.state=h,qs(t,r,a,l);var k=t.memoizedState;i!==f||h!==k||it.current||vn?(typeof y=="function"&&(li(t,n,y,r),k=t.memoizedState),(c=vn||wc(t,n,c,r,h,k,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ii(e,t,n,r,s,l)}function ii(e,t,n,r,l,s){cp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&fc(t,n,!1),cn(e,t,s);r=t.stateNode,Lx.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Tr(t,e.child,null,s),t.child=Tr(t,null,i,s)):Ze(e,t,i,s),t.memoizedState=r.state,l&&fc(t,n,!0),t.child}function dp(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),eu(e,t.containerInfo)}function Mc(e,t,n,r,l){return Mr(),Qi(l),t.flags|=256,Ze(e,t,n,r),t.child}var ui={dehydrated:null,treeContext:null,retryLane:0};function ci(e){return{baseLanes:e,cachePool:null,transitions:null}}function fp(e,t,n){var r=t.pendingProps,l=be.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(be,l&1),e===null)return ni(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=No(a,r,0,null),e=Vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ci(n),t.memoizedState=ui,e):iu(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Ox(e,t,a,r,i,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,i=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Rn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=Rn(i,s):(s=Vn(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ci(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=ui,r}return s=e.child,e=s.sibling,r=Rn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iu(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,n,r){return r!==null&&Qi(r),Tr(t,e.child,null,n),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ox(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(_(422))),fs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=No({mode:"visible",children:r.children},l,0,null),s=Vn(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Tr(t,e.child,null,a),t.child.memoizedState=ci(a),t.memoizedState=ui,s);if(!(t.mode&1))return fs(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(_(419)),r=ha(s,r,void 0),fs(e,t,a,r)}if(i=(a&e.childLanes)!==0,at||i){if(r=Be,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,un(e,l),Ot(r,e,l,-1))}return hu(),r=ha(Error(_(421))),fs(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gx.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,gt=Mn(l.nextSibling),vt=t,we=!0,It=null,e!==null&&(Nt[Ct++]=rn,Nt[Ct++]=ln,Nt[Ct++]=Qn,rn=e.id,ln=e.overflow,Qn=t),t=iu(t,r.children),t.flags|=4096,t)}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ri(e.return,t,n)}function ma(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function pp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Ze(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(be,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ma(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ma(t,!0,n,null,s);break;case"together":ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ax(e,t,n){switch(t.tag){case 3:dp(t),Mr();break;case 5:Ff(t);break;case 1:ut(t.type)&&Ks(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;pe(Gs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?fp(e,t,n):(pe(be,be.current&1),e=cn(e,t,n),e!==null?e.sibling:null);pe(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,up(e,t,n)}return cn(e,t,n)}var hp,di,mp,xp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};di=function(){};mp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Hn(Yt.current);var s=null;switch(n){case"input":l=za(e,l),r=za(e,r),s=[];break;case"select":l=je({},l,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":l=La(e,l),r=La(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vs)}Aa(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(a in i)!i.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&i[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&xe("scroll",e),s||i===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fx(e,t,n){var r=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ut(t.type)&&Xs(),Ye(t),null;case 3:return r=t.stateNode,_r(),ve(it),ve(qe),nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(yi(It),It=null))),di(e,t),Ye(t),null;case 5:tu(t);var l=Hn(Ml.current);if(n=t.type,e!==null&&t.stateNode!=null)mp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Ye(t),null}if(e=Hn(Yt.current),cs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kt]=t,r[Cl]=s,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(l=0;l<nl.length;l++)xe(nl[l],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Au(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":$u(r,s),xe("invalid",r)}Aa(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&us(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&us(r.textContent,i,e),l=["children",""+i]):xl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&xe("scroll",r)}switch(n){case"input":ts(r),Fu(r,s,!0);break;case"textarea":ts(r),Bu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Kt]=t,e[Cl]=r,hp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fa(n,r),n){case"dialog":xe("cancel",e),xe("close",e),l=r;break;case"iframe":case"object":case"embed":xe("load",e),l=r;break;case"video":case"audio":for(l=0;l<nl.length;l++)xe(nl[l],e);l=r;break;case"source":xe("error",e),l=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),l=r;break;case"details":xe("toggle",e),l=r;break;case"input":Au(e,r),l=za(e,r),xe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=je({},r,{value:void 0}),xe("invalid",e);break;case"textarea":$u(e,r),l=La(e,r),xe("invalid",e);break;default:l=r}Aa(n,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="style"?Xd(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Wd(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&gl(e,u):typeof u=="number"&&gl(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&xe("scroll",e):u!=null&&Ri(e,s,u,a))}switch(n){case"input":ts(e),Fu(e,r,!1);break;case"textarea":ts(e),Bu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yr(e,!!r.multiple,s,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Hn(Ml.current),Hn(Yt.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(s=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ve(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&gt!==null&&t.mode&1&&!(t.flags&128))Pf(),Mr(),t.flags|=98560,s=!1;else if(s=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[Kt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else It!==null&&(yi(It),It=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Le===0&&(Le=3):hu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return _r(),di(e,t),e===null&&jl(t.stateNode.containerInfo),Ye(t),null;case 10:return Ji(t.type._context),Ye(t),null;case 17:return ut(t.type)&&Xs(),Ye(t),null;case 19:if(ve(be),s=t.memoizedState,s===null)return Ye(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Gr(s,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zs(e),a!==null){for(t.flags|=128,Gr(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&De()>Rr&&(t.flags|=128,r=!0,Gr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Zs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!we)return Ye(t),null}else 2*De()-s.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Gr(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=De(),t.sibling=null,n=be.current,pe(be,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return pu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function $x(e,t){switch(Ki(t),t.tag){case 1:return ut(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),ve(it),ve(qe),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(ve(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(be),null;case 4:return _r(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var ps=!1,Je=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,O=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function fi(e,t,n){try{n()}catch(r){Te(e,t,r)}}var _c=!1;function Ux(e,t){if(Ya=Us,e=kf(),Vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var a=0,i=-1,u=-1,c=0,p=0,f=e,h=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(i=a+l),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++c===l&&(i=a),h===s&&++p===r&&(u=a),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ga={focusedElem:e,selectionRange:n},Us=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,b=k.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:zt(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(j){Te(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return k=_c,_c=!1,k}function ul(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&fi(t,n,s)}l=l.next}while(l!==r)}}function So(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gp(e){var t=e.alternate;t!==null&&(e.alternate=null,gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Cl],delete t[Za],delete t[jx],delete t[Nx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vp(e){return e.tag===5||e.tag===3||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vs));else if(r!==4&&(e=e.child,e!==null))for(hi(e,t,n),e=e.sibling;e!==null;)hi(e,t,n),e=e.sibling}function mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mi(e,t,n),e=e.sibling;e!==null;)mi(e,t,n),e=e.sibling}var We=null,Pt=!1;function xn(e,t,n){for(n=n.child;n!==null;)yp(e,t,n),n=n.sibling}function yp(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(mo,n)}catch(i){}switch(n.tag){case 5:Je||xr(n,t);case 6:var r=We,l=Pt;We=null,xn(e,t,n),We=r,Pt=l,We!==null&&(Pt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Pt?(e=We,n=n.stateNode,e.nodeType===8?ia(e.parentNode,n):e.nodeType===1&&ia(e,n),kl(e)):ia(We,n.stateNode));break;case 4:r=We,l=Pt,We=n.stateNode.containerInfo,Pt=!0,xn(e,t,n),We=r,Pt=l;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fi(n,t,a),l=l.next}while(l!==r)}xn(e,t,n);break;case 1:if(!Je&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Te(n,t,i)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,xn(e,t,n),Je=r):xn(e,t,n);break;default:xn(e,t,n)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bx),t.forEach(function(r){var l=Jx.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:We=i.stateNode,Pt=!1;break e;case 3:We=i.stateNode.containerInfo,Pt=!0;break e;case 4:We=i.stateNode.containerInfo,Pt=!0;break e}i=i.return}if(We===null)throw Error(_(160));yp(s,a,l),We=null,Pt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Te(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wp(t,e),t=t.sibling}function wp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Vt(e),r&4){try{ul(3,e,e.return),So(3,e)}catch(v){Te(e,e.return,v)}try{ul(5,e,e.return)}catch(v){Te(e,e.return,v)}}break;case 1:Rt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(Rt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var l=e.stateNode;try{gl(l,"")}catch(v){Te(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Bd(l,s),Fa(i,a);var c=Fa(i,s);for(a=0;a<u.length;a+=2){var p=u[a],f=u[a+1];p==="style"?Xd(l,f):p==="dangerouslySetInnerHTML"?Wd(l,f):p==="children"?gl(l,f):Ri(l,p,f,c)}switch(i){case"input":Pa(l,s);break;case"textarea":Ud(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?yr(l,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?yr(l,!!s.multiple,s.defaultValue,!0):yr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Cl]=s}catch(v){Te(e,e.return,v)}}break;case 6:if(Rt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(v){Te(e,e.return,v)}}break;case 3:if(Rt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(v){Te(e,e.return,v)}break;case 4:Rt(t,e),Vt(e);break;case 13:Rt(t,e),Vt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(du=De())),r&4&&Rc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(c=Je)||p,Rt(t,e),Je=c):Rt(t,e),Vt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(O=e,p=e.child;p!==null;){for(f=O=p;O!==null;){switch(h=O,y=h.child,h.tag){case 0:case 11:case 14:case 15:ul(4,h,h.return);break;case 1:xr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){Te(r,n,v)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){Pc(f);continue}}y!==null?(y.return=h,O=y):Pc(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Vd("display",a))}catch(v){Te(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Te(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Vt(e),r&4&&Rc(e);break;case 21:break;default:Rt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vp(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(gl(l,""),r.flags&=-33);var s=Dc(e);mi(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Dc(e);hi(e,i,a);break;default:throw Error(_(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hx(e,t,n){O=e,kp(e)}function kp(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var l=O,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||ps;if(!a){var i=l.alternate,u=i!==null&&i.memoizedState!==null||Je;i=ps;var c=Je;if(ps=a,(Je=u)&&!c)for(O=l;O!==null;)a=O,u=a.child,a.tag===22&&a.memoizedState!==null?Ic(l):u!==null?(u.return=a,O=u):Ic(l);for(;s!==null;)O=s,kp(s),s=s.sibling;O=l,ps=i,Je=c}zc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,O=s):zc(e)}}function zc(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||So(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&gc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Je||t.flags&512&&pi(t)}catch(h){Te(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Pc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Ic(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{So(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Te(t,l,u)}}var s=t.return;try{pi(t)}catch(u){Te(t,s,u)}break;case 5:var a=t.return;try{pi(t)}catch(u){Te(t,a,u)}}}catch(u){Te(t,t.return,u)}if(t===e){O=null;break}var i=t.sibling;if(i!==null){i.return=t.return,O=i;break}O=t.return}}var Wx=Math.ceil,no=dn.ReactCurrentDispatcher,uu=dn.ReactCurrentOwner,Mt=dn.ReactCurrentBatchConfig,ee=0,Be=null,Re=null,Ve=0,xt=0,gr=On(0),Le=0,Rl=null,Gn=0,jo=0,cu=0,cl=null,ot=null,du=0,Rr=1/0,tn=null,ro=!1,xi=null,_n=null,hs=!1,Sn=null,lo=0,dl=0,gi=null,zs=-1,Ps=0;function et(){return ee&6?De():zs!==-1?zs:zs=De()}function Dn(e){return e.mode&1?ee&2&&Ve!==0?Ve&-Ve:Ex.transition!==null?(Ps===0&&(Ps=lf()),Ps):(e=ie,e!==0||(e=window.event,e=e===void 0?16:ff(e.type)),e):1}function Ot(e,t,n,r){if(50<dl)throw dl=0,gi=null,Error(_(185));$l(e,n,r),(!(ee&2)||e!==Be)&&(e===Be&&(!(ee&2)&&(jo|=n),Le===4&&kn(e,Ve)),ct(e,r),n===1&&ee===0&&!(t.mode&1)&&(Rr=De()+500,wo&&An()))}function ct(e,t){var n=e.callbackNode;Em(e,t);var r=Bs(e,e===Be?Ve:0);if(r===0)n!==null&&Wu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wu(n),t===1)e.tag===0?Cx(Lc.bind(null,e)):Df(Lc.bind(null,e)),bx(function(){!(ee&6)&&An()}),n=null;else{switch(sf(r)){case 1:n=Oi;break;case 4:n=nf;break;case 16:n=$s;break;case 536870912:n=rf;break;default:n=$s}n=Tp(n,bp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bp(e,t){if(zs=-1,Ps=0,ee&6)throw Error(_(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=Bs(e,e===Be?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var l=ee;ee|=2;var s=jp();(Be!==e||Ve!==t)&&(tn=null,Rr=De()+500,Wn(e,t));do try{Kx();break}catch(i){Sp(e,i)}while(!0);Gi(),no.current=s,ee=l,Re!==null?t=0:(Be=null,Ve=0,t=Le)}if(t!==0){if(t===2&&(l=Wa(e),l!==0&&(r=l,t=vi(e,l))),t===1)throw n=Rl,Wn(e,0),kn(e,r),ct(e,De()),n;if(t===6)kn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Vx(l)&&(t=so(e,r),t===2&&(s=Wa(e),s!==0&&(r=s,t=vi(e,s))),t===1))throw n=Rl,Wn(e,0),kn(e,r),ct(e,De()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:$n(e,ot,tn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=du+500-De(),10<t)){if(Bs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=qa($n.bind(null,e,ot,tn),t);break}$n(e,ot,tn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Lt(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wx(r/1960))-r,10<r){e.timeoutHandle=qa($n.bind(null,e,ot,tn),r);break}$n(e,ot,tn);break;case 5:$n(e,ot,tn);break;default:throw Error(_(329))}}}return ct(e,De()),e.callbackNode===n?bp.bind(null,e):null}function vi(e,t){var n=cl;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=so(e,t),e!==2&&(t=ot,ot=n,t!==null&&yi(t)),e}function yi(e){ot===null?ot=e:ot.push.apply(ot,e)}function Vx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!At(s(),l))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~cu,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lt(t),r=1<<n;e[n]=-1,t&=~r}}function Lc(e){if(ee&6)throw Error(_(327));jr();var t=Bs(e,0);if(!(t&1))return ct(e,De()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=Wa(e);r!==0&&(t=r,n=vi(e,r))}if(n===1)throw n=Rl,Wn(e,0),kn(e,t),ct(e,De()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,ot,tn),ct(e,De()),null}function fu(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Rr=De()+500,wo&&An())}}function Jn(e){Sn!==null&&Sn.tag===0&&!(ee&6)&&jr();var t=ee;ee|=1;var n=Mt.transition,r=ie;try{if(Mt.transition=null,ie=1,e)return e()}finally{ie=r,Mt.transition=n,ee=t,!(ee&6)&&An()}}function pu(){xt=gr.current,ve(gr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kx(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:_r(),ve(it),ve(qe),nu();break;case 5:tu(r);break;case 4:_r();break;case 13:ve(be);break;case 19:ve(be);break;case 10:Ji(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Be=e,Re=e=Rn(e.current,null),Ve=xt=t,Le=0,Rl=null,cu=jo=Gn=0,ot=cl=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}Un=null}return e}function Sp(e,t){do{var n=Re;try{if(Gi(),_s.current=to,eo){for(var r=Se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}eo=!1}if(Yn=0,Fe=Pe=Se=null,il=!1,Tl=0,uu.current=null,n===null||n.return===null){Le=1,Rl=t,Re=null;break}e:{var s=e,a=n.return,i=n,u=t;if(t=Ve,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Sc(a);if(y!==null){y.flags&=-257,jc(y,a,i,s,t),y.mode&1&&bc(s,c,t),t=y,u=c;var k=t.updateQueue;if(k===null){var v=new Set;v.add(u),t.updateQueue=v}else k.add(u);break e}else{if(!(t&1)){bc(s,c,t),hu();break e}u=Error(_(426))}}else if(we&&i.mode&1){var b=Sc(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jc(b,a,i,s,t),Qi(Dr(u,i));break e}}s=u=Dr(u,i),Le!==4&&(Le=2),cl===null?cl=[s]:cl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=op(s,u,t);xc(s,x);break e;case 1:i=u;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_n===null||!_n.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=ap(s,i,t);xc(s,j);break e}}s=s.return}while(s!==null)}Cp(n)}catch(w){t=w,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function jp(){var e=no.current;return no.current=to,e===null?to:e}function hu(){(Le===0||Le===3||Le===2)&&(Le=4),Be===null||!(Gn&268435455)&&!(jo&268435455)||kn(Be,Ve)}function so(e,t){var n=ee;ee|=2;var r=jp();(Be!==e||Ve!==t)&&(tn=null,Wn(e,t));do try{Xx();break}catch(l){Sp(e,l)}while(!0);if(Gi(),ee=n,no.current=r,Re!==null)throw Error(_(261));return Be=null,Ve=0,Le}function Xx(){for(;Re!==null;)Np(Re)}function Kx(){for(;Re!==null&&!vm();)Np(Re)}function Np(e){var t=Mp(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Cp(e):Re=t,uu.current=null}function Cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$x(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Re=null;return}}else if(n=Fx(n,t,xt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Le===0&&(Le=5)}function $n(e,t,n){var r=ie,l=Mt.transition;try{Mt.transition=null,ie=1,Qx(e,t,n,r)}finally{Mt.transition=l,ie=r}return null}function Qx(e,t,n,r){do jr();while(Sn!==null);if(ee&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mm(e,s),e===Be&&(Re=Be=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,Tp($s,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mt.transition,Mt.transition=null;var a=ie;ie=1;var i=ee;ee|=4,uu.current=null,Ux(e,n),wp(n,e),hx(Ga),Us=!!Ya,Ga=Ya=null,e.current=n,Hx(n),ym(),ee=i,ie=a,Mt.transition=s}else e.current=n;if(hs&&(hs=!1,Sn=e,lo=l),s=e.pendingLanes,s===0&&(_n=null),bm(n.stateNode),ct(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ro)throw ro=!1,e=xi,xi=null,e;return lo&1&&e.tag!==0&&jr(),s=e.pendingLanes,s&1?e===gi?dl++:(dl=0,gi=e):dl=0,An(),null}function jr(){if(Sn!==null){var e=sf(lo),t=Mt.transition,n=ie;try{if(Mt.transition=null,ie=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,lo=0,ee&6)throw Error(_(331));var l=ee;for(ee|=4,O=e.current;O!==null;){var s=O,a=s.child;if(O.flags&16){var i=s.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(O=c;O!==null;){var p=O;switch(p.tag){case 0:case 11:case 15:ul(8,p,s)}var f=p.child;if(f!==null)f.return=p,O=f;else for(;O!==null;){p=O;var h=p.sibling,y=p.return;if(gp(p),p===c){O=null;break}if(h!==null){h.return=y,O=h;break}O=y}}}var k=s.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}O=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,O=a;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,O=x;break e}O=s.return}}var m=e.current;for(O=m;O!==null;){a=O;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,O=g;else e:for(a=m;O!==null;){if(i=O,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:So(9,i)}}catch(w){Te(i,i.return,w)}if(i===a){O=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,O=j;break e}O=i.return}}if(ee=l,An(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(mo,e)}catch(w){}r=!0}return r}finally{ie=n,Mt.transition=t}}return!1}function Oc(e,t,n){t=Dr(n,t),t=op(e,t,1),e=Tn(e,t,1),t=et(),e!==null&&($l(e,1,t),ct(e,t))}function Te(e,t,n){if(e.tag===3)Oc(e,e,n);else for(;t!==null;){if(t.tag===3){Oc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Dr(n,e),e=ap(t,e,1),t=Tn(t,e,1),e=et(),t!==null&&($l(t,1,e),ct(t,e));break}}t=t.return}}function Yx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ve&n)===n&&(Le===4||Le===3&&(Ve&130023424)===Ve&&500>De()-du?Wn(e,0):cu|=n),ct(e,t)}function Ep(e,t){t===0&&(e.mode&1?(t=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):t=1);var n=et();e=un(e,t),e!==null&&($l(e,t,n),ct(e,n))}function Gx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function Jx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Ep(e,n)}var Mp;Mp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,Ax(e,t,n);at=!!(e.flags&131072)}else at=!1,we&&t.flags&1048576&&Rf(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rs(e,t),e=t.pendingProps;var l=Er(t,qe.current);Sr(t,n),l=lu(null,t,r,e,l,n);var s=su();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(s=!0,Ks(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Zi(t),l.updater=bo,t.stateNode=l,l._reactInternals=t,si(t,r,e,n),t=ii(null,t,r,!0,s,n)):(t.tag=0,we&&s&&Xi(t),Ze(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rs(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Zx(r),e=zt(r,e),l){case 0:t=ai(null,t,r,e,n);break e;case 1:t=Ec(null,t,r,e,n);break e;case 11:t=Nc(null,t,r,e,n);break e;case 14:t=Cc(null,t,r,zt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:zt(r,l),ai(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:zt(r,l),Ec(e,t,r,l,n);case 3:e:{if(dp(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Af(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Dr(Error(_(423)),t),t=Mc(e,t,r,n,l);break e}else if(r!==l){l=Dr(Error(_(424)),t),t=Mc(e,t,r,n,l);break e}else for(gt=Mn(t.stateNode.containerInfo.firstChild),vt=t,we=!0,It=null,n=Lf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===l){t=cn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Ff(t),e===null&&ni(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,Ja(r,l)?a=null:s!==null&&Ja(r,s)&&(t.flags|=32),cp(e,t),Ze(e,t,a,n),t.child;case 6:return e===null&&ni(t),null;case 13:return fp(e,t,n);case 4:return eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tr(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:zt(r,l),Nc(e,t,r,l,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,pe(Gs,r._currentValue),r._currentValue=a,s!==null)if(At(s.value,a)){if(s.children===l.children&&!it.current){t=cn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=sn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ri(s.return,n,t),i.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),ri(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ze(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Sr(t,n),l=Tt(l),r=r(l),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,l=zt(r,t.pendingProps),l=zt(r.type,l),Cc(e,t,r,l,n);case 15:return ip(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:zt(r,l),Rs(e,t),t.tag=1,ut(r)?(e=!0,Ks(t)):e=!1,Sr(t,n),sp(t,r,l),si(t,r,l,n),ii(null,t,r,!0,e,n);case 19:return pp(e,t,n);case 22:return up(e,t,n)}throw Error(_(156,t.tag))};function Tp(e,t){return tf(e,t)}function qx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new qx(e,t,n,r)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zx(e){if(typeof e=="function")return mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pi)return 11;if(e===Ii)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")mu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ar:return Vn(n.children,l,s,t);case zi:a=8,l|=8;break;case Ta:return e=Et(12,n,t,l|2),e.elementType=Ta,e.lanes=s,e;case _a:return e=Et(13,n,t,l),e.elementType=_a,e.lanes=s,e;case Da:return e=Et(19,n,t,l),e.elementType=Da,e.lanes=s,e;case Ad:return No(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:a=10;break e;case Od:a=9;break e;case Pi:a=11;break e;case Ii:a=14;break e;case gn:a=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Et(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Vn(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function No(e,t,n,r){return e=Et(22,e,r,t),e.elementType=Ad,e.lanes=n,e.stateNode={isHidden:!1},e}function xa(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function ga(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function xu(e,t,n,r,l,s,a,i,u){return e=new eg(e,t,n,i,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zi(s),e}function tg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _p(e){if(!e)return Pn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(ut(n))return _f(e,n,t)}return t}function Dp(e,t,n,r,l,s,a,i,u){return e=xu(n,r,!0,e,l,s,a,i,u),e.context=_p(null),n=e.current,r=et(),l=Dn(n),s=sn(r,l),s.callback=t!=null?t:null,Tn(n,s,l),e.current.lanes=l,$l(e,l,r),ct(e,r),e}function Co(e,t,n,r){var l=t.current,s=et(),a=Dn(l);return n=_p(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(l,t,a),e!==null&&(Ot(e,l,a,s),Ts(e,l,a)),a}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}function ng(){return null}var Rp=typeof reportError=="function"?reportError:function(e){console.error(e)};function vu(e){this._internalRoot=e}Eo.prototype.render=vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Co(e,t,null,null)};Eo.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Co(null,e,null,null)}),t[an]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=uf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wn.length&&t!==0&&t<wn[n].priority;n++);wn.splice(n,0,e),n===0&&df(e)}};function yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fc(){}function rg(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=oo(a);s.call(c)}}var a=Dp(t,r,e,0,null,!1,!1,"",Fc);return e._reactRootContainer=a,e[an]=a.current,jl(e.nodeType===8?e.parentNode:e),Jn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=oo(u);i.call(c)}}var u=xu(e,0,!1,null,null,!1,!1,"",Fc);return e._reactRootContainer=u,e[an]=u.current,jl(e.nodeType===8?e.parentNode:e),Jn(function(){Co(t,u,n,r)}),u}function To(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var i=l;l=function(){var u=oo(a);i.call(u)}}Co(t,a,e,l)}else a=rg(n,t,e,l,r);return oo(a)}of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tl(t.pendingLanes);n!==0&&(Ai(t,n|1),ct(t,De()),!(ee&6)&&(Rr=De()+500,An()))}break;case 13:Jn(function(){var r=un(e,1);if(r!==null){var l=et();Ot(r,e,1,l)}}),gu(e,1)}};Fi=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=et();Ot(t,e,134217728,n)}gu(e,134217728)}};af=function(e){if(e.tag===13){var t=Dn(e),n=un(e,t);if(n!==null){var r=et();Ot(n,e,t,r)}gu(e,t)}};uf=function(){return ie};cf=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Ba=function(e,t,n){switch(t){case"input":if(Pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=yo(r);if(!l)throw Error(_(90));$d(r),Pa(r,l)}}}break;case"textarea":Ud(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};Yd=fu;Gd=Jn;var lg={usingClientEntryPoint:!1,Events:[Ul,dr,yo,Kd,Qd,fu]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zd(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{mo=ms.inject(sg),Qt=ms}catch(e){}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(t))throw Error(_(200));return tg(e,t,null,n)};wt.createRoot=function(e,t){if(!yu(e))throw Error(_(299));var n=!1,r="",l=Rp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=xu(e,1,!1,null,null,n,!1,r,l),e[an]=t.current,jl(e.nodeType===8?e.parentNode:e),new vu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Zd(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Jn(e)};wt.hydrate=function(e,t,n){if(!Mo(t))throw Error(_(200));return To(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!yu(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=Rp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Dp(t,null,e,1,n!=null?n:null,l,!1,s,a),e[an]=t.current,jl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Eo(t)};wt.render=function(e,t,n){if(!Mo(t))throw Error(_(200));return To(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Mo(e))throw Error(_(40));return e._reactRootContainer?(Jn(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};wt.unstable_batchedUpdates=fu;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mo(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return To(e,t,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zp)}catch(e){console.error(e)}}zp(),Rd.exports=wt;var vr=Rd.exports,$c=vr;Ea.createRoot=$c.createRoot,Ea.hydrateRoot=$c.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}var jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jn||(jn={}));const Bc="popstate";function og(e){e===void 0&&(e={});function t(l,s){let{pathname:a="/",search:i="",hash:u=""}=er(l.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),wi("",{pathname:a,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let a=l.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let u=l.location.href,c=u.indexOf("#");i=c===-1?u:u.slice(0,c)}return i+"#"+(typeof s=="string"?s:Pp(s))}function r(l,s){_o(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ig(t,n,r,e)}function Oe(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function _o(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ag(){return Math.random().toString(36).substr(2,8)}function Uc(e,t){return{usr:e.state,key:e.key,idx:t}}function wi(e,t,n,r){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?er(t):t,{state:n,key:t&&t.key||r||ag()})}function Pp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ig(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,i=jn.Pop,u=null,c=p();c==null&&(c=0,a.replaceState(zl({},a.state,{idx:c}),""));function p(){return(a.state||{idx:null}).idx}function f(){i=jn.Pop;let b=p(),x=b==null?null:b-c;c=b,u&&u({action:i,location:v.location,delta:x})}function h(b,x){i=jn.Push;let m=wi(v.location,b,x);n&&n(m,b),c=p()+1;let g=Uc(m,c),j=v.createHref(m);try{a.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(j)}s&&u&&u({action:i,location:v.location,delta:1})}function y(b,x){i=jn.Replace;let m=wi(v.location,b,x);n&&n(m,b),c=p();let g=Uc(m,c),j=v.createHref(m);a.replaceState(g,"",j),s&&u&&u({action:i,location:v.location,delta:0})}function k(b){let x=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof b=="string"?b:Pp(b);return m=m.replace(/ $/,"%20"),Oe(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return i},get location(){return e(l,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Bc,f),u=b,()=>{l.removeEventListener(Bc,f),u=null}},createHref(b){return t(l,b)},createURL:k,encodeLocation(b){let x=k(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(b){return a.go(b)}};return v}var Hc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hc||(Hc={}));function ug(e,t,n){return n===void 0&&(n="/"),cg(e,t,n)}function cg(e,t,n,r){let l=typeof t=="string"?er(t):t,s=Op(l.pathname||"/",n);if(s==null)return null;let a=Ip(e);dg(a);let i=null;for(let u=0;i==null&&u<a.length;++u){let c=Sg(s);i=wg(a[u],c)}return i}function Ip(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,i)=>{let u={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Oe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xn([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ip(s.children,t,p,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:vg(c,s.index),routesMeta:p})};return e.forEach((s,a)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))l(s,a);else for(let u of Lp(s.path))l(s,a,u)}),t}function Lp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=Lp(r.join("/")),i=[];return i.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&i.push(...a),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function dg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fg=/^:[\w-]+$/,pg=3,hg=2,mg=1,xg=10,gg=-2,Wc=e=>e==="*";function vg(e,t){let n=e.split("/"),r=n.length;return n.some(Wc)&&(r+=gg),t&&(r+=hg),n.filter(l=>!Wc(l)).reduce((l,s)=>l+(fg.test(s)?pg:s===""?mg:xg),r)}function yg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function wg(e,t,n){let{routesMeta:r}=e,l={},s="/",a=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=kg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!f)return null;Object.assign(l,f.params),a.push({params:l,pathname:Xn([s,f.pathname]),pathnameBase:_g(Xn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Xn([s,f.pathnameBase]))}return a}function kg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:h,isOptional:y}=p;if(h==="*"){let v=i[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const k=i[f];return y&&!k?c[h]=void 0:c[h]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function bg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_o(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Sg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Op(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ng=e=>jg.test(e);function Cg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?er(e):e,s;if(n)if(Ng(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),_o(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Vc(n.substring(1),"/"):s=Vc(n,t)}else s=t;return{pathname:s,search:Dg(r),hash:Rg(l)}}function Vc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function va(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mg(e,t){let n=Eg(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tg(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=er(e):(l=zl({},e),Oe(!l.pathname||!l.pathname.includes("?"),va("?","pathname","search",l)),Oe(!l.pathname||!l.pathname.includes("#"),va("#","pathname","hash",l)),Oe(!l.search||!l.search.includes("#"),va("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}i=f>=0?t[f]:"/"}let u=Cg(l,i),c=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),_g=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ap=["post","put","patch","delete"];new Set(Ap);const Pg=["get",...Ap];new Set(Pg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}const wu=d.createContext(null),Ig=d.createContext(null),Do=d.createContext(null),Ro=d.createContext(null),tr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Fp=d.createContext(null);function zo(){return d.useContext(Ro)!=null}function $p(){return zo()||Oe(!1),d.useContext(Ro).location}function Bp(e){d.useContext(Do).static||d.useLayoutEffect(e)}function Bt(){let{isDataRoute:e}=d.useContext(tr);return e?Qg():Lg()}function Lg(){zo()||Oe(!1);let e=d.useContext(wu),{basename:t,future:n,navigator:r}=d.useContext(Do),{matches:l}=d.useContext(tr),{pathname:s}=$p(),a=JSON.stringify(Mg(l,n.v7_relativeSplatPath)),i=d.useRef(!1);return Bp(()=>{i.current=!0}),d.useCallback(function(c,p){if(p===void 0&&(p={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let f=Tg(c,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,a,s,e])}function Up(){let{matches:e}=d.useContext(tr),t=e[e.length-1];return t?t.params:{}}function Og(e,t){return Ag(e,t)}function Ag(e,t,n,r){zo()||Oe(!1);let{navigator:l}=d.useContext(Do),{matches:s}=d.useContext(tr),a=s[s.length-1],i=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=$p(),p;if(t){var f;let b=typeof t=="string"?er(t):t;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Oe(!1),p=b}else p=c;let h=p.pathname||"/",y=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=ug(e,{pathname:y}),v=Hg(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Xn([u,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Xn([u,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&v?d.createElement(Ro.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:jn.Pop}},v):v}function Fg(){let e=Kg(),t=zg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const $g=d.createElement(Fg,null);class Bg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(tr.Provider,{value:this.props.routeContext},d.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ug(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(wu);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(tr.Provider,{value:t},r)}function Hg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||Oe(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:h,errors:y}=n,k=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||k){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((p,f,h)=>{let y,k=!1,v=null,b=null;n&&(y=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||$g,u&&(c<0&&h===0?(Yg("route-fallback"),k=!0,b=null):c===h&&(k=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return y?g=v:k?g=b:f.route.Component?g=d.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,d.createElement(Ug,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Bg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Hp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hp||{}),Wp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wp||{});function Wg(e){let t=d.useContext(wu);return t||Oe(!1),t}function Vg(e){let t=d.useContext(Ig);return t||Oe(!1),t}function Xg(e){let t=d.useContext(tr);return t||Oe(!1),t}function Vp(e){let t=Xg(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function Kg(){var e;let t=d.useContext(Fp),n=Vg(),r=Vp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Qg(){let{router:e}=Wg(Hp.UseNavigateStable),t=Vp(Wp.UseNavigateStable),n=d.useRef(!1);return Bp(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Pl({fromRouteId:t},s)))},[e,t])}const Xc={};function Yg(e,t,n){Xc[e]||(Xc[e]=!0)}function Gg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lt(e){Oe(!1)}function Jg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=jn.Pop,navigator:s,static:a=!1,future:i}=e;zo()&&Oe(!1);let u=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:u,navigator:s,static:a,future:Pl({v7_relativeSplatPath:!1},i)}),[u,i,s,a]);typeof r=="string"&&(r=er(r));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:k="default"}=r,v=d.useMemo(()=>{let b=Op(p,u);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:k},navigationType:l}},[u,p,f,h,y,k,l]);return v==null?null:d.createElement(Do.Provider,{value:c},d.createElement(Ro.Provider,{children:n,value:v}))}function qg(e){let{children:t,location:n}=e;return Og(ki(t),n)}new Promise(()=>{});function ki(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,ki(r.props.children,s));return}r.type!==lt&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ki(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Zg="6";try{window.__reactRouterVersion=Zg}catch(e){}const ev="startTransition",Kc=Yh[ev];function tv(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=og({window:l,v5Compat:!0}));let a=s.current,[i,u]=d.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},p=d.useCallback(f=>{c&&Kc?Kc(()=>u(f)):u(f)},[u,c]);return d.useLayoutEffect(()=>a.listen(p),[a,p]),d.useEffect(()=>Gg(r),[r]),d.createElement(Jg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var Qc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qc||(Qc={}));var Yc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yc||(Yc={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:a,...i},u)=>d.createElement("svg",{ref:u,...rv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Xp("lucide",l),...i},[...a.map(([c,p])=>d.createElement(c,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=d.forwardRef(({className:r,...l},s)=>d.createElement(lv,{ref:s,iconNode:t,className:Xp(`lucide-${nv(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=J("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=J("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=J("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=J("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=J("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=J("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=J("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=J("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=J("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=J("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=J("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qp="";async function Jc(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${qp}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function $(e,t={}){let n=await Jc();const r=`${qp}${e}`,l=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let s=await l(n);if(s.status===401&&(localStorage.removeItem("whisper_token"),n=await Jc(),s=await l(n)),s.status===204)return null;if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.detail||` (${s.status})`)}return s.json()}const Sv="WhisperMiniDB",jv=1,zr="avatars",Zp=()=>new Promise((e,t)=>{const n=indexedDB.open(Sv,jv);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(zr)||r.createObjectStore(zr,{keyPath:"key"})}}),bi=async(e,t)=>{const n=await Zp();return new Promise((r,l)=>{const s=n.transaction([zr],"readwrite");s.objectStore(zr).put({key:e,base64:t}),s.oncomplete=()=>r(),s.onerror=()=>l(s.error)})},Oo=async e=>{const t=await Zp();return new Promise((n,r)=>{const s=t.transaction([zr],"readonly").objectStore(zr).get(e);s.onsuccess=()=>{var a;return n(((a=s.result)==null?void 0:a.base64)||null)},s.onerror=()=>r(s.error)})},st={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function sr({icon:e,label:t,desc:n,disabled:r,onClick:l}){const[s,a]=d.useState(!1),i=()=>!r&&a(!0),u=()=>{a(!1),r||l==null||l()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:st.bg,boxShadow:s?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:s?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:i,onTouchEnd:u,onMouseDown:i,onMouseUp:u,onMouseLeave:()=>a(!1),children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:st.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:st.textMuted},children:n})]})]})}function qc({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:st.textMuted},children:e})}function Nv(){const e=Bt(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(i){return null}}),[r,l]=d.useState(null);d.useEffect(()=>{$("/api/user/profile").then(i=>{n(i),localStorage.setItem("whisper_profile",JSON.stringify(i))}).catch(()=>{}),Oo("user-avatar").then(i=>{i&&l(i)}).catch(function(){})},[]);const s=(t==null?void 0:t.nickname)||"",a=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:st.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:st.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:st.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:st.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:st.text},children:["@",s]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:st.textMuted},children:['"',a,'"']})]}),o.jsx(Vl,{size:16,style:{color:st.textMuted,flexShrink:0}})]}),o.jsx(qc,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(sr,{icon:o.jsx(ov,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(sr,{icon:o.jsx(av,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(sr,{icon:o.jsx(Kp,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(sr,{icon:o.jsx(yv,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(qc,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(sr,{icon:o.jsx(sv,{size:18,color:"white"}),label:"",desc:"",disabled:!0}),o.jsx(sr,{icon:o.jsx(wv,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:st.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(hv,{size:32,fill:st.accent,style:{color:st.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const fe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Zc={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"}};function Cv({activation:e}){const t=Zc[e]||Zc.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const xs=80;function Ev({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/xs);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-xs,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/xs)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-xs):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Kl,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function Mv({book:e,onTap:t}){var n;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:fe.bg,userSelect:"none"},onClick:()=>t(e),children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:fe.bg},children:o.jsx(Yp,{size:18,style:{color:fe.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:fe.text},children:e.name}),o.jsx(Cv,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:fe.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,l)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:fe.accentDark},children:r},l)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:fe.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Vl,{size:16,style:{color:fe.textMuted,flexShrink:0}})]})}function Tv({folder:e,books:t,onDelete:n,onTap:r}){const[l,s]=d.useState(!0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>s(!l),children:[l?o.jsx(Wl,{size:14,style:{color:fe.textMuted}}):o.jsx(Vl,{size:14,style:{color:fe.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:fe.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:fe.textMuted},children:t.length})]}),l&&t.map(a=>o.jsx(Ev,{onDelete:()=>n(a),children:o.jsx(Mv,{book:a,onTap:r})},a.id))]})}function _v(){const e=Bt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,u]=d.useState(null),c=k=>{u(k),setTimeout(()=>u(null),2e3)},p=()=>{l(!0),$("/api/world-books").then(k=>n(k.world_books||[])).catch(()=>c("")).finally(()=>l(!1))};d.useEffect(()=>{p()},[]);const f=async k=>{a(null);try{await $(`/api/world-books/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),c("")}catch(v){c("")}},h={};for(const k of t){const v=k.folder||"";h[v]||(h[v]=[]),h[v].push(k)}const y=Object.keys(h).sort((k,v)=>k===""?1:v===""?-1:k.localeCompare(v));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:fe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:fe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:fe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Xl,{size:20,style:{color:fe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:fe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Yp,{size:36,style:{color:fe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:fe.textMuted},children:" + "})]}):y.map(k=>o.jsx(Tv,{folder:k,books:h[k],onDelete:v=>a(v),onTap:v=>e(`/world-books/${v.id}`)},k))}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:fe.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:fe.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:fe.textMuted},children:["",s.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)",color:fe.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>f(s),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const U={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function Dv({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:U.bg,color:U.text}})]})}function Rv({value:e,onChange:t,folders:n}){const[r,l]=d.useState(!1),s=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:U.bg,color:U.text}}),r&&s.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:U.bg,boxShadow:"var(--card-shadow)"},children:s.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:U.text},onMouseDown:()=>{t(a),l(!1)},children:a},a))})]})}function zv({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:U.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?U.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?U.accentDark:U.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}const Pv=["","","","","","","",""];function Iv({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(l=>l!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:U.bg,minHeight:48},children:Pv.map(r=>{const l=e.includes(r);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:l?U.accentDark:U.bg,color:l?"white":U.textMuted,boxShadow:l?"none":"var(--card-shadow-sm)"},onClick:()=>n(r),children:r},r)})})]})}function Lv({keywords:e,onChange:t}){const[n,r]=d.useState(""),l=()=>{const s=n.trim();if(!s||e.includes(s)){r("");return}t([...e,s]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:U.bg,minHeight:48},children:[e.map(s=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:U.accentDark},children:[s,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==s)),children:o.jsx(Lo,{size:10})})]},s)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),onKeyDown:s=>{(s.key==="Enter"||s.key===",")&&(s.preventDefault(),l())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:U.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:U.accentDark},onClick:l,children:o.jsx(Xl,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:U.textMuted},children:" Enter "})]})}function Ov({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:U.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:U.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:U.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:U.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:U.bg,color:U.text},placeholder:"..."})]})}function ed(){const e=Bt(),{id:t}=Up(),n=!t,[r,l]=d.useState(""),[s,a]=d.useState(""),[i,u]=d.useState("always"),[c,p]=d.useState([]),[f,h]=d.useState(""),[y,k]=d.useState(!1),[v,b]=d.useState(!n),[x,m]=d.useState(null),[g,j]=d.useState([]),[w,N]=d.useState(!1),S=d.useRef(null),C=R=>{var X;const K=(X=R.target.files)==null?void 0:X[0];if(!K)return;const F=new FileReader;F.onload=de=>h(de.target.result||""),F.readAsText(K),R.target.value=""},T=R=>{m(R),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{$("/api/world-books").then(R=>{const K=R.world_books||[];if(j([...new Set(K.map(F=>F.folder).filter(Boolean))]),!n){const F=K.find(X=>String(X.id)===String(t));F&&(l(F.name),a(F.folder||""),u(F.activation),p(F.keywords||[]),h(F.content))}}).catch(()=>T("")).finally(()=>b(!1))},[t,n]);const D=async()=>{if(!r.trim()){T("");return}k(!0);try{const R={name:r.trim(),folder:s.trim()||null,activation:i,keywords:i!=="always"?c:[],content:f};n?(await $("/api/world-books",{method:"POST",body:R}),T("")):(await $(`/api/world-books/${t}`,{method:"PUT",body:R}),T(""))}catch(R){T(": "+R.message)}finally{k(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:U.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:U.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:U.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:U.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:U.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:D,disabled:y,children:o.jsx(Io,{size:18,style:{color:U.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:v?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:U.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:U.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Dv,{label:"",value:r,onChange:l,placeholder:""}),o.jsx(Rv,{value:s,onChange:a,folders:g}),o.jsx(zv,{value:i,onChange:u}),i==="keyword"&&o.jsx(Lv,{keywords:c,onChange:p}),i==="mood"&&o.jsx(Iv,{selected:c,onChange:p})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:U.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:U.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:U.bg},onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},title:"",children:o.jsx(ku,{size:13,style:{color:U.textMuted}})}),o.jsx("input",{ref:S,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:C}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:U.bg},onClick:()=>N(!0),title:"",children:o.jsx(Po,{size:13,style:{color:U.accentDark}})})]})]}),o.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:U.bg,color:U.text}})]})]})}),w&&o.jsx(Ov,{value:f,onChange:h,onClose:()=>N(!1)}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const _e={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},gs=80;function Av({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/gs);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-gs,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/gs)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-gs):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Kl,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function Fv({assistant:e,localAvatar:t,onTap:n}){var l;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:_e.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:_e.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:_e.accentDark},children:((l=e.name)==null?void 0:l[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:_e.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:_e.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Vl,{size:16,style:{color:_e.textMuted,flexShrink:0}})]})}function $v(){const e=Bt(),[t,n]=d.useState([]),[r,l]=d.useState({}),[s,a]=d.useState(!0),[i,u]=d.useState(null),[c,p]=d.useState(null),f=k=>{p(k),setTimeout(()=>p(null),2e3)},h=()=>{a(!0),$("/api/assistants").then(async k=>{const v=k.assistants||[];n(v);const b={};await Promise.all(v.map(async x=>{const m=await Oo(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),l(b)}).catch(()=>f("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const y=async k=>{u(null);try{await $(`/api/assistants/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),f("")}catch(v){f("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:_e.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:_e.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:_e.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Xl,{size:20,style:{color:_e.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:_e.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Kp,{size:36,style:{color:_e.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:_e.textMuted},children:" + "})]}):t.map(k=>o.jsx(Av,{onDelete:()=>u(k),children:o.jsx(Fv,{assistant:k,localAvatar:r[k.id],onTap:v=>e(`/assistants/${v.id}`)})},k.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>u(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:_e.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:_e.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:_e.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:_e.bg,boxShadow:"var(--card-shadow-sm)",color:_e.text},onClick:()=>u(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>y(i),children:""})]})]})}),c&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:c})})]})}function Bv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(l=>l(r))},t)}const Ao=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Or(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Su(e){return"nodeType"in e}function rt(e){var t,n;return e?Or(e)?e:Su(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ju(e){const{Document:t}=rt(e);return e instanceof t}function Ql(e){return Or(e)?!1:e instanceof rt(e).HTMLElement}function eh(e){return e instanceof rt(e).SVGElement}function Ar(e){return e?Or(e)?e.document:Su(e)?ju(e)?e:Ql(e)||eh(e)?e.ownerDocument:document:document:document}const Ft=Ao?d.useLayoutEffect:d.useEffect;function Fo(e){const t=d.useRef(e);return Ft(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function Uv(){const e=d.useRef(null),t=d.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ol(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Ft(()=>{n.current!==e&&(n.current=e)},t),n}function Yl(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ao(e){const t=Fo(e),n=d.useRef(null),r=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,r]}function io(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let ya={};function Gl(e,t){return d.useMemo(()=>{if(t)return t;const n=ya[e]==null?0:ya[e]+1;return ya[e]=n,e+"-"+n},[e,t])}function th(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[u,c]of i){const p=s[u];p!=null&&(s[u]=p+e*c)}return s},{...t})}}const Nr=th(1),uo=th(-1);function Hv(e){return"clientX"in e&&"clientY"in e}function $o(e){if(!e)return!1;const{KeyboardEvent:t}=rt(e.target);return t&&e instanceof t}function Wv(e){if(!e)return!1;const{TouchEvent:t}=rt(e.target);return t&&e instanceof t}function co(e){if(Wv(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Hv(e)?{x:e.clientX,y:e.clientY}:null}const In=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[In.Translate.toString(e),In.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),td="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vv(e){return e.matches(td)?e:e.querySelector(td)}const Xv={display:"none"};function Kv(e){let{id:t,value:n}=e;return ge.createElement("div",{id:t,style:Xv},n)}function Qv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ge.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function Yv(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const nh=d.createContext(null);function Gv(e){const t=d.useContext(nh);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Jv(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:l,event:s}=r;e.forEach(a=>{var i;return(i=a[l])==null?void 0:i.call(a,s)})},[e]),t]}const qv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Zv={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ey(e){let{announcements:t=Zv,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=qv}=e;const{announce:s,announcement:a}=Yv(),i=Gl("DndLiveRegion"),[u,c]=d.useState(!1);if(d.useEffect(()=>{c(!0)},[]),Gv(d.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:y}=f;t.onDragMove&&s(t.onDragMove({active:h,over:y}))},onDragOver(f){let{active:h,over:y}=f;s(t.onDragOver({active:h,over:y}))},onDragEnd(f){let{active:h,over:y}=f;s(t.onDragEnd({active:h,over:y}))},onDragCancel(f){let{active:h,over:y}=f;s(t.onDragCancel({active:h,over:y}))}}),[s,t])),!u)return null;const p=ge.createElement(ge.Fragment,null,ge.createElement(Kv,{id:r,value:l.draggable}),ge.createElement(Qv,{id:i,announcement:a}));return n?vr.createPortal(p,n):p}var Ie;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ie||(Ie={}));function fo(){}function nd(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function ty(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const $t=Object.freeze({x:0,y:0});function ny(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ry(e,t){const n=co(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function ly(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function sy(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oy(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function rd(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ay=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=rd(t,t.left,t.top),s=[];for(const a of r){const{id:i}=a,u=n.get(i);if(u){const c=ny(rd(u),l);s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(ly)};function iy(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=l-r,i=s-n;if(r<l&&n<s){const u=t.width*t.height,c=e.width*e.height,p=a*i,f=p/(u+c-p);return Number(f.toFixed(4))}return 0}const uy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const u=iy(i,t);u>0&&l.push({id:a,data:{droppableContainer:s,value:u}})}}return l.sort(sy)};function cy(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function rh(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$t}function dy(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),s=1;s<r;s++)l[s-1]=arguments[s];return l.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const fy=dy(1);function lh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function py(e,t,n){const r=lh(t);if(!r)return e;const{scaleX:l,scaleY:s,x:a,y:i}=r,u=e.left-a-(1-l)*parseFloat(n),c=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,f=s?e.height/s:e.height;return{width:p,height:f,top:c,right:u+p,bottom:c+f,left:u}}const hy={ignoreTransform:!1};function Fr(e,t){t===void 0&&(t=hy);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:p}=rt(e).getComputedStyle(e);c&&(n=py(n,c,p))}const{top:r,left:l,width:s,height:a,bottom:i,right:u}=n;return{top:r,left:l,width:s,height:a,bottom:i,right:u}}function ld(e){return Fr(e,{ignoreTransform:!0})}function my(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function xy(e,t){return t===void 0&&(t=rt(e).getComputedStyle(e)),t.position==="fixed"}function gy(e,t){t===void 0&&(t=rt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const s=t[l];return typeof s=="string"?n.test(s):!1})}function Nu(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(ju(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Ql(l)||eh(l)||n.includes(l))return n;const s=rt(e).getComputedStyle(l);return l!==e&&gy(l,s)&&n.push(l),xy(l,s)?n:r(l.parentNode)}return e?r(e):n}function sh(e){const[t]=Nu(e,1);return t!=null?t:null}function wa(e){return!Ao||!e?null:Or(e)?e:Su(e)?ju(e)||e===Ar(e).scrollingElement?window:Ql(e)?e:null:null}function oh(e){return Or(e)?e.scrollX:e.scrollLeft}function ah(e){return Or(e)?e.scrollY:e.scrollTop}function Si(e){return{x:oh(e),y:ah(e)}}var $e;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($e||($e={}));function ih(e){return!Ao||!e?!1:e===document.scrollingElement}function uh(e){const t={x:0,y:0},n=ih(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:l,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const vy={x:.2,y:.2};function yy(e,t,n,r,l){let{top:s,left:a,right:i,bottom:u}=n;r===void 0&&(r=10),l===void 0&&(l=vy);const{isTop:c,isBottom:p,isLeft:f,isRight:h}=uh(e),y={x:0,y:0},k={x:0,y:0},v={height:t.height*l.y,width:t.width*l.x};return!c&&s<=t.top+v.height?(y.y=$e.Backward,k.y=r*Math.abs((t.top+v.height-s)/v.height)):!p&&u>=t.bottom-v.height&&(y.y=$e.Forward,k.y=r*Math.abs((t.bottom-v.height-u)/v.height)),!h&&i>=t.right-v.width?(y.x=$e.Forward,k.x=r*Math.abs((t.right-v.width-i)/v.width)):!f&&a<=t.left+v.width&&(y.x=$e.Backward,k.x=r*Math.abs((t.left+v.width-a)/v.width)),{direction:y,speed:k}}function wy(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function ch(e){return e.reduce((t,n)=>Nr(t,Si(n)),$t)}function ky(e){return e.reduce((t,n)=>t+oh(n),0)}function by(e){return e.reduce((t,n)=>t+ah(n),0)}function dh(e,t){if(t===void 0&&(t=Fr),!e)return;const{top:n,left:r,bottom:l,right:s}=t(e);sh(e)&&(l<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Sy=[["x",["left","right"],ky],["y",["top","bottom"],by]];class Cu{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Nu(n),l=ch(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,i]of Sy)for(const u of a)Object.defineProperty(this,u,{get:()=>{const c=i(r),p=l[s]-c;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function jy(e){const{EventTarget:t}=rt(e);return e instanceof t?e:Ar(e)}function ka(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var jt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jt||(jt={}));function sd(e){e.preventDefault()}function Ny(e){e.stopPropagation()}var le;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(le||(le={}));const fh={start:[le.Space,le.Enter],cancel:[le.Esc],end:[le.Space,le.Enter,le.Tab]},Cy=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case le.Right:return{...n,x:n.x+25};case le.Left:return{...n,x:n.x-25};case le.Down:return{...n,y:n.y+25};case le.Up:return{...n,y:n.y-25}}};class ph{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new fl(Ar(n)),this.windowListeners=new fl(rt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jt.Resize,this.handleCancel),this.windowListeners.add(jt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&dh(r),n($t)}handleKeyDown(t){if($o(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:s=fh,coordinateGetter:a=Cy,scrollBehavior:i="smooth"}=l,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,p=c?{x:c.left,y:c.top}:$t;this.referenceCoordinates||(this.referenceCoordinates=p);const f=a(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=uo(f,p),y={x:0,y:0},{scrollableAncestors:k}=r.current;for(const v of k){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:j,maxScroll:w,minScroll:N}=uh(v),S=wy(v),C={x:Math.min(b===le.Right?S.right-S.width/2:S.right,Math.max(b===le.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===le.Down?S.bottom-S.height/2:S.bottom,Math.max(b===le.Down?S.top:S.top+S.height/2,f.y))},T=b===le.Right&&!m||b===le.Left&&!g,D=b===le.Down&&!j||b===le.Up&&!x;if(T&&C.x!==f.x){const R=v.scrollLeft+h.x,K=b===le.Right&&R<=w.x||b===le.Left&&R>=N.x;if(K&&!h.y){v.scrollTo({left:R,behavior:i});return}K?y.x=v.scrollLeft-R:y.x=b===le.Right?v.scrollLeft-w.x:v.scrollLeft-N.x,y.x&&v.scrollBy({left:-y.x,behavior:i});break}else if(D&&C.y!==f.y){const R=v.scrollTop+h.y,K=b===le.Down&&R<=w.y||b===le.Up&&R>=N.y;if(K&&!h.x){v.scrollTo({top:R,behavior:i});return}K?y.y=v.scrollTop-R:y.y=b===le.Down?v.scrollTop-w.y:v.scrollTop-N.y,y.y&&v.scrollBy({top:-y.y,behavior:i});break}}this.handleMove(t,Nr(uo(f,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ph.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=fh,onActivation:l}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function od(e){return!!(e&&"distance"in e)}function ad(e){return!!(e&&"delay"in e)}class Eu{constructor(t,n,r){var l;r===void 0&&(r=jy(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Ar(a),this.documentListeners=new fl(this.document),this.listeners=new fl(r),this.windowListeners=new fl(rt(a)),this.initialCoordinates=(l=co(s))!=null?l:$t,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(jt.Resize,this.handleCancel),this.windowListeners.add(jt.DragStart,sd),this.windowListeners.add(jt.VisibilityChange,this.handleCancel),this.windowListeners.add(jt.ContextMenu,sd),this.documentListeners.add(jt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ad(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(od(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(jt.Click,Ny,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!l)return;const u=(n=co(t))!=null?n:$t,c=uo(l,u);if(!r&&i){if(od(i)){if(i.tolerance!=null&&ka(c,i.tolerance))return this.handleCancel();if(ka(c,i.distance))return this.handleStart()}if(ad(i)&&ka(c,i.tolerance))return this.handleCancel();this.handlePending(i,c);return}t.cancelable&&t.preventDefault(),a(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===le.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ey={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Mu extends Eu{constructor(t){const{event:n}=t,r=Ar(n.target);super(t,Ey,r)}}Mu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const My={move:{name:"mousemove"},end:{name:"mouseup"}};var ji;(function(e){e[e.RightClick=2]="RightClick"})(ji||(ji={}));class Ty extends Eu{constructor(t){super(t,My,Ar(t.event.target))}}Ty.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ji.RightClick?!1:(r==null||r({event:n}),!0)}}];const ba={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class hh extends Eu{constructor(t){super(t,ba)}static setup(){return window.addEventListener(ba.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ba.move.name,t)};function t(){}}}hh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r==null||r({event:n}),!0)}}];var pl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(pl||(pl={}));var po;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(po||(po={}));function _y(e){let{acceleration:t,activator:n=pl.Pointer,canScroll:r,draggingRect:l,enabled:s,interval:a=5,order:i=po.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:p,delta:f,threshold:h}=e;const y=Ry({delta:f,disabled:!s}),[k,v]=Uv(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case pl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case pl.DraggableRect:return l}},[n,l,u]),g=d.useRef(null),j=d.useCallback(()=>{const N=g.current;if(!N)return;const S=b.current.x*x.current.x,C=b.current.y*x.current.y;N.scrollBy(S,C)},[]),w=d.useMemo(()=>i===po.TreeOrder?[...c].reverse():c,[i,c]);d.useEffect(()=>{if(!s||!c.length||!m){v();return}for(const N of w){if((r==null?void 0:r(N))===!1)continue;const S=c.indexOf(N),C=p[S];if(!C)continue;const{direction:T,speed:D}=yy(N,C,m,t,h);for(const R of["x","y"])y[R][T[R]]||(D[R]=0,T[R]=0);if(D.x>0||D.y>0){v(),g.current=N,k(j,a),b.current=D,x.current=T;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,j,r,v,s,a,JSON.stringify(m),JSON.stringify(y),k,c,w,p,JSON.stringify(h)])}const Dy={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function Ry(e){let{delta:t,disabled:n}=e;const r=io(t);return Yl(l=>{if(n||!r||!l)return Dy;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[$e.Backward]:l.x[$e.Backward]||s.x===-1,[$e.Forward]:l.x[$e.Forward]||s.x===1},y:{[$e.Backward]:l.y[$e.Backward]||s.y===-1,[$e.Forward]:l.y[$e.Forward]||s.y===1}}},[n,t,r])}function zy(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Yl(l=>{var s;return t==null?null:(s=r!=null?r:l)!=null?s:null},[r,t])}function Py(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,s=l.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Al;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Al||(Al={}));var Ni;(function(e){e.Optimized="optimized"})(Ni||(Ni={}));const id=new Map;function Iy(e,t){let{dragging:n,dependencies:r,config:l}=t;const[s,a]=d.useState(null),{frequency:i,measure:u,strategy:c}=l,p=d.useRef(e),f=b(),h=Ol(f),y=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),k=d.useRef(null),v=Yl(x=>{if(f&&!n)return id;if(!x||x===id||p.current!==e||s!=null){const m=new Map;for(let g of e){if(!g)continue;if(s&&s.length>0&&!s.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const j=g.node.current,w=j?new Cu(u(j),j):null;g.rect.current=w,w&&m.set(g.id,w)}return m}return x},[e,s,n,f,u]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{f||y()},[n,f]),d.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),d.useEffect(()=>{f||typeof i!="number"||k.current!==null||(k.current=setTimeout(()=>{y(),k.current=null},i))},[i,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function b(){switch(c){case Al.Always:return!1;case Al.BeforeDragging:return n;default:return!n}}}function Tu(e,t){return Yl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ly(e,t){return Tu(e,t)}function Oy(e){let{callback:t,disabled:n}=e;const r=Fo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Bo(e){let{callback:t,disabled:n}=e;const r=Fo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Ay(e){return new Cu(Fr(e),e)}function ud(e,t,n){t===void 0&&(t=Ay);const[r,l]=d.useState(null);function s(){l(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u!=null?u:n)!=null?c:null}const p=t(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=Oy({callback(u){if(e)for(const c of u){const{type:p,target:f}=c;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),i=Bo({callback:s});return Ft(()=>{s(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function Fy(e){const t=Tu(e);return rh(e,t)}const cd=[];function $y(e){const t=d.useRef(e),n=Yl(r=>e?r&&r!==cd&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nu(e):cd,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function By(e){const[t,n]=d.useState(null),r=d.useRef(e),l=d.useCallback(s=>{const a=wa(s.target);a&&n(i=>i?(i.set(a,Si(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(u=>{const c=wa(u);return c?(c.addEventListener("scroll",l,{passive:!0}),[c,Si(c)]):null}).filter(u=>u!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(u=>{const c=wa(u);c==null||c.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Nr(s,a),$t):ch(e):$t,[e,t])}function dd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==$t;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?uo(e,n.current):$t}function Uy(e){d.useEffect(()=>{if(!Ao)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Hy(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:s}=r;return n[l]=a=>{s(a,t)},n},{}),[e,t])}function mh(e){return d.useMemo(()=>e?my(e):null,[e])}const fd=[];function Wy(e,t){t===void 0&&(t=Fr);const[n]=e,r=mh(n?rt(n):null),[l,s]=d.useState(fd);function a(){s(()=>e.length?e.map(u=>ih(u)?r:new Cu(t(u),u)):fd)}const i=Bo({callback:a});return Ft(()=>{i==null||i.disconnect(),a(),e.forEach(u=>i==null?void 0:i.observe(u))},[e]),l}function xh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ql(t)?t:e}function Vy(e){let{measure:t}=e;const[n,r]=d.useState(null),l=d.useCallback(c=>{for(const{target:p}of c)if(Ql(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Bo({callback:l}),a=d.useCallback(c=>{const p=xh(c);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[i,u]=ao(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:u}),[n,i,u])}const Xy=[{sensor:Mu,options:{}},{sensor:ph,options:{}}],Ky={current:{}},Ls={draggable:{measure:ld},droppable:{measure:ld,strategy:Al.WhileDragging,frequency:Ni.Optimized},dragOverlay:{measure:Fr}};class hl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Qy={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ls,measureDroppableContainers:fo,windowRect:null,measuringScheduled:!1},gh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fo,draggableNodes:new Map,over:null,measureDroppableContainers:fo},Jl=d.createContext(gh),vh=d.createContext(Qy);function Yy(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hl}}}function Gy(e,t){switch(t.type){case Ie.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ie.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ie.DragEnd:case Ie.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ie.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new hl(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case Ie.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new hl(e.droppable.containers);return a.set(n,{...s,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case Ie.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const s=new hl(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Jy(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=d.useContext(Jl),s=io(r),a=io(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!$o(s)||document.activeElement===s.target)return;const i=l.get(a);if(!i)return;const{activatorNode:u,node:c}=i;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const p of[u.current,c.current]){if(!p)continue;const f=Vv(p);if(f){f.focus();break}}})}},[r,t,l,a,s]),null}function yh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,s)=>s({transform:l,...r}),n):n}function qy(e){return d.useMemo(()=>({draggable:{...Ls.draggable,...e==null?void 0:e.draggable},droppable:{...Ls.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ls.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Zy(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const s=d.useRef(!1),{x:a,y:i}=typeof l=="boolean"?{x:l,y:l}:l;Ft(()=>{if(!a&&!i||!t){s.current=!1;return}if(s.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const p=n(c),f=rh(p,r);if(a||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=sh(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,i,r,n])}const Uo=d.createContext({...$t,scaleX:1,scaleY:1});var yn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(yn||(yn={}));const e1=d.memo(function(t){var n,r,l,s;let{id:a,accessibility:i,autoScroll:u=!0,children:c,sensors:p=Xy,collisionDetection:f=uy,measuring:h,modifiers:y,...k}=t;const v=d.useReducer(Gy,void 0,Yy),[b,x]=v,[m,g]=Jv(),[j,w]=d.useState(yn.Uninitialized),N=j===yn.Initialized,{draggable:{active:S,nodes:C,translate:T},droppable:{containers:D}}=b,R=S!=null?C.get(S):null,K=d.useRef({initial:null,translated:null}),F=d.useMemo(()=>{var Ke;return S!=null?{id:S,data:(Ke=R==null?void 0:R.data)!=null?Ke:Ky,rect:K}:null},[S,R]),X=d.useRef(null),[de,ye]=d.useState(null),[se,z]=d.useState(null),L=Ol(k,Object.values(k)),A=Gl("DndDescribedBy",a),G=d.useMemo(()=>D.getEnabled(),[D]),V=qy(h),{droppableRects:ae,measureDroppableContainers:ne,measuringScheduled:Ne}=Iy(G,{dragging:N,dependencies:[T.x,T.y],config:V.droppable}),re=zy(C,S),he=d.useMemo(()=>se?co(se):null,[se]),ze=Dh(),Ue=Ly(re,V.draggable.measure);Zy({activeNode:S!=null?C.get(S):null,config:ze.layoutShiftCompensation,initialRect:Ue,measure:V.draggable.measure});const E=ud(re,V.draggable.measure,Ue),B=ud(re?re.parentElement:null),Z=d.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=D.getNodeFor((n=Z.current.over)==null?void 0:n.id),ke=Vy({measure:V.dragOverlay.measure}),ft=(r=ke.nodeRef.current)!=null?r:re,me=N?(l=ke.rect)!=null?l:E:null,Ut=!!(ke.nodeRef.current&&ke.rect),nr=Fy(Ut?null:E),H=mh(ft?rt(ft):null),ue=$y(N?dt!=null?dt:re:null),Ce=Wy(ue),Ee=yh(y,{transform:{x:T.x-nr.x,y:T.y-nr.y,scaleX:1,scaleY:1},activatorEvent:se,active:F,activeNodeRect:E,containerNodeRect:B,draggingNodeRect:me,over:Z.current.over,overlayNodeRect:ke.rect,scrollableAncestors:ue,scrollableAncestorRects:Ce,windowRect:H}),Dt=he?Nr(he,T):null,Ae=By(ue),$r=dd(Ae),ql=dd(Ae,[E]),Jt=Nr(Ee,$r),qt=me?fy(me,Ee):null,fn=F&&qt?f({active:F,collisionRect:qt,droppableRects:ae,droppableContainers:G,pointerCoordinates:Dt}):null,P=oy(fn,"id"),[te,q]=d.useState(null),Me=Ut?Ee:Nr(Ee,ql),bt=cy(Me,(s=te==null?void 0:te.rect)!=null?s:null,E),Zt=d.useRef(null),Ho=d.useCallback((Ke,pt)=>{let{sensor:ht,options:pn}=pt;if(X.current==null)return;const St=C.get(X.current);if(!St)return;const mt=Ke.nativeEvent,Ht=new ht({active:X.current,activeNode:St,event:mt,options:pn,context:Z,onAbort(He){if(!C.get(He))return;const{onDragAbort:Wt}=L.current,en={id:He};Wt==null||Wt(en),m({type:"onDragAbort",event:en})},onPending(He,hn,Wt,en){if(!C.get(He))return;const{onDragPending:Ur}=L.current,mn={id:He,constraint:hn,initialCoordinates:Wt,offset:en};Ur==null||Ur(mn),m({type:"onDragPending",event:mn})},onStart(He){const hn=X.current;if(hn==null)return;const Wt=C.get(hn);if(!Wt)return;const{onDragStart:en}=L.current,Br={activatorEvent:mt,active:{id:hn,data:Wt.data,rect:K}};vr.unstable_batchedUpdates(()=>{en==null||en(Br),w(yn.Initializing),x({type:Ie.DragStart,initialCoordinates:He,active:hn}),m({type:"onDragStart",event:Br}),ye(Zt.current),z(mt)})},onMove(He){x({type:Ie.DragMove,coordinates:He})},onEnd:rr(Ie.DragEnd),onCancel:rr(Ie.DragCancel)});Zt.current=Ht;function rr(He){return async function(){const{active:Wt,collisions:en,over:Br,scrollAdjustedTranslate:Ur}=Z.current;let mn=null;if(Wt&&Ur){const{cancelDrop:Hr}=L.current;mn={activatorEvent:mt,active:Wt,collisions:en,delta:Ur,over:Br},He===Ie.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr(mn))&&(He=Ie.DragCancel)}X.current=null,vr.unstable_batchedUpdates(()=>{x({type:He}),w(yn.Uninitialized),q(null),ye(null),z(null),Zt.current=null;const Hr=He===Ie.DragEnd?"onDragEnd":"onDragCancel";if(mn){const Vo=L.current[Hr];Vo==null||Vo(mn),m({type:Hr,event:mn})}})}}},[C]),Wo=d.useCallback((Ke,pt)=>(ht,pn)=>{const St=ht.nativeEvent,mt=C.get(pn);if(X.current!==null||!mt||St.dndKit||St.defaultPrevented)return;const Ht={active:mt};Ke(ht,pt.options,Ht)===!0&&(St.dndKit={capturedBy:pt.sensor},X.current=pn,Ho(ht,pt))},[C,Ho]),Du=Py(p,Wo);Uy(p),Ft(()=>{E&&j===yn.Initializing&&w(yn.Initialized)},[E,j]),d.useEffect(()=>{const{onDragMove:Ke}=L.current,{active:pt,activatorEvent:ht,collisions:pn,over:St}=Z.current;if(!pt||!ht)return;const mt={active:pt,activatorEvent:ht,collisions:pn,delta:{x:Jt.x,y:Jt.y},over:St};vr.unstable_batchedUpdates(()=>{Ke==null||Ke(mt),m({type:"onDragMove",event:mt})})},[Jt.x,Jt.y]),d.useEffect(()=>{const{active:Ke,activatorEvent:pt,collisions:ht,droppableContainers:pn,scrollAdjustedTranslate:St}=Z.current;if(!Ke||X.current==null||!pt||!St)return;const{onDragOver:mt}=L.current,Ht=pn.get(P),rr=Ht&&Ht.rect.current?{id:Ht.id,rect:Ht.rect.current,data:Ht.data,disabled:Ht.disabled}:null,He={active:Ke,activatorEvent:pt,collisions:ht,delta:{x:St.x,y:St.y},over:rr};vr.unstable_batchedUpdates(()=>{q(rr),mt==null||mt(He),m({type:"onDragOver",event:He})})},[P]),Ft(()=>{Z.current={activatorEvent:se,active:F,activeNode:re,collisionRect:qt,collisions:fn,droppableRects:ae,draggableNodes:C,draggingNode:ft,draggingNodeRect:me,droppableContainers:D,over:te,scrollableAncestors:ue,scrollAdjustedTranslate:Jt},K.current={initial:me,translated:qt}},[F,re,fn,qt,C,ft,me,ae,D,te,ue,Jt]),_y({...ze,delta:T,draggingRect:qt,pointerCoordinates:Dt,scrollableAncestors:ue,scrollableAncestorRects:Ce});const Th=d.useMemo(()=>({active:F,activeNode:re,activeNodeRect:E,activatorEvent:se,collisions:fn,containerNodeRect:B,dragOverlay:ke,draggableNodes:C,droppableContainers:D,droppableRects:ae,over:te,measureDroppableContainers:ne,scrollableAncestors:ue,scrollableAncestorRects:Ce,measuringConfiguration:V,measuringScheduled:Ne,windowRect:H}),[F,re,E,se,fn,B,ke,C,D,ae,te,ne,ue,Ce,V,Ne,H]),_h=d.useMemo(()=>({activatorEvent:se,activators:Du,active:F,activeNodeRect:E,ariaDescribedById:{draggable:A},dispatch:x,draggableNodes:C,over:te,measureDroppableContainers:ne}),[se,Du,F,E,x,A,C,te,ne]);return ge.createElement(nh.Provider,{value:g},ge.createElement(Jl.Provider,{value:_h},ge.createElement(vh.Provider,{value:Th},ge.createElement(Uo.Provider,{value:bt},c)),ge.createElement(Jy,{disabled:(i==null?void 0:i.restoreFocus)===!1})),ge.createElement(ey,{...i,hiddenTextDescribedById:A}));function Dh(){const Ke=(de==null?void 0:de.autoScrollEnabled)===!1,pt=typeof u=="object"?u.enabled===!1:u===!1,ht=N&&!Ke&&!pt;return typeof u=="object"?{...u,enabled:ht}:{enabled:ht}}}),t1=d.createContext(null),pd="button",n1="Draggable";function r1(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const s=Gl(n1),{activators:a,activatorEvent:i,active:u,activeNodeRect:c,ariaDescribedById:p,draggableNodes:f,over:h}=d.useContext(Jl),{role:y=pd,roleDescription:k="draggable",tabIndex:v=0}=l!=null?l:{},b=(u==null?void 0:u.id)===t,x=d.useContext(b?Uo:t1),[m,g]=ao(),[j,w]=ao(),N=Hy(a,t),S=Ol(n);Ft(()=>(f.set(t,{id:t,key:s,node:m,activatorNode:j,data:S}),()=>{const T=f.get(t);T&&T.key===s&&f.delete(t)}),[f,t]);const C=d.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&y===pd?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,y,v,b,k,p.draggable]);return{active:u,activatorEvent:i,activeNodeRect:c,attributes:C,isDragging:b,listeners:r?void 0:N,node:m,over:h,setNodeRef:g,setActivatorNodeRef:w,transform:x}}function wh(){return d.useContext(vh)}const l1="Droppable",s1={timeout:25};function o1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const s=Gl(l1),{active:a,dispatch:i,over:u,measureDroppableContainers:c}=d.useContext(Jl),p=d.useRef({disabled:n}),f=d.useRef(!1),h=d.useRef(null),y=d.useRef(null),{disabled:k,updateMeasurementsFor:v,timeout:b}={...s1,...l},x=Ol(v!=null?v:r),m=d.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),y.current=null},b)},[b]),g=Bo({callback:m,disabled:k||!a}),j=d.useCallback((C,T)=>{g&&(T&&(g.unobserve(T),f.current=!1),C&&g.observe(C))},[g]),[w,N]=ao(j),S=Ol(t);return d.useEffect(()=>{!g||!w.current||(g.disconnect(),f.current=!1,g.observe(w.current))},[w,g]),d.useEffect(()=>(i({type:Ie.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:h,data:S}}),()=>i({type:Ie.UnregisterDroppable,key:s,id:r})),[r]),d.useEffect(()=>{n!==p.current.disabled&&(i({type:Ie.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,i]),{active:a,rect:h,isOver:(u==null?void 0:u.id)===r,node:w,over:u,setNodeRef:N}}function a1(e){let{animation:t,children:n}=e;const[r,l]=d.useState(null),[s,a]=d.useState(null),i=io(n);return!n&&!r&&i&&l(i),Ft(()=>{if(!s)return;const u=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(u==null||c==null){l(null);return}Promise.resolve(t(c,s)).then(()=>{l(null)})},[t,r,s]),ge.createElement(ge.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const i1={x:0,y:0,scaleX:1,scaleY:1};function u1(e){let{children:t}=e;return ge.createElement(Jl.Provider,{value:gh},ge.createElement(Uo.Provider,{value:i1},t))}const c1={position:"fixed",touchAction:"none"},d1=e=>$o(e)?"transform 250ms ease":void 0,f1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:s,className:a,rect:i,style:u,transform:c,transition:p=d1}=e;if(!i)return null;const f=l?c:{...c,scaleX:1,scaleY:1},h={...c1,width:i.width,height:i.height,top:i.top,left:i.left,transform:In.Transform.toString(f),transformOrigin:l&&r?ry(r,i):void 0,transition:typeof p=="function"?p(r):p,...u};return ge.createElement(n,{className:a,style:h,ref:t},s)}),p1=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[i,u]of Object.entries(s.active))u!==void 0&&(l[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,u));if(s!=null&&s.dragOverlay)for(const[i,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(i,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,c]of Object.entries(l))n.node.style.setProperty(u,c);a!=null&&a.active&&n.node.classList.remove(a.active)}},h1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:In.Transform.toString(t)},{transform:In.Transform.toString(n)}]},m1={duration:250,easing:"ease",keyframes:h1,sideEffects:p1({styles:{active:{opacity:"0"}}})};function x1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return Fo((s,a)=>{if(t===null)return;const i=n.get(s);if(!i)return;const u=i.node.current;if(!u)return;const c=xh(a);if(!c)return;const{transform:p}=rt(a).getComputedStyle(a),f=lh(p);if(!f)return;const h=typeof t=="function"?t:g1(t);return dh(u,l.draggable.measure),h({active:{id:s,data:i.data,node:u,rect:l.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:l.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:l,transform:f})})}function g1(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...m1,...e};return s=>{let{active:a,dragOverlay:i,transform:u,...c}=s;if(!t)return;const p={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/i.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/i.rect.height:1},h={x:u.x-p.x,y:u.y-p.y,...f},y=l({...c,active:a,dragOverlay:i,transform:{initial:u,final:h}}),[k]=y,v=y[y.length-1];if(JSON.stringify(k)===JSON.stringify(v))return;const b=r==null?void 0:r({active:a,dragOverlay:i,...c}),x=i.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let hd=0;function v1(e){return d.useMemo(()=>{if(e!=null)return hd++,hd},[e])}const y1=ge.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:s,modifiers:a,wrapperElement:i="div",className:u,zIndex:c=999}=e;const{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggableNodes:k,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:j,windowRect:w}=wh(),N=d.useContext(Uo),S=v1(f==null?void 0:f.id),C=yh(a,{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:j,transform:N,windowRect:w}),T=Tu(h),D=x1({config:r,draggableNodes:k,droppableContainers:v,measuringConfiguration:m}),R=T?b.setRef:void 0;return ge.createElement(u1,null,ge.createElement(a1,{animation:D},f&&S?ge.createElement(f1,{key:S,id:f.id,ref:R,as:i,activatorEvent:p,adjustScale:t,className:u,transition:s,rect:T,style:{zIndex:c,...l},transform:C},n):null))});function _u(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function w1(e,t){return e.reduce((n,r,l)=>{const s=t.get(r);return s&&(n[l]=s),n},Array(e.length))}function vs(e){return e!==null&&e>=0}function k1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e;const s=_u(t,r,n),a=t[l],i=s[l];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},ys={scaleX:1,scaleY:1},S1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:l,rects:s,overIndex:a}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(l===n){const c=s[a];return c?{x:0,y:n<a?c.top+c.height-(i.top+i.height):c.top-i.top,...ys}:null}const u=j1(s,l,n);return l>n&&l<=a?{x:0,y:-i.height-u,...ys}:l<n&&l>=a?{x:0,y:i.height+u,...ys}:{x:0,y:0,...ys}};function j1(e,t,n){const r=e[t],l=e[t-1],s=e[t+1];return r?n<t?l?r.top-(l.top+l.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):l?r.top-(l.top+l.height):0:0}const bh="Sortable",Sh=ge.createContext({activeIndex:-1,containerId:bh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kh,disabled:{draggable:!1,droppable:!1}});function N1(e){let{children:t,id:n,items:r,strategy:l=kh,disabled:s=!1}=e;const{active:a,dragOverlay:i,droppableRects:u,over:c,measureDroppableContainers:p}=wh(),f=Gl(bh,n),h=i.rect!==null,y=d.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),k=a!=null,v=a?y.indexOf(a.id):-1,b=c?y.indexOf(c.id):-1,x=d.useRef(y),m=!k1(y,x.current),g=b!==-1&&v===-1||m,j=b1(s);Ft(()=>{m&&k&&p(y)},[m,y,k,p]),d.useEffect(()=>{x.current=y},[y]);const w=d.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:g,items:y,overIndex:b,useDragOverlay:h,sortedRects:w1(y,u),strategy:l}),[v,f,j.draggable,j.droppable,g,y,b,u,h,l]);return ge.createElement(Sh.Provider,{value:w},t)}const C1=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return _u(n,r,l).indexOf(t)},E1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:s,newIndex:a,previousItems:i,previousContainerId:u,transition:c}=e;return!c||!r||i!==s&&l===a?!1:n?!0:a!==l&&t===u},M1={duration:200,easing:"ease"},jh="transform",T1=In.Transition.toString({property:jh,duration:0,easing:"linear"}),_1={roleDescription:"sortable"};function D1(e){let{disabled:t,index:n,node:r,rect:l}=e;const[s,a]=d.useState(null),i=d.useRef(n);return Ft(()=>{if(!t&&n!==i.current&&r.current){const u=l.current;if(u){const c=Fr(r.current,{ignoreTransform:!0}),p={x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height};(p.x||p.y)&&a(p)}}n!==i.current&&(i.current=n)},[t,n,r,l]),d.useEffect(()=>{s&&a(null)},[s]),s}function R1(e){let{animateLayoutChanges:t=E1,attributes:n,disabled:r,data:l,getNewIndex:s=C1,id:a,strategy:i,resizeObserverConfig:u,transition:c=M1}=e;const{items:p,containerId:f,activeIndex:h,disabled:y,disableTransforms:k,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(Sh),g=z1(r,y),j=p.indexOf(a),w=d.useMemo(()=>({sortable:{containerId:f,index:j,items:p},...l}),[f,l,j,p]),N=d.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:S,node:C,isOver:T,setNodeRef:D}=o1({id:a,data:w,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...u}}),{active:R,activatorEvent:K,activeNodeRect:F,attributes:X,setNodeRef:de,listeners:ye,isDragging:se,over:z,setActivatorNodeRef:L,transform:A}=r1({id:a,data:w,attributes:{..._1,...n},disabled:g.draggable}),G=Bv(D,de),V=!!R,ae=V&&!k&&vs(h)&&vs(b),ne=!x&&se,Ne=ne&&ae?A:null,re=i!=null?i:m,he=ae?Ne!=null?Ne:re({rects:v,activeNodeRect:F,activeIndex:h,overIndex:b,index:j}):null,ze=vs(h)&&vs(b)?s({id:a,items:p,activeIndex:h,overIndex:b}):j,Ue=R==null?void 0:R.id,E=d.useRef({activeId:Ue,items:p,newIndex:ze,containerId:f}),B=p!==E.current.items,Z=t({active:R,containerId:f,isDragging:se,isSorting:V,id:a,index:j,items:p,newIndex:E.current.newIndex,previousItems:E.current.items,previousContainerId:E.current.containerId,transition:c,wasDragging:E.current.activeId!=null}),dt=D1({disabled:!Z,index:j,node:C,rect:S});return d.useEffect(()=>{V&&E.current.newIndex!==ze&&(E.current.newIndex=ze),f!==E.current.containerId&&(E.current.containerId=f),p!==E.current.items&&(E.current.items=p)},[V,ze,f,p]),d.useEffect(()=>{if(Ue===E.current.activeId)return;if(Ue!=null&&E.current.activeId==null){E.current.activeId=Ue;return}const ft=setTimeout(()=>{E.current.activeId=Ue},50);return()=>clearTimeout(ft)},[Ue]),{active:R,activeIndex:h,attributes:X,data:w,rect:S,index:j,newIndex:ze,items:p,isOver:T,isSorting:V,isDragging:se,listeners:ye,node:C,overIndex:b,over:z,setNodeRef:G,setActivatorNodeRef:L,setDroppableNodeRef:D,setDraggableNodeRef:de,transform:dt!=null?dt:he,transition:ke()};function ke(){if(dt||B&&E.current.newIndex===j)return T1;if(!(ne&&!$o(K)||!c)&&(V||Z))return In.Transition.toString({...c,property:jh})}}function z1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}le.Down,le.Right,le.Up,le.Left;const M={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function md({label:e,value:t,onChange:n,placeholder:r,rows:l,onExpand:s,onHistory:a}){return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:a,children:o.jsx(mv,{size:13,style:{color:M.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:s,children:o.jsx(Po,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:i=>n(i.target.value),placeholder:r,rows:l||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})}function Sa({label:e,value:t,onChange:n,presets:r}){const[l,s]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text},onClick:()=>s(!l),children:[o.jsx("span",{style:{color:a?M.text:M.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:M.textMuted,transform:l?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),l&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:M.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:M.textMuted},onClick:()=>{n(null),s(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:M.text},onClick:()=>{n(i.id),s(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx(Il,{size:14,style:{color:M.accentDark}})]},i.id))]})]})]})}function ja({value:e,onChange:t,onClose:n,title:r,placeholder:l}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:s=>t(s.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:M.bg,color:M.text},placeholder:l||""})]})}function P1({items:e,currentContent:t,onApply:n,onClose:r}){const[l,s]=d.useState("current"),[a,i]=d.useState(null),u=p=>p?new Date(p).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",c=async()=>{if(l==="current"){r();return}const p=e.find(f=>f.id===l);p&&await n(p.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:M.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:M.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:M.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l==="current"?M.accentDark:M.bg,boxShadow:l==="current"?"none":"var(--icon-inset)"},children:l==="current"&&o.jsx(Il,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:M.textMuted},children:""}),e.map(p=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l===p.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s(p.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l===p.id?M.accentDark:M.bg,boxShadow:l===p.id?"none":"var(--icon-inset)"},children:l===p.id&&o.jsx(Il,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(p),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:[" ",p.version]}),o.jsx("span",{className:"text-[10px]",style:{color:M.textMuted},children:u(p.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:p.content})]})]},p.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:c,children:""})})]})}function Nh(e){return e==="always"?"":e==="keyword"?"":""}function Ch(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function I1({item:e,book:t,position:n,sectionList:r,onRemove:l,onChangePosition:s}){const{attributes:a,listeners:i,setNodeRef:u,transform:c,transition:p,isDragging:f}=R1({id:String(e.id)}),h={transform:In.Transform.toString(c),transition:p,opacity:f?.35:1,zIndex:f?10:void 0};return t?o.jsxs("div",{ref:u,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:f?"grabbing":"grab"},children:o.jsx(Gp,{size:14,style:{color:M.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:M.textMuted},children:[Nh(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},onClick:()=>s(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>l(e.id),children:o.jsx(Lo,{size:14,style:{color:M.textMuted}})})]}):null}function L1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[l,s]=d.useState(new Set(t)),a={};e.forEach(c=>{const p=c.folder||"";a[p]||(a[p]=[]),a[p].push(c)});const i=c=>{s(p=>{const f=new Set(p);return f.has(c)?f.delete(c):f.add(c),f})},u=c=>{const p=c.every(f=>l.has(f.id));s(f=>{const h=new Set(f);return p?c.forEach(y=>h.delete(y.id)):c.forEach(y=>h.add(y.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:M.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Lo,{size:20,style:{color:M.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([c,p])=>{const f=p.every(h=>l.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:c}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:f?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:f?M.accentDark:M.textMuted},onClick:()=>u(p),children:f?"":""})]}),o.jsx("div",{className:"space-y-2",children:p.map(h=>{const y=l.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:M.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:y?M.accentDark:M.bg,boxShadow:y?"none":"var(--icon-inset)"},children:y&&o.jsx(Il,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:y?M.accentDark:M.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},children:Nh(h.activation)})]},h.id)})})]},c)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...l]),children:[" ",l.size,""]})})]})})}function O1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,l]=d.useState(!1),[s,a]=d.useState(null),i=Ch(e),u=i.filter(w=>w.position==="before").sort((w,N)=>w.sort_order-N.sort_order),c=i.filter(w=>w.position==="after").sort((w,N)=>w.sort_order-N.sort_order),p=w=>n.find(N=>N.id===w||N.id===Number(w)),f=ty(nd(Mu,{activationConstraint:{distance:5}}),nd(hh,{activationConstraint:{delay:150,tolerance:5}})),h=({active:w})=>a(w.id),y=({active:w,over:N})=>{if(!N)return;const S=i.find(T=>String(T.id)===String(w.id)),C=i.find(T=>String(T.id)===String(N.id));if(!(!S||!C)&&S.position!==C.position){const T=i.map(D=>String(D.id)===String(S.id)?{...D,position:C.position}:D);t(T)}},k=({active:w,over:N})=>{if(a(null),!N||w.id===N.id)return;const S=i.find(X=>String(X.id)===String(w.id)),C=i.find(X=>String(X.id)===String(N.id));if(!S||!C||S.position!==C.position)return;const T=S.position==="before"?[...u]:[...c],D=T.findIndex(X=>String(X.id)===String(w.id)),R=T.findIndex(X=>String(X.id)===String(N.id)),K=_u(T,D,R).map((X,de)=>({...X,sort_order:de})),F=i.filter(X=>X.position!==S.position);t([...F,...K])},v=w=>t(i.filter(N=>N.id!==w)),b=(w,N)=>{const C=(N==="before"?u:c).length;t(i.map(T=>T.id===w?{...T,position:N,sort_order:C}:T))},x=w=>{const N=i.map(R=>R.id),C=w.filter(R=>!N.includes(R)).map((R,K)=>({id:R,position:"after",sort_order:c.length+K})),T=new Set(N.filter(R=>!w.includes(R))),D=i.filter(R=>!T.has(R.id));t([...D,...C])},m=(w,N)=>w.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:M.textMuted},children:""}):o.jsx(N1,{items:w.map(S=>String(S.id)),strategy:S1,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},children:w.map((S,C)=>o.jsxs("div",{children:[C>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(I1,{item:S,book:p(S.id),position:N,sectionList:w,onRemove:v,onChangePosition:b})]},S.id))})}),g=s?i.find(w=>String(w.id)===String(s)):null,j=g?p(g.id):null;return o.jsxs(e1,{sensors:f,collisionDetection:ay,onDragStart:h,onDragOver:y,onDragEnd:k,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(u,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:M.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(c,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)",color:M.accentDark},onClick:()=>l(!0),children:[o.jsx(Xl,{size:16})," "]}),o.jsx(y1,{children:j&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:M.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(Gp,{size:14,style:{color:M.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.accentDark},children:j.name})})]})}),r&&o.jsx(L1,{allBooks:n,mountedIds:i.map(w=>w.id),onClose:()=>l(!1),onConfirm:w=>{x(w),l(!1)}})]})}function xd(){const e=Bt(),{id:t}=Up(),n=!t,[r,l]=d.useState("basic"),[s,a]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState(null),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState(""),[g,j]=d.useState(""),[w,N]=d.useState(null),[S,C]=d.useState(null),[T,D]=d.useState([]),[R,K]=d.useState([]),[F,X]=d.useState([]),[de,ye]=d.useState(!1),[se,z]=d.useState(!n),[L,A]=d.useState(null),[G,V]=d.useState(!1),[ae,ne]=d.useState(!1),[Ne,re]=d.useState(!1),[he,ze]=d.useState(null),[Ue,E]=d.useState([]),B=d.useRef(null),Z=d.useRef(null),dt=H=>{var Ee;const ue=(Ee=H.target.files)==null?void 0:Ee[0];if(!ue)return;const Ce=new FileReader;Ce.onload=Dt=>p(Dt.target.result||""),Ce.readAsText(ue),H.target.value=""},ke=H=>{A(H),setTimeout(()=>A(null),2500)},ft=async H=>{const ue=H==="human"?w:S;if(!ue){ke("");return}try{const Ce=await $(`/api/core-blocks/${ue}/history`);E(Ce.history||[]),ze(H)}catch(Ce){ke("")}};d.useEffect(()=>{(async()=>{const[ue,Ce]=await Promise.all([$("/api/presets").catch(()=>({presets:[]})),$("/api/world-books").catch(()=>({world_books:[]}))]);if(K(ue.presets||[]),X(Ce.world_books||[]),n)z(!1);else try{const[Ee,Dt]=await Promise.all([$(`/api/assistants/${t}`),$(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(Ee.name||""),Oo(`assistant-avatar-${t}`).then(Ae=>{Ae&&u(Ae)}).catch(function(){}),p(Ee.system_prompt||""),h(Ee.model_preset_id||null),k(Ee.summary_model_preset_id||null),b(Ee.summary_fallback_preset_id||null),D(Ee.rule_set_ids||[]);for(const Ae of Dt.blocks||[])Ae.block_type==="human"?(m(Ae.content||""),N(Ae.id)):Ae.block_type==="persona"&&(j(Ae.content||""),C(Ae.id))}catch(Ee){ke(": "+Ee.message)}finally{z(!1)}})()},[t,n]);const me=H=>{var Ee;const ue=(Ee=H.target.files)==null?void 0:Ee[0];if(!ue)return;const Ce=new FileReader;Ce.onload=async Dt=>{const Ae=Dt.target.result,$r=`assistant-avatar-${t||"new"}`;try{await bi($r,Ae),u(Ae)}catch(ql){ke("")}},Ce.readAsDataURL(ue),H.target.value=""},Ut=async()=>{if(!s.trim()){ke("");return}ye(!0);try{const H={name:s.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:c,model_preset_id:f,summary_model_preset_id:y,summary_fallback_preset_id:v,rule_set_ids:Ch(T)};let ue=t;n?(ue=(await $("/api/assistants",{method:"POST",body:{name:s.trim()}})).id,i&&(await bi(`assistant-avatar-${ue}`,i),H.avatar_url=`assistant-avatar-${ue}`),await $(`/api/assistants/${ue}`,{method:"PUT",body:H})):await $(`/api/assistants/${t}`,{method:"PUT",body:H});const Ce=[];w&&Ce.push($(`/api/core-blocks/${w}`,{method:"PUT",body:{content:x}})),S&&Ce.push($(`/api/core-blocks/${S}`,{method:"PUT",body:{content:g}})),await Promise.all(Ce),ke("")}catch(H){ke(": "+H.message)}finally{ye(!1)}},nr=[{key:"basic",label:""},{key:"about",label:""},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:M.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:M.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:de?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Ut,disabled:de,children:o.jsx(Io,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:nr.map(H=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===H.key?M.bg:"transparent",boxShadow:r===H.key?"var(--card-shadow-sm)":"none",color:r===H.key?M.accentDark:M.textMuted},onClick:()=>l(H.key),children:H.label},H.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:se?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:M.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var H;return(H=B.current)==null?void 0:H.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:M.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:M.accentDark},children:(s==null?void 0:s[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:M.accentDark},children:o.jsx(Qp,{size:9,color:"white"})})]}),o.jsx("input",{ref:B,type:"file",accept:"image/*",className:"hidden",onChange:me}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsx("input",{type:"text",value:s,onChange:H=>a(H.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>{var H;return(H=Z.current)==null?void 0:H.click()},title:"",children:o.jsx(ku,{size:13,style:{color:M.textMuted}})}),o.jsx("input",{ref:Z,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:dt}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>V(!0),title:"",children:o.jsx(Po,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:c,onChange:H=>p(H.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Sa,{label:"",value:f,onChange:h,presets:R}),o.jsx(Sa,{label:"",value:y,onChange:k,presets:R}),o.jsx(Sa,{label:"",value:v,onChange:b,presets:R})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(md,{label:"AI ",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>ne(!0),onHistory:()=>ft("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(md,{label:"",value:g,onChange:j,placeholder:"AI ...",rows:7,onExpand:()=>re(!0),onHistory:()=>ft("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(O1,{ruleSetIds:T,onChange:D,allBooks:F})})]})}),G&&o.jsx(ja,{value:c,onChange:p,onClose:()=>V(!1),title:"",placeholder:"..."}),ae&&o.jsx(ja,{value:x,onChange:m,onClose:()=>ne(!1),title:"AI ",placeholder:" AI ..."}),Ne&&o.jsx(ja,{value:g,onChange:j,onClose:()=>re(!1),title:"",placeholder:"AI ..."}),he&&o.jsx(P1,{items:Ue,currentContent:he==="human"?x:g,onApply:async H=>{const ue=he==="human"?w:S;try{await $(`/api/core-blocks/${ue}`,{method:"PUT",body:{content:H}}),he==="human"?m(H):j(H),ke("")}catch(Ce){ke("")}},onClose:()=>ze(null)}),L&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:L})})]})}const Q={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function A1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":Q.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function gd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Q.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Q.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:Q.textMuted},children:n})]}),o.jsx(Vl,{size:16,style:{color:Q.textMuted}})]})}function F1(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function qr({value:e,onChange:t,min:n,max:r}){const[l,s]=d.useState(String(e));d.useEffect(()=>s(String(e)),[e]);const a=()=>{let i=parseInt(l);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),s(String(i)),t(i)};return o.jsx("input",{type:"number",value:l,onChange:i=>s(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:Q.bg,color:Q.text},min:n,max:r})}function $1(){const e=Bt(),[t,n]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessage)||!1}),[r,l]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMin)||30}),[s,a]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMax)||60}),[i,u]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[c,p]=d.useState(8e3),[f,h]=d.useState(16e3),[y,k]=d.useState(!1),[v,b]=d.useState(!1),[x,m]=d.useState(null),g=w=>{m(w),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{$("/api/settings/context-budget").then(w=>{p(w.retain_budget),h(w.trigger_threshold),k(!0)}).catch(()=>k(!0))},[]),d.useEffect(()=>{const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:s}))},[t,r,s]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),$("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]);const j=async()=>{b(!0);try{await $("/api/settings/context-budget",{method:"PUT",body:{retain_budget:c,trigger_threshold:f}}),g("")}catch(w){g("")}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Q.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Q.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:Q.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Q.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Q.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(gd,{icon:o.jsx(vv,{size:18,style:{color:Q.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(F1,{}),o.jsx(gd,{icon:o.jsx(xv,{size:18,style:{color:Q.textMuted}}),label:"",hint:"",onClick:()=>g("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Q.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Q.bg},children:o.jsx(Jp,{size:18,style:{color:Q.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Q.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Q.textMuted},children:" AI "})]}),o.jsx(A1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:Q.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:Q.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qr,{value:r,onChange:l,min:1,max:999}),o.jsx("span",{style:{color:Q.textMuted},children:"~"}),o.jsx(qr,{value:s,onChange:a,min:1,max:999})]})]})})]}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:Q.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Q.bg},children:o.jsx(kv,{size:18,style:{color:Q.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Q.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Q.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(qr,{value:i,onChange:u,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:Q.textMuted},children:""})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:Q.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Q.bg},children:o.jsx(dv,{size:18,style:{color:Q.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Q.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Q.textMuted},children:""})]})]}),y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Q.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Q.textMuted},children:" token "})]}),o.jsx(qr,{value:c,onChange:p,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Q.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Q.textMuted},children:""})]}),o.jsx(qr,{value:f,onChange:h,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:v?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:j,disabled:v,children:v?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:Q.accent,borderTopColor:"transparent"}})})]})]}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const I={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},B1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function U1(e){try{return new URL(e).hostname}catch(t){return e}}function vd({label:e,value:t,onChange:n,placeholder:r,password:l,disabled:s}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:I.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:l&&!a?"password":"text",value:t,onChange:u=>n(u.target.value),placeholder:r,disabled:s,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:s?I.textMuted:I.text,opacity:s?.5:1}}),l&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(pv,{size:16,style:{color:I.textMuted}}):o.jsx(fv,{size:16,style:{color:I.textMuted}})})]})]})}function H1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:I.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?I.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?I.accentDark:I.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function W1({value:e,onChange:t,options:n,placeholder:r}){const[l,s]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!l)return;const i=u=>{a.current&&!a.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[l]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:e?I.text:I.textMuted},onClick:()=>s(!l),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx(Wl,{size:16,style:{color:I.textMuted,flexShrink:0,transform:l?"rotate(180deg)":"none"}})]}),l&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:I.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:I.text},onClick:()=>{t(i),s(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx(Il,{size:12,style:{color:I.accentDark,flexShrink:0}})]},i))})]})}function V1({value:e,onChange:t}){const[n,r]=d.useState(!1),l=d.useRef(null);return d.useEffect(()=>{if(!n)return;const s=a=>{l.current&&!l.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[n]),o.jsxs("div",{className:"relative",ref:l,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:s=>t(s.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:I.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx(Wl,{size:16,style:{color:I.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:I.bg,boxShadow:"var(--card-shadow)"},children:B1.map(s=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:I.text},onClick:()=>{t(s),r(!1)},children:s},s))})]})}function Na({value:e,onChange:t,min:n,max:r,step:l}){const[s,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let u=parseFloat(s);isNaN(u)&&(u=n),u=Math.max(n,Math.min(r,u)),u=Math.round(u/l)*l,u=parseFloat(u.toFixed(4)),a(String(u)),t(u)};return o.jsx("input",{type:"number",value:s,onChange:u=>a(u.target.value),onBlur:i,onKeyDown:u=>u.key==="Enter"&&i(),step:l,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:I.text}})}function yd({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":I.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Ca({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:I.bg,boxShadow:"var(--card-shadow)"},children:e})}function X1(){const e=Bt(),[t,n]=d.useState([]),[r,l]=d.useState([]),[s,a]=d.useState(!0),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState("api_key"),[y,k]=d.useState(""),[v,b]=d.useState([]),[x,m]=d.useState(!1),[g,j]=d.useState(1),[w,N]=d.useState(!1),[S,C]=d.useState(1),[T,D]=d.useState(!1),[R,K]=d.useState(4096),[F,X]=d.useState(null),[de,ye]=d.useState(null),[se,z]=d.useState(!1),[L,A]=d.useState(!1),[G,V]=d.useState(""),[ae,ne]=d.useState(!1),[Ne,re]=d.useState(!1),[he,ze]=d.useState(null),[Ue,E]=d.useState(null),[B,Z]=d.useState(""),dt=d.useRef(null),ke=d.useRef(!1),ft=d.useRef({});ft.current={baseUrl:i,apiKey:c,authType:f,modelName:y,temperature:g,tempEnabled:w,topP:S,topPEnabled:T,maxTokens:R,editingPreset:F,providers:t};const me=d.useCallback(P=>{ye(P),setTimeout(()=>ye(null),2500)},[]),Ut=d.useCallback(async()=>{try{const[P,te]=await Promise.all([$("/api/providers"),$("/api/presets")]);n(P.providers||[]),l(te.presets||[])}catch(P){me(": "+P.message)}finally{a(!1)}},[me]);d.useEffect(()=>{Ut()},[Ut]);const nr=P=>{var q,Me;X(P),k(P.model_name),N(P.temperature!=null),j((q=P.temperature)!=null?q:1),D(P.top_p!=null),C((Me=P.top_p)!=null?Me:1),K(P.max_tokens);const te=t.find(bt=>bt.id===P.api_provider_id);te&&(u(te.base_url),p(te.api_key),h(te.auth_type||"api_key"))},H=()=>{X(null),u(""),p(""),h("api_key"),k(""),j(1),N(!1),C(1),D(!1),K(4096),b([])},ue=async()=>{if(!i.trim()||!c.trim()){me(" API  Key");return}m(!0);try{const P=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${c.trim()}`}});if(!P.ok)throw new Error(`HTTP ${P.status}`);const q=((await P.json()).data||[]).map(Me=>Me.id).sort();b(q),me(q.length?` ${q.length} `:"")}catch(P){me(": "+P.message)}finally{m(!1)}},Ce=async()=>{var P;if(!i.trim()||!c.trim()||!y.trim()){me(" API Key ");return}z(!0);try{const te=i.trim().replace(/\/+$/,""),q={"Content-Type":"application/json",Authorization:`Bearer ${c.trim()}`};f==="oauth_token"&&(q["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",q["anthropic-dangerous-direct-browser-access"]="true",q["x-app"]="cli");const Me=await fetch(`${te}/chat/completions`,{method:"POST",headers:q,body:JSON.stringify({model:y.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!Me.ok){const bt=await Me.json().catch(()=>({}));throw new Error(((P=bt.error)==null?void 0:P.message)||`HTTP ${Me.status}`)}me(" ")}catch(te){me(": "+te.message)}finally{z(!1)}},Ee=async P=>{const te=ft.current,q=te.baseUrl.trim(),Me=te.apiKey.trim(),bt=te.authType,Zt=P.find(Wo=>Wo.base_url===q);return Zt?((Zt.api_key!==Me||Zt.auth_type!==bt)&&await $(`/api/providers/${Zt.id}`,{method:"PUT",body:{api_key:Me,auth_type:bt}}),Zt.id):(await $("/api/providers",{method:"POST",body:{name:U1(q),base_url:q,api_key:Me,auth_type:bt}})).id},Dt=async(P,te)=>{const q=ft.current;if(!q.baseUrl.trim()||!q.apiKey.trim()||!q.modelName.trim()){me("");return}re(!0);try{const Me=await Ee(q.providers),bt={name:P,model_name:q.modelName.trim(),temperature:q.tempEnabled?q.temperature:null,top_p:q.topPEnabled?q.topP:null,max_tokens:Number(q.maxTokens)||4096,api_provider_id:Me};q.editingPreset&&!te?(await $(`/api/presets/${q.editingPreset.id}`,{method:"PUT",body:bt}),me("")):(await $("/api/presets",{method:"POST",body:bt}),me("")),await Ut()}catch(Me){me(": "+Me.message)}finally{re(!1)}},Ae=()=>{const P=G.trim();P&&(A(!1),Dt(P,ae))},$r=()=>{F&&Dt(F.name,!1)},ql=async()=>{if(he){try{await $(`/api/presets/${he.id}`,{method:"DELETE"}),me(""),(F==null?void 0:F.id)===he.id&&H(),Ut()}catch(P){me(": "+P.message)}ze(null)}},Jt=async()=>{const P=B.trim();if(!(!P||!Ue)){try{await $(`/api/presets/${Ue.id}`,{method:"PUT",body:{name:P}}),me(""),Ut()}catch(te){me("")}E(null)}},qt=(P,te)=>{ke.current=!1,P.touches?P.touches[0].clientX:P.clientX,P.touches?P.touches[0].clientY:P.clientY,dt.current=setTimeout(()=>{ke.current=!0,ze(te)},600)},fn=()=>clearTimeout(dt.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:I.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:I.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:I.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:I.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ca,{children:[o.jsx(vd,{label:"API ",value:i,onChange:u,placeholder:"https://api.openai.com/v1",disabled:f==="oauth_token"}),o.jsx(vd,{label:"API Key",value:c,onChange:p,placeholder:f==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:I.textMuted},children:""}),o.jsx(H1,{value:f,onChange:P=>{h(P),P==="oauth_token"&&u("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Ca,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:I.textMuted},children:""}),f==="oauth_token"?o.jsx(V1,{value:y,onChange:k}):o.jsx(W1,{value:y,onChange:k,options:v})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text},onClick:Ce,disabled:se,children:[se?o.jsx(Gc,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text,opacity:f==="oauth_token"?.4:1},onClick:ue,disabled:x||f==="oauth_token",children:[x?o.jsx(Gc,{size:14,className:"animate-spin"}):o.jsx(bu,{size:14}),""]})]})]}),o.jsxs(Ca,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:I.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:I.textMuted},children:""})]}),o.jsx(yd,{on:w,onToggle:()=>N(!w)})]}),w&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:I.textMuted},children:""}),o.jsx(Na,{value:g,onChange:j,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:I.text},children:"Top P (0-1)"}),o.jsx(yd,{on:T,onToggle:()=>D(!T)})]}),T&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:I.textMuted},children:""}),o.jsx(Na,{value:S,onChange:C,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:I.text},children:"Max Tokens"}),o.jsx(Na,{value:R,onChange:K,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[F?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:$r,disabled:Ne,children:[o.jsx(Io,{size:14}),Ne?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text},onClick:()=>{ne(!0),V(""),A(!0)},disabled:Ne,children:[o.jsx(uv,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{ne(!0),V(""),A(!0)},disabled:Ne,children:[o.jsx(Xl,{size:14}),""]}),F&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:I.textMuted},onClick:H,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:I.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:I.bg,boxShadow:"var(--card-shadow)",color:I.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(P=>{var te,q;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:I.bg,boxShadow:(F==null?void 0:F.id)===P.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{ke.current||nr(P)},onTouchStart:Me=>qt(Me,P),onTouchEnd:fn,onMouseDown:Me=>qt(Me,P),onMouseUp:fn,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(F==null?void 0:F.id)===P.id?I.accentDark:I.text},children:P.name}),o.jsx(gv,{size:12,style:{color:I.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:I.textMuted},children:P.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:I.textMuted},children:["T: ",(te=P.temperature)!=null?te:""," | Top-P: ",(q=P.top_p)!=null?q:""," | Max: ",P.max_tokens]})]},P.id)})})]})]})}),L&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>A(!1),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:I.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:P=>P.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:I.text},children:""}),o.jsx("input",{type:"text",value:G,onChange:P=>V(P.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:I.text},autoFocus:!0,onKeyDown:P=>P.key==="Enter"&&Ae()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text},onClick:()=>A(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:G.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Ae,disabled:!G.trim(),children:""})]})]})}),he&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>ze(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:I.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:P=>P.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:I.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:I.textMuted},children:["",he.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text},onClick:()=>ze(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d"},onClick:ql,children:""})]})]})}),Ue&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>E(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:I.bg},onClick:P=>P.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:I.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:B,onChange:P=>Z(P.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:I.bg,color:I.text},onKeyDown:P=>P.key==="Enter"&&Jt()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:I.bg,boxShadow:"var(--card-shadow-sm)",color:I.text},onClick:()=>E(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:Jt,children:""})]})]})}),de&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:de})})]})}const ce={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Eh={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},text:{bg:"rgba(100,170,120,0.12)",color:"#3a9b5c",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},K1=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],Q1=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}];function Y1({block_type:e}){const t=Eh[e]||{bg:"rgba(136,136,160,0.1)",color:ce.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function G1({item:e,expanded:t,onToggle:n,live:r}){return o.jsxs("div",{className:"mb-3 rounded-[18px] overflow-hidden",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ce.bg},children:e.has_tool_calls?o.jsx(bv,{size:15,style:{color:"#b8820a"}}):o.jsx(Jp,{size:15,style:{color:ce.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:ce.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx("span",{className:"text-[10px]",style:{color:ce.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:ce.text},children:e.preview||"()"})]}),t?o.jsx(iv,{size:16,style:{color:ce.textMuted,flexShrink:0}}):o.jsx(Wl,{size:16,style:{color:ce.textMuted,flexShrink:0}})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:e.rounds.map(l=>o.jsxs("div",{className:"mb-3",children:[e.rounds.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:ce.textMuted},children:[" ",l.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),l.blocks.map((s,a)=>{const i=Eh[s.block_type]||{bg:"rgba(136,136,160,0.08)",color:ce.textMuted,label:s.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:i.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(Y1,{block_type:s.block_type}),s.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:i.color},children:s.tool_name})]}),o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:ce.text,maxHeight:200,overflow:"hidden"},children:s.content.length>500?s.content.slice(0,500)+"...":s.content})]},a)})]},l.round_index))})]})}function J1(){const e=Bt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,u]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[c,p]=d.useState(!1),[f,h]=d.useState(new Set),y=d.useRef(null),[k,v]=d.useState("calm"),[b,x]=d.useState(!1),m=d.useRef(null),g=()=>{l(!0),$("/api/cot?limit=30").then(w=>n(w)).catch(()=>{}).finally(()=>l(!1))};d.useEffect(()=>{g()},[]),d.useEffect(()=>{$("/api/settings/mood").then(w=>{w.mood&&v(w.mood)}).catch(()=>{})},[]),d.useEffect(()=>{if(!b)return;const w=N=>{m.current&&!m.current.contains(N.target)&&x(!1)};return document.addEventListener("pointerdown",w),()=>document.removeEventListener("pointerdown",w)},[b]),d.useEffect(()=>{const w=localStorage.getItem("whisper_token");if(!w)return;const S=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(w)}`;let C,T,D=!1;const R=()=>{D||(C=new WebSocket(S),y.current=C,C.onopen=()=>p(!0),C.onmessage=K=>{try{const F=JSON.parse(K.data);if(F.type==="done"){h(L=>{const A=new Set(L);return A.delete(F.request_id),A});return}const{request_id:X,round_index:de,block_type:ye,content:se,tool_name:z}=F;n(L=>{const A=L.findIndex(ae=>ae.request_id===X);if(A>=0){const ae={...L[A]},ne=[...ae.rounds],Ne=ne.findIndex(he=>he.round_index===de);Ne>=0?ne[Ne]={...ne[Ne],blocks:[...ne[Ne].blocks,{block_type:ye,content:se,tool_name:z}]}:(ne.push({round_index:de,blocks:[{block_type:ye,content:se,tool_name:z}]}),ne.sort((he,ze)=>he.round_index-ze.round_index)),ae.rounds=ne,ye==="tool_use"&&(ae.has_tool_calls=!0),ye==="text"&&!ae.preview&&(ae.preview=se.slice(0,80));const re=[...L];return re[A]=ae,re}return[{request_id:X,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:ye==="text"?se.slice(0,80):"",has_tool_calls:ye==="tool_use",rounds:[{round_index:de,blocks:[{block_type:ye,content:se,tool_name:z}]}]},...L]}),h(L=>new Set(L).add(X)),a(X)}catch(F){}},C.onclose=()=>{p(!1),y.current=null,D||(T=setTimeout(R,3e3))},C.onerror=()=>C.close())};return R(),()=>{D=!0,clearTimeout(T),y.current&&(y.current.onclose=null,y.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,shortMode:i==="short",theaterMode:i==="theater"})),$("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const j=w=>{v(w),x(!1),$("/api/settings/mood",{method:"PUT",body:{mood:w}}).catch(()=>{})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ce.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:ce.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ce.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[c&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ce.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:g,disabled:r,children:o.jsx(bu,{size:16,style:{color:ce.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:m,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:ce.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>x(!b),children:o.jsx("img",{src:`/miniapp/assets/mood/${k}.png`,alt:k,className:"h-6 w-6",style:{imageRendering:"pixelated"}})}),b&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:Q1.map((w,N)=>{const S=Math.floor(N/3),C=N%3,T=k===w.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:T?"rgba(232,160,191,0.18)":"transparent",boxShadow:[C<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",S<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>j(w.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${w.key}.png`,alt:w.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:T?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:T?"#d48aab":ce.textMuted},children:w.label})]},w.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:ce.bg,width:240},children:K1.map(w=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===w.key?ce.bg:"transparent",boxShadow:i===w.key?"var(--card-shadow-sm)":"none",color:i===w.key?ce.accentDark:ce.textMuted},onClick:()=>u(w.key),children:w.label},w.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:ce.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(cv,{size:36,style:{color:ce.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:ce.textMuted},children:" COT "})]}):t.map(w=>o.jsx(G1,{item:w,expanded:s===w.request_id,onToggle:()=>a(s===w.request_id?null:w.request_id),live:f.has(w.request_id)},w.request_id))})]})}const Ge={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},ws=72;function q1({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,u)=>{const c=n.current,p=r.current;if(!c)return;const f=u?"all .25s ease":"none";if(c.style.transition=f,c.style.transform=`translateX(${i}px)`,p){const h=Math.min(1,Math.abs(i)/ws);p.style.transition=f,p.style.opacity=`${h}`}l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative overflow-hidden rounded-[14px]",children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-8px)] w-[56px] flex-col items-center justify-center gap-0.5 rounded-xl",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.2)"},children:[o.jsx(Kl,{size:14,color:"#ef4444"}),o.jsx("span",{className:"text-[9px] font-medium",style:{color:"#ef4444"},children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const u=i.touches[0],c=l.current;c.sx=u.clientX,c.sy=u.clientY,c.base=c.cur,c.drag=!0,c.locked=!1,c.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const u=l.current;if(!u.drag)return;const c=i.touches[0],p=c.clientX-u.sx,f=c.clientY-u.sy;if(!u.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;u.locked=!0,u.horiz=Math.abs(p)>Math.abs(f)}if(!u.horiz){u.drag=!1;return}i.preventDefault();const h=Math.max(-ws,Math.min(0,u.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/ws)}`),u.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-36?-ws:0,!0)},children:e})]})}function Z1(){const e=Bt(),[t,n]=d.useState([]),[r,l]=d.useState(null),[s,a]=d.useState(!0),[i,u]=d.useState(!1),c=async()=>{var v;a(!0);try{const x=(v=(await $("/api/sessions?limit=1")).sessions)==null?void 0:v[0];if(!x){a(!1);return}l(x.id);const m=await $(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),u(m.has_more||!1)}catch(b){console.error(b)}a(!1)};d.useEffect(()=>{c()},[]);const p=async v=>{if(r)try{await $(`/api/sessions/${r}/messages/${v}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==v))}catch(b){console.error("Delete failed",b)}},f=async()=>{if(!r||!i||s)return;const v=t[t.length-1];if(v){a(!0);try{const b=await $(`/api/sessions/${r}/messages?limit=50&before_id=${v.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),u(b.has_more||!1)}catch(b){console.error(b)}a(!1)}},h=v=>{if(!v)return"";const b=new Date(v),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=v=>v==="user"?"":v==="assistant"?"AI":"",k=v=>v==="user"?Ge.accentDark:v==="assistant"?"#3a9b5c":Ge.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Ge.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ge.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:Ge.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Ge.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ge.bg,boxShadow:s?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:c,disabled:s,children:o.jsx(bu,{size:16,style:{color:Ge.accentDark},className:s?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:Ge.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Ge.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:Ge.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(v=>o.jsx(q1,{onDelete:()=>p(v.id),children:o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:Ge.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:k(v.role)},children:y(v.role)}),o.jsx("span",{className:"text-[10px]",style:{color:Ge.textMuted},children:h(v.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:Ge.text,maxHeight:120,overflow:"hidden"},children:v.content.length>200?v.content.slice(0,200)+"...":v.content})]})},v.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:Ge.bg,boxShadow:"var(--card-shadow-sm)",color:Ge.accentDark},onClick:f,disabled:s,children:s?"...":""})]})})]})}const W={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},e0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],ks=72;function ml(e){if(!e)return"";const t=new Date(e),n=new Date,r=n-t,l=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),a=`${l}:${s}`;return r<864e5&&t.toDateString()===n.toDateString()?a:`${t.getMonth()+1}/${t.getDate()} ${a}`}function t0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-8 w-full max-w-[280px] rounded-[18px] p-5",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[13px]",style:{color:W.text},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:t,children:""})]})]})})}function Mh({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,u)=>{const c=n.current,p=r.current;if(!c)return;const f=u?"all .25s ease":"none";c.style.transition=f,c.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/ks)}`),l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative overflow-hidden rounded-[14px]",children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-8px)] w-[56px] flex-col items-center justify-center gap-0.5 rounded-xl",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.2)"},children:[o.jsx(Kl,{size:14,color:"#ef4444"}),o.jsx("span",{className:"text-[9px] font-medium",style:{color:"#ef4444"},children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const u=i.touches[0],c=l.current;c.sx=u.clientX,c.sy=u.clientY,c.base=c.cur,c.drag=!0,c.locked=!1,c.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const u=l.current;if(!u.drag)return;const c=i.touches[0],p=c.clientX-u.sx,f=c.clientY-u.sy;if(!u.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;u.locked=!0,u.horiz=Math.abs(p)>Math.abs(f)}if(!u.horiz){u.drag=!1;return}i.preventDefault();const h=Math.max(-ks,Math.min(0,u.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/ks)}`),u.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-36?-ks:0,!0)},children:e})]})}function wd({children:e,time:t,badge:n,onSwipeDelete:r}){const[l,s]=d.useState(!1),a=o.jsxs("div",{className:"mb-2 rounded-[14px] p-3 cursor-pointer",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>s(!l),children:[n,o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden transition-all",style:{color:W.text,maxHeight:l?"none":64},children:e}),t&&o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t}),!l&&o.jsx(Wl,{size:12,style:{color:W.textMuted}})]})]});return r?o.jsx(Mh,{onDelete:r,children:a}):a}function n0({sessions:e,currentId:t,onSelect:n,onClose:r}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.2)"},onClick:r,children:o.jsxs("div",{className:"w-full max-w-[400px] rounded-t-[20px] pb-6",style:{background:W.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.1)"},onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-5 pt-4 pb-2",children:[o.jsx("span",{className:"text-[14px] font-bold",style:{color:W.text},children:""}),o.jsx("button",{onClick:r,children:o.jsx(Lo,{size:18,style:{color:W.textMuted}})})]}),o.jsx("div",{className:"max-h-[50vh] overflow-y-auto px-5",children:e.map(l=>o.jsxs("button",{className:"mb-2 flex w-full items-center gap-3 rounded-[14px] p-3 text-left",style:{background:W.bg,boxShadow:l.id===t?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{n(l.id),r()},children:[o.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-[11px] font-bold",style:{background:l.id===t?"linear-gradient(135deg, #f0c4d8, var(--accent))":W.bg,boxShadow:l.id===t?"none":"var(--icon-inset)",color:l.id===t?"white":W.textMuted},children:l.id}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-[12px] font-medium truncate",style:{color:W.text},children:l.title||` #${l.id}`}),o.jsx("div",{className:"text-[10px]",style:{color:W.textMuted},children:ml(l.updated_at||l.created_at)})]})]},l.id))})]})})}function r0({content:e,deletedAt:t,onRestore:n,onPermanentDelete:r}){const[l,s]=d.useState(!1);return o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer",style:{color:W.text,maxHeight:l?"none":64},onClick:()=>s(!l),children:e}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t?` ${ml(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:n,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:r,children:""})]})]})]})}function l0(){const e=Bt(),[t,n]=d.useState("memories"),[r,l]=d.useState(!1),[s,a]=d.useState(null),[i,u]=d.useState([]),[c,p]=d.useState(!1),[f,h]=d.useState(null),[y,k]=d.useState(null),[v,b]=d.useState([]),[x,m]=d.useState([]),[g,j]=d.useState([]),[w,N]=d.useState([]),[S,C]=d.useState([]),[T,D]=d.useState(!0),[R,K]=d.useState(!1);d.useEffect(()=>{$("/api/sessions?limit=50").then(E=>{const B=E.sessions||[];u(B),B.length>0&&!s&&a(B[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{s&&$(`/api/sessions/${s}/info`).then(E=>{h(E.assistant_name||null)}).catch(()=>h(null))},[s]),d.useEffect(()=>{s&&F()},[s,r]);const F=async()=>{if(s){D(!0);try{if(r){const[E,B]=await Promise.all([$("/api/memories/trash?limit=100"),$(`/api/sessions/${s}/summaries/trash`)]);N(E.memories||[]),C(B.summaries||[])}else{if(t==="memories"||t==="summaries"){const[E,B]=await Promise.all([$("/api/memories?limit=100"),$(`/api/sessions/${s}/summaries`)]);b(E.memories||[]),m(B.summaries||[])}if(t==="messages"){const E=await $(`/api/sessions/${s}/messages?limit=50`);j((E.messages||[]).reverse()),K(E.has_more||!1)}}}catch(E){console.error(E)}D(!1)}};d.useEffect(()=>{!s||r||F()},[t]);const X=async()=>{if(!s||!R||T)return;const E=g[g.length-1];if(E){D(!0);try{const B=await $(`/api/sessions/${s}/messages?limit=50&before_id=${E.id}`),Z=(B.messages||[]).reverse();j(dt=>[...dt,...Z]),K(B.has_more||!1)}catch(B){console.error(B)}D(!1)}},de=(E,B)=>k({message:E,action:B}),ye=E=>{de("",async()=>{await $(`/api/memories/${E}`,{method:"DELETE"}),b(B=>B.filter(Z=>Z.id!==E))})},se=E=>{de("",async()=>{await $(`/api/sessions/${s}/summaries/${E}`,{method:"DELETE"}),m(B=>B.filter(Z=>Z.id!==E))})},z=E=>{de("",async()=>{await $(`/api/sessions/${s}/messages/${E}`,{method:"DELETE"}),j(B=>B.filter(Z=>Z.id!==E))})},L=async E=>{await $(`/api/memories/${E}/restore`,{method:"POST"}),N(B=>B.filter(Z=>Z.id!==E))},A=E=>{de("",async()=>{await $(`/api/memories/${E}/permanent`,{method:"DELETE"}),N(B=>B.filter(Z=>Z.id!==E))})},G=async E=>{await $(`/api/sessions/${s}/summaries/${E}/restore`,{method:"POST"}),C(B=>B.filter(Z=>Z.id!==E))},V=E=>{de("",async()=>{await $(`/api/sessions/${s}/summaries/${E}/permanent`,{method:"DELETE"}),C(B=>B.filter(Z=>Z.id!==E))})},ae=E=>E==="user"?"":E==="assistant"?f||"":"",ne=E=>E==="user"?W.accentDark:E==="assistant"?"#3a9b5c":W.textMuted,Ue=r?(()=>{if(T)return o.jsx(bs,{});const E=t==="memories"?w:S;return E.length===0?o.jsx(Ss,{text:""}):E.map(B=>o.jsx(r0,{content:B.content||B.summary_content||"()",deletedAt:B.deleted_at,onRestore:()=>t==="memories"?L(B.id):G(B.id),onPermanentDelete:()=>t==="memories"?A(B.id):V(B.id)},B.id))})():t==="memories"?T&&v.length===0?o.jsx(bs,{}):v.length===0?o.jsx(Ss,{text:""}):v.map(E=>o.jsx(wd,{time:ml(E.created_at),onSwipeDelete:()=>ye(E.id),badge:o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:W.accentDark},children:E.klass}),children:E.content},E.id)):t==="summaries"?T&&x.length===0?o.jsx(bs,{}):x.length===0?o.jsx(Ss,{text:""}):x.map(E=>o.jsx(wd,{time:ml(E.created_at),onSwipeDelete:()=>se(E.id),badge:E.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:W.accentDark},children:E.mood_tag}):null,children:E.summary_content||"()"},E.id)):T&&g.length===0?o.jsx(bs,{}):g.length===0?o.jsx(Ss,{text:""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:W.textMuted},children:""}),g.map(E=>o.jsx(Mh,{onDelete:()=>z(E.id),children:o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:ne(E.role)},children:ae(E.role)}),o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:ml(E.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:W.text,maxHeight:120,overflow:"hidden"},children:E.content.length>200?E.content.slice(0,200)+"...":E.content})]})},E.id)),R&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:X,disabled:T,children:T?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:W.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>l(!r),children:o.jsx(Kl,{size:16,style:{color:r?"#ef4444":W.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-[11px] font-bold",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:()=>p(!0),children:s!=null?s:"?"}),o.jsx("div",{className:"flex flex-1 rounded-[14px] p-1",style:{background:W.bg,boxShadow:"var(--inset-shadow)"},children:e0.map(E=>{const B=r&&E.key==="messages",Z=t===E.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:B?{color:W.textMuted,opacity:.35,cursor:"default"}:Z?{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark}:{color:W.textMuted},disabled:B,onClick:()=>!B&&n(E.key),children:E.label},E.key)})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:Ue}),c&&o.jsx(n0,{sessions:i,currentId:s,onSelect:a,onClose:()=>p(!1)}),y&&o.jsx(t0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(E){console.error(E)}k(null)},onCancel:()=>k(null)})]})}function bs(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:W.accent,borderTopColor:"transparent"}})})}function Ss({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:W.textMuted},children:e})}const oe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function s0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:oe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:oe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:oe.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:oe.bg,color:oe.text},placeholder:"..."})]})}function o0(){const e=Bt(),[t,n]=d.useState(""),[r,l]=d.useState(""),[s,a]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(!1),[f,h]=d.useState(!0),[y,k]=d.useState(null),[v,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=S=>{k(S),setTimeout(()=>k(null),2e3)};d.useEffect(()=>{$("/api/user/profile").then(S=>{n(S.nickname||""),l(S.background_url||""),a(S.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Oo("user-avatar").then(S=>{S&&u(S)}).catch(function(){})},[]);const j=S=>{var D;const C=(D=S.target.files)==null?void 0:D[0];if(!C)return;const T=new FileReader;T.onload=async R=>{const K=R.target.result;try{await bi("user-avatar",K),u(K)}catch(F){g("")}},T.readAsDataURL(C),S.target.value=""},w=S=>{var D;const C=(D=S.target.files)==null?void 0:D[0];if(!C)return;const T=new FileReader;T.onload=R=>a(R.target.result||""),T.readAsText(C),S.target.value=""},N=async()=>{p(!0);try{const S={nickname:t.trim()||null,background_url:r||null,basic_info:s||null,avatar_url:i?"user-avatar":null};await $("/api/user/profile",{method:"PUT",body:S});try{const C=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...C,...S}))}catch(C){}g("")}catch(S){g("")}finally{p(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:oe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:oe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:oe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:c?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:N,disabled:c,children:o.jsx(Io,{size:18,style:{color:oe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:f?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:oe.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:oe.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:oe.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:oe.accentDark},children:o.jsx(Qp,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:j}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:oe.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,color:oe.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:oe.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,color:oe.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:oe.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:oe.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:oe.bg},onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},title:"",children:o.jsx(ku,{size:13,style:{color:oe.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:w}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:oe.bg},onClick:()=>b(!0),title:"",children:o.jsx(Po,{size:13,style:{color:oe.accentDark}})})]})]}),o.jsx("textarea",{value:s,onChange:S=>a(S.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,color:oe.text}})]})]})}),v&&o.jsx(s0,{value:s,onChange:a,onClose:()=>b(!1)}),y&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:y})})]})}function a0(){return d.useEffect(()=>{var t;const e=()=>{var l;const n=(l=window.Telegram)==null?void 0:l.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),o.jsx(tv,{children:o.jsxs(qg,{children:[o.jsx(lt,{path:"/",element:o.jsx(Nv,{})}),o.jsx(lt,{path:"/profile",element:o.jsx(o0,{})}),o.jsx(lt,{path:"/world-books",element:o.jsx(_v,{})}),o.jsx(lt,{path:"/world-books/new",element:o.jsx(ed,{})}),o.jsx(lt,{path:"/world-books/:id",element:o.jsx(ed,{})}),o.jsx(lt,{path:"/assistants",element:o.jsx($v,{})}),o.jsx(lt,{path:"/assistants/new",element:o.jsx(xd,{})}),o.jsx(lt,{path:"/assistants/:id",element:o.jsx(xd,{})}),o.jsx(lt,{path:"/settings",element:o.jsx($1,{})}),o.jsx(lt,{path:"/settings/api",element:o.jsx(X1,{})}),o.jsx(lt,{path:"/cot",element:o.jsx(J1,{})}),o.jsx(lt,{path:"/memories",element:o.jsx(l0,{})}),o.jsx(lt,{path:"/messages",element:o.jsx(Z1,{})})]})})}Ea.createRoot(document.getElementById("root")).render(o.jsx(ge.StrictMode,{children:o.jsx(a0,{})}));
