function Bh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Td={exports:{}},wo={},Dd={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Zh(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var _d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,zd={};function Fr(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||_d}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pd(){}Pd.prototype=Fr.prototype;function Di(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||_d}var _i=Di.prototype=new Pd;_i.constructor=Di;Rd(_i,Fr.prototype);_i.isPureReactComponent=!0;var Oc=Array.isArray,Id=Object.prototype.hasOwnProperty,Ri={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Id.call(t,r)&&!Ld.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:Hs,type:e,key:l,ref:a,props:s,_owner:Ri.current}}function em(e,t){return{$$typeof:Hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hs}function tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ac=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tm(""+e.key):t.toString(36)}function Tl(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hs:case Hh:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Go(a,0):r,Oc(s)?(n="",e!=null&&(n=e.replace(Ac,"$&/")+"/"),Tl(s,t,n,"",function(u){return u})):s!=null&&(zi(s)&&(s=em(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Oc(e))for(var i=0;i<e.length;i++){l=e[i];var c=r+Go(l,i);a+=Tl(l,t,n,c,s)}else if(c=Zh(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=r+Go(l,i++),a+=Tl(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function nl(e,t,n){if(e==null)return e;var r=[],s=0;return Tl(e,r,"","",function(l){return t.call(n,l,s++)}),r}function nm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Dl={transition:null},rm={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Ri};function Ad(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!zi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Fr;re.Fragment=Wh;re.Profiler=Xh;re.PureComponent=Di;re.StrictMode=Vh;re.Suspense=Gh;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm;re.act=Ad;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Ri.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Id.call(t,c)&&!Ld.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Hs,type:e.type,key:s,ref:l,props:r,_owner:a}};re.createContext=function(e){return e={$$typeof:Yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kh,_context:e},e.Consumer=e};re.createElement=Od;re.createFactory=function(e){var t=Od.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Qh,render:e}};re.isValidElement=zi;re.lazy=function(e){return{$$typeof:qh,_payload:{_status:-1,_result:e},_init:nm}};re.memo=function(e,t){return{$$typeof:Jh,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};re.unstable_act=Ad;re.useCallback=function(e,t){return ct.current.useCallback(e,t)};re.useContext=function(e){return ct.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};re.useEffect=function(e,t){return ct.current.useEffect(e,t)};re.useId=function(){return ct.current.useId()};re.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return ct.current.useMemo(e,t)};re.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};re.useRef=function(e){return ct.current.useRef(e)};re.useState=function(e){return ct.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return ct.current.useTransition()};re.version="18.3.1";Dd.exports=re;var d=Dd.exports;const be=Uh(d),sm=Bh({__proto__:null,default:be},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=d,om=Symbol.for("react.element"),am=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,cm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,um={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)im.call(t,r)&&!um.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:om,type:e,key:l,ref:a,props:s,_owner:cm.current}}wo.Fragment=am;wo.jsx=$d;wo.jsxs=$d;Td.exports=wo;var o=Td.exports,_a={},Fd={exports:{}},Nt={},Bd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var H=I.length;I.push(U);e:for(;0<H;){var q=H-1>>>1,Q=I[q];if(0<s(Q,U))I[q]=U,I[H]=Q,H=q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],H=I.pop();if(H!==U){I[0]=H;e:for(var q=0,Q=I.length,fe=Q>>>1;q<fe;){var he=2*(q+1)-1,Me=I[he],te=he+1,ee=I[te];if(0>s(Me,H))te<Q&&0>s(ee,Me)?(I[q]=ee,I[te]=H,q=te):(I[q]=Me,I[he]=H,q=he);else if(te<Q&&0>s(ee,H))I[q]=ee,I[te]=H,q=te;else break e}}return U}function s(I,U){var H=I.sortIndex-U.sortIndex;return H!==0?H:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],f=1,p=null,h=3,v=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=I)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function S(I){if(y=!1,g(I),!w)if(n(c)!==null)w=!0,ie(j);else{var U=n(u);U!==null&&se(S,U.startTime-I)}}function j(I,U){w=!1,y&&(y=!1,x(C),C=-1),v=!0;var H=h;try{for(g(U),p=n(c);p!==null&&(!(p.expirationTime>U)||I&&!P());){var q=p.callback;if(typeof q=="function"){p.callback=null,h=p.priorityLevel;var Q=q(p.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&r(c),g(U)}else r(c);p=n(c)}if(p!==null)var fe=!0;else{var he=n(u);he!==null&&se(S,he.startTime-U),fe=!1}return fe}finally{p=null,h=H,v=!1}}var N=!1,k=null,C=-1,R=5,z=-1;function P(){return!(e.unstable_now()-z<R)}function _(){if(k!==null){var I=e.unstable_now();z=I;var U=!0;try{U=k(!0,I)}finally{U?E():(N=!1,k=null)}}else N=!1}var E;if(typeof m=="function")E=function(){m(_)};else if(typeof MessageChannel!="undefined"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=_,E=function(){K.postMessage(null)}}else E=function(){b(_,0)};function ie(I){k=I,N||(N=!0,E())}function se(I,U){C=b(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,ie(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return I()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=h;h=I;try{return U()}finally{h=H}},e.unstable_scheduleCallback=function(I,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,I={id:f++,callback:U,priorityLevel:I,startTime:H,expirationTime:Q,sortIndex:-1},H>q?(I.sortIndex=H,t(u,I),n(c)===null&&I===n(u)&&(y?(x(C),C=-1):y=!0,se(S,H-q))):(I.sortIndex=Q,t(c,I),w||v||(w=!0,ie(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var U=h;return function(){var H=h;h=U;try{return I.apply(this,arguments)}finally{h=H}}}})(Ud);Bd.exports=Ud;var dm=Bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=d,St=dm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hd=new Set,bs={};function nr(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(bs[e]=t,e=0;e<t.length;e++)Hd.add(t[e])}var un=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ra=Object.prototype.hasOwnProperty,pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Fc={};function hm(e){return Ra.call(Fc,e)?!0:Ra.call($c,e)?!1:pm.test(e)?Fc[e]=!0:($c[e]=!0,!1)}function mm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xm(e,t,n,r){if(t===null||typeof t=="undefined"||mm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pi=/[\-:]([a-z])/g;function Ii(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pi,Ii);qe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pi,Ii);qe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pi,Ii);qe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Li(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xm(t,n,s,r)&&(n=null),r||s===null?hm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Oi=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Vd=Symbol.for("react.context"),Ai=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),$i=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Jo;function ls(e){if(Jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jo=t&&t[1]||""}return`
`+Jo+e}var qo=!1;function Zo(e,t){if(!e||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,i=l.length-1;1<=a&&0<=i&&s[a]!==l[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==l[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==l[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ls(e):""}function gm(e){switch(e.tag){case 5:return ls(e.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return e=Zo(e.type,!1),e;case 11:return e=Zo(e.type.render,!1),e;case 1:return e=Zo(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case za:return"Profiler";case Oi:return"StrictMode";case Pa:return"Suspense";case Ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vd:return(e.displayName||"Context")+".Consumer";case Wd:return(e._context.displayName||"Context")+".Provider";case Ai:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $i:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return La(e(t))}catch(n){}}return null}function ym(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===Oi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vm(e){var t=Kd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sl(e){e._valueTracker||(e._valueTracker=vm(e))}function Yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Oa(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qd(e,t){t=t.checked,t!=null&&Li(e,"checked",t,!1)}function Aa(e,t){Qd(e,t);var n=Ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$a(e,t.type,n):t.hasOwnProperty("defaultValue")&&$a(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $a(e,t,n){(t!=="number"||Ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var os=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ln(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(os(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ln(n)}}function Gd(e,t){var n=Ln(t.value),r=Ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ll,qd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wm=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){wm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function Zd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function ef(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var bm=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Nr=null,Cr=null;function Xc(e){if(e=Xs(e)){if(typeof Va!="function")throw Error(D(280));var t=e.stateNode;t&&(t=No(t),Va(e.stateNode,e.type,t))}}function tf(e){Nr?Cr?Cr.push(e):Cr=[e]:Nr=e}function nf(){if(Nr){var e=Nr,t=Cr;if(Cr=Nr=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function rf(e,t){return e(t)}function sf(){}var ea=!1;function lf(e,t,n){if(ea)return e(t,n);ea=!0;try{return rf(e,t,n)}finally{ea=!1,(Nr!==null||Cr!==null)&&(sf(),nf())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Xa=!1;if(un)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch(e){Xa=!1}function km(e,t,n,r,s,l,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var us=!1,Hl=null,Wl=!1,Ka=null,jm={onError:function(e){us=!0,Hl=e}};function Sm(e,t,n,r,s,l,a,i,c){us=!1,Hl=null,km.apply(jm,arguments)}function Nm(e,t,n,r,s,l,a,i,c){if(Sm.apply(this,arguments),us){if(us){var u=Hl;us=!1,Hl=null}else throw Error(D(198));Wl||(Wl=!0,Ka=u)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function of(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kc(e){if(rr(e)!==e)throw Error(D(188))}function Cm(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Kc(s),e;if(l===r)return Kc(s),t;l=l.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a){for(i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function af(e){return e=Cm(e),e!==null?cf(e):null}function cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cf(e);if(t!==null)return t;e=e.sibling}return null}var uf=St.unstable_scheduleCallback,Yc=St.unstable_cancelCallback,Em=St.unstable_shouldYield,Mm=St.unstable_requestPaint,Ie=St.unstable_now,Tm=St.unstable_getCurrentPriorityLevel,Bi=St.unstable_ImmediatePriority,df=St.unstable_UserBlockingPriority,Vl=St.unstable_NormalPriority,Dm=St.unstable_LowPriority,ff=St.unstable_IdlePriority,bo=null,en=null;function _m(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Wt=Math.clz32?Math.clz32:Pm,Rm=Math.log,zm=Math.LN2;function Pm(e){return e>>>=0,e===0?32:31-(Rm(e)/zm|0)|0}var ol=64,al=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=as(i):(l&=a,l!==0&&(r=as(l)))}else a=n&~s,a!==0?r=as(a):l!==0&&(r=as(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Wt(l),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=Im(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pf(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function ta(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Om(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xe=0;function hf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mf,Hi,xf,gf,yf,Qa=!1,il=[],Mn=null,Tn=null,Dn=null,Ss=new Map,Ns=new Map,jn=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function Zr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Xs(t),t!==null&&Hi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $m(e,t,n,r,s){switch(t){case"focusin":return Mn=Zr(Mn,e,t,n,r,s),!0;case"dragenter":return Tn=Zr(Tn,e,t,n,r,s),!0;case"mouseover":return Dn=Zr(Dn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Ss.set(l,Zr(Ss.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Ns.set(l,Zr(Ns.get(l)||null,e,t,n,r,s)),!0}return!1}function vf(e){var t=Vn(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=of(n),t!==null){e.blockedOn=t,yf(e.priority,function(){xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wa=r,n.target.dispatchEvent(r),Wa=null}else return t=Xs(n),t!==null&&Hi(t),e.blockedOn=n,!1;t.shift()}return!0}function Gc(e,t,n){_l(e)&&n.delete(t)}function Fm(){Qa=!1,Mn!==null&&_l(Mn)&&(Mn=null),Tn!==null&&_l(Tn)&&(Tn=null),Dn!==null&&_l(Dn)&&(Dn=null),Ss.forEach(Gc),Ns.forEach(Gc)}function es(e,t){e.blockedOn===t&&(e.blockedOn=null,Qa||(Qa=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Fm)))}function Cs(e){function t(s){return es(s,e)}if(0<il.length){es(il[0],e);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&es(Mn,e),Tn!==null&&es(Tn,e),Dn!==null&&es(Dn,e),Ss.forEach(t),Ns.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)vf(n),n.blockedOn===null&&jn.shift()}var Er=hn.ReactCurrentBatchConfig,Kl=!0;function Bm(e,t,n,r){var s=xe,l=Er.transition;Er.transition=null;try{xe=1,Wi(e,t,n,r)}finally{xe=s,Er.transition=l}}function Um(e,t,n,r){var s=xe,l=Er.transition;Er.transition=null;try{xe=4,Wi(e,t,n,r)}finally{xe=s,Er.transition=l}}function Wi(e,t,n,r){if(Kl){var s=Ga(e,t,n,r);if(s===null)da(e,t,r,Yl,n),Qc(e,r);else if($m(s,e,t,n,r))r.stopPropagation();else if(Qc(e,r),t&4&&-1<Am.indexOf(e)){for(;s!==null;){var l=Xs(s);if(l!==null&&mf(l),l=Ga(e,t,n,r),l===null&&da(e,t,r,Yl,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else da(e,t,r,null,n)}}var Yl=null;function Ga(e,t,n,r){if(Yl=null,e=Fi(r),e=Vn(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=of(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yl=e,null}function wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tm()){case Bi:return 1;case df:return 4;case Vl:case Dm:return 16;case ff:return 536870912;default:return 16}default:return 16}}var Nn=null,Vi=null,Rl=null;function bf(){if(Rl)return Rl;var e,t=Vi,n=t.length,r,s="value"in Nn?Nn.value:Nn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return Rl=s.slice(e,1<r?1-r:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Jc(){return!1}function Ct(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cl:Jc,this.isPropagationStopped=Jc,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Ct(Br),Vs=Ee({},Br,{view:0,detail:0}),Hm=Ct(Vs),na,ra,ts,ko=Ee({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(na=e.screenX-ts.screenX,ra=e.screenY-ts.screenY):ra=na=0,ts=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),qc=Ct(ko),Wm=Ee({},ko,{dataTransfer:0}),Vm=Ct(Wm),Xm=Ee({},Vs,{relatedTarget:0}),sa=Ct(Xm),Km=Ee({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=Ct(Km),Qm=Ee({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=Ct(Qm),Jm=Ee({},Br,{data:0}),Zc=Ct(Jm),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ex[e])?!!t[e]:!1}function Ki(){return tx}var nx=Ee({},Vs,{key:function(e){if(e.key){var t=qm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rx=Ct(nx),sx=Ee({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=Ct(sx),lx=Ee({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),ox=Ct(lx),ax=Ee({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=Ct(ax),cx=Ee({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ux=Ct(cx),dx=[9,13,27,32],Yi=un&&"CompositionEvent"in window,ds=null;un&&"documentMode"in document&&(ds=document.documentMode);var fx=un&&"TextEvent"in window&&!ds,kf=un&&(!Yi||ds&&8<ds&&11>=ds),tu=" ",nu=!1;function jf(e,t){switch(e){case"keyup":return dx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function px(e,t){switch(e){case"compositionend":return Sf(t);case"keypress":return t.which!==32?null:(nu=!0,tu);case"textInput":return e=t.data,e===tu&&nu?null:e;default:return null}}function hx(e,t){if(pr)return e==="compositionend"||!Yi&&jf(e,t)?(e=bf(),Rl=Vi=Nn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mx[e.type]:t==="textarea"}function Nf(e,t,n,r){tf(r),t=Ql(t,"onChange"),0<t.length&&(n=new Xi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Es=null;function xx(e){Lf(e,0)}function jo(e){var t=xr(e);if(Yd(t))return e}function gx(e,t){if(e==="change")return t}var Cf=!1;if(un){var la;if(un){var oa="oninput"in document;if(!oa){var su=document.createElement("div");su.setAttribute("oninput","return;"),oa=typeof su.oninput=="function"}la=oa}else la=!1;Cf=la&&(!document.documentMode||9<document.documentMode)}function lu(){fs&&(fs.detachEvent("onpropertychange",Ef),Es=fs=null)}function Ef(e){if(e.propertyName==="value"&&jo(Es)){var t=[];Nf(t,Es,e,Fi(e)),lf(xx,t)}}function yx(e,t,n){e==="focusin"?(lu(),fs=t,Es=n,fs.attachEvent("onpropertychange",Ef)):e==="focusout"&&lu()}function vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Es)}function wx(e,t){if(e==="click")return jo(t)}function bx(e,t){if(e==="input"||e==="change")return jo(t)}function kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:kx;function Ms(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ra.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var n=ou(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ou(n)}}function Mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tf(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function Qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jx(e){var t=Tf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mf(n.ownerDocument.documentElement,n)){if(r!==null&&Qi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=au(n,l);var a=au(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sx=un&&"documentMode"in document&&11>=document.documentMode,hr=null,Ja=null,ps=null,qa=!1;function iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||hr==null||hr!==Ul(r)||(r=hr,"selectionStart"in r&&Qi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Ms(ps,r)||(ps=r,r=Ql(Ja,"onSelect"),0<r.length&&(t=new Xi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},aa={},Df={};un&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function So(e){if(aa[e])return aa[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Df)return aa[e]=t[n];return e}var _f=So("animationend"),Rf=So("animationiteration"),zf=So("animationstart"),Pf=So("transitionend"),If=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){If.set(e,t),nr(t,[e])}for(var ia=0;ia<cu.length;ia++){var ca=cu[ia],Nx=ca.toLowerCase(),Cx=ca[0].toUpperCase()+ca.slice(1);$n(Nx,"on"+Cx)}$n(_f,"onAnimationEnd");$n(Rf,"onAnimationIteration");$n(zf,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Pf,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nm(r,t,void 0,e),e.currentTarget=null}function Lf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;uu(s,i,u),l=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;uu(s,i,u),l=c}}}if(Wl)throw e=Ka,Wl=!1,Ka=null,e}function we(e,t){var n=t[ri];n===void 0&&(n=t[ri]=new Set);var r=e+"__bubble";n.has(r)||(Of(t,e,2,!1),n.add(r))}function ua(e,t,n){var r=0;t&&(r|=4),Of(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ts(e){if(!e[dl]){e[dl]=!0,Hd.forEach(function(n){n!=="selectionchange"&&(Ex.has(n)||ua(n,!1,e),ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,ua("selectionchange",!1,t))}}function Of(e,t,n,r){switch(wf(t)){case 1:var s=Bm;break;case 4:s=Um;break;default:s=Wi}n=s.bind(null,t,n,e),s=void 0,!Xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function da(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Vn(i),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}i=i.parentNode}}r=r.return}lf(function(){var u=l,f=Fi(n),p=[];e:{var h=If.get(e);if(h!==void 0){var v=Xi,w=e;switch(e){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":v=rx;break;case"focusin":w="focus",v=sa;break;case"focusout":w="blur",v=sa;break;case"beforeblur":case"afterblur":v=sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ox;break;case _f:case Rf:case zf:v=Ym;break;case Pf:v=ix;break;case"scroll":v=Hm;break;case"wheel":v=ux;break;case"copy":case"cut":case"paste":v=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eu}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,g;m!==null;){g=m;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,x!==null&&(S=js(m,x),S!=null&&y.push(Ds(m,S,g)))),b)break;m=m.return}0<y.length&&(h=new v(h,w,null,n,f),p.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Wa&&(w=n.relatedTarget||n.fromElement)&&(Vn(w)||w[dn]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Vn(w):null,w!==null&&(b=rr(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=qc,S="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=eu,S="onPointerLeave",x="onPointerEnter",m="pointer"),b=v==null?h:xr(v),g=w==null?h:xr(w),h=new y(S,m+"leave",v,n,f),h.target=b,h.relatedTarget=g,S=null,Vn(f)===u&&(y=new y(x,m+"enter",w,n,f),y.target=g,y.relatedTarget=b,S=y),b=S,v&&w)t:{for(y=v,x=w,m=0,g=y;g;g=ir(g))m++;for(g=0,S=x;S;S=ir(S))g++;for(;0<m-g;)y=ir(y),m--;for(;0<g-m;)x=ir(x),g--;for(;m--;){if(y===x||x!==null&&y===x.alternate)break t;y=ir(y),x=ir(x)}y=null}else y=null;v!==null&&du(p,h,v,y,!1),w!==null&&b!==null&&du(p,b,w,y,!0)}}e:{if(h=u?xr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var j=gx;else if(ru(h))if(Cf)j=bx;else{j=vx;var N=yx}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=wx);if(j&&(j=j(e,u))){Nf(p,j,n,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$a(h,"number",h.value)}switch(N=u?xr(u):window,e){case"focusin":(ru(N)||N.contentEditable==="true")&&(hr=N,Ja=u,ps=null);break;case"focusout":ps=Ja=hr=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,iu(p,n,f);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":iu(p,n,f)}var k;if(Yi)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pr?jf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(kf&&n.locale!=="ko"&&(pr||C!=="onCompositionStart"?C==="onCompositionEnd"&&pr&&(k=bf()):(Nn=f,Vi="value"in Nn?Nn.value:Nn.textContent,pr=!0)),N=Ql(u,C),0<N.length&&(C=new Zc(C,e,null,n,f),p.push({event:C,listeners:N}),k?C.data=k:(k=Sf(n),k!==null&&(C.data=k)))),(k=fx?px(e,n):hx(e,n))&&(u=Ql(u,"onBeforeInput"),0<u.length&&(f=new Zc("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=k))}Lf(p,t)})}function Ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=js(e,n),l!=null&&r.unshift(Ds(e,l,s)),l=js(e,t),l!=null&&r.push(Ds(e,l,s))),e=e.return}return r}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function du(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=js(n,l),c!=null&&a.unshift(Ds(n,c,i))):s||(c=js(n,l),c!=null&&a.push(Ds(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Mx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(Mx,`
`).replace(Tx,"")}function fl(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(D(425))}function Gl(){}var Za=null,ei=null;function ti(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ni=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,_x=typeof queueMicrotask=="function"?queueMicrotask:typeof pu!="undefined"?function(e){return pu.resolve(null).then(e).catch(Rx)}:ni;function Rx(e){setTimeout(function(){throw e})}function fa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cs(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ur,_s="__reactProps$"+Ur,dn="__reactContainer$"+Ur,ri="__reactEvents$"+Ur,zx="__reactListeners$"+Ur,Px="__reactHandles$"+Ur;function Vn(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hu(e);e!==null;){if(n=e[Zt])return n;e=hu(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[Zt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function No(e){return e[_s]||null}var si=[],gr=-1;function Fn(e){return{current:e}}function ke(e){0>gr||(e.current=si[gr],si[gr]=null,gr--)}function ve(e,t){gr++,si[gr]=e.current,e.current=t}var On={},lt=Fn(On),mt=Fn(!1),Jn=On;function Rr(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function Jl(){ke(mt),ke(lt)}function mu(e,t,n){if(lt.current!==On)throw Error(D(168));ve(lt,t),ve(mt,n)}function Af(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,ym(e)||"Unknown",s));return Ee({},n,r)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,Jn=lt.current,ve(lt,e),ve(mt,mt.current),!0}function xu(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Af(e,t,Jn),r.__reactInternalMemoizedMergedChildContext=e,ke(mt),ke(lt),ve(lt,e)):ke(mt),ve(mt,n)}var ln=null,Co=!1,pa=!1;function $f(e){ln===null?ln=[e]:ln.push(e)}function Ix(e){Co=!0,$f(e)}function Bn(){if(!pa&&ln!==null){pa=!0;var e=0,t=xe;try{var n=ln;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Co=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),uf(Bi,Bn),s}finally{xe=t,pa=!1}}return null}var yr=[],vr=0,Zl=null,eo=0,zt=[],Pt=0,qn=null,on=1,an="";function Hn(e,t){yr[vr++]=eo,yr[vr++]=Zl,Zl=e,eo=t}function Ff(e,t,n){zt[Pt++]=on,zt[Pt++]=an,zt[Pt++]=qn,qn=e;var r=on;e=an;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var l=32-Wt(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,on=1<<32-Wt(t)+s|n<<s|r,an=l+e}else on=1<<l|n<<s|r,an=e}function Gi(e){e.return!==null&&(Hn(e,1),Ff(e,1,0))}function Ji(e){for(;e===Zl;)Zl=yr[--vr],yr[vr]=null,eo=yr[--vr],yr[vr]=null;for(;e===qn;)qn=zt[--Pt],zt[Pt]=null,an=zt[--Pt],zt[Pt]=null,on=zt[--Pt],zt[Pt]=null}var jt=null,kt=null,Se=!1,Ht=null;function Bf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,kt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qn!==null?{id:on,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,kt=null,!0):!1;default:return!1}}function li(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oi(e){if(Se){var t=kt;if(t){var n=t;if(!gu(e,t)){if(li(e))throw Error(D(418));t=_n(n.nextSibling);var r=jt;t&&gu(e,t)?Bf(r,n):(e.flags=e.flags&-4097|2,Se=!1,jt=e)}}else{if(li(e))throw Error(D(418));e.flags=e.flags&-4097|2,Se=!1,jt=e}}}function yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function pl(e){if(e!==jt)return!1;if(!Se)return yu(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ti(e.type,e.memoizedProps)),t&&(t=kt)){if(li(e))throw Uf(),Error(D(418));for(;t;)Bf(e,t),t=_n(t.nextSibling)}if(yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=jt?_n(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=kt;e;)e=_n(e.nextSibling)}function zr(){kt=jt=null,Se=!1}function qi(e){Ht===null?Ht=[e]:Ht.push(e)}var Lx=hn.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var i=s.refs;a===null?delete i[l]:i[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vu(e){var t=e._init;return t(e._payload)}function Hf(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=In(x,m),x.index=0,x.sibling=null,x}function l(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,S){return m===null||m.tag!==6?(m=wa(g,x.mode,S),m.return=x,m):(m=s(m,g),m.return=x,m)}function c(x,m,g,S){var j=g.type;return j===fr?f(x,m,g.props.children,S,g.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wn&&vu(j)===m.type)?(S=s(m,g.props),S.ref=ns(x,m,g),S.return=x,S):(S=Fl(g.type,g.key,g.props,null,x.mode,S),S.ref=ns(x,m,g),S.return=x,S)}function u(x,m,g,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ba(g,x.mode,S),m.return=x,m):(m=s(m,g.children||[]),m.return=x,m)}function f(x,m,g,S,j){return m===null||m.tag!==7?(m=Qn(g,x.mode,S,j),m.return=x,m):(m=s(m,g),m.return=x,m)}function p(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wa(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rl:return g=Fl(m.type,m.key,m.props,null,x.mode,g),g.ref=ns(x,null,m),g.return=x,g;case dr:return m=ba(m,x.mode,g),m.return=x,m;case wn:var S=m._init;return p(x,S(m._payload),g)}if(os(m)||Jr(m))return m=Qn(m,x.mode,g,null),m.return=x,m;hl(x,m)}return null}function h(x,m,g,S){var j=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:i(x,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:return g.key===j?c(x,m,g,S):null;case dr:return g.key===j?u(x,m,g,S):null;case wn:return j=g._init,h(x,m,j(g._payload),S)}if(os(g)||Jr(g))return j!==null?null:f(x,m,g,S,null);hl(x,g)}return null}function v(x,m,g,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(g)||null,i(m,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rl:return x=x.get(S.key===null?g:S.key)||null,c(m,x,S,j);case dr:return x=x.get(S.key===null?g:S.key)||null,u(m,x,S,j);case wn:var N=S._init;return v(x,m,g,N(S._payload),j)}if(os(S)||Jr(S))return x=x.get(g)||null,f(m,x,S,j,null);hl(m,S)}return null}function w(x,m,g,S){for(var j=null,N=null,k=m,C=m=0,R=null;k!==null&&C<g.length;C++){k.index>C?(R=k,k=null):R=k.sibling;var z=h(x,k,g[C],S);if(z===null){k===null&&(k=R);break}e&&k&&z.alternate===null&&t(x,k),m=l(z,m,C),N===null?j=z:N.sibling=z,N=z,k=R}if(C===g.length)return n(x,k),Se&&Hn(x,C),j;if(k===null){for(;C<g.length;C++)k=p(x,g[C],S),k!==null&&(m=l(k,m,C),N===null?j=k:N.sibling=k,N=k);return Se&&Hn(x,C),j}for(k=r(x,k);C<g.length;C++)R=v(k,x,C,g[C],S),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?C:R.key),m=l(R,m,C),N===null?j=R:N.sibling=R,N=R);return e&&k.forEach(function(P){return t(x,P)}),Se&&Hn(x,C),j}function y(x,m,g,S){var j=Jr(g);if(typeof j!="function")throw Error(D(150));if(g=j.call(g),g==null)throw Error(D(151));for(var N=j=null,k=m,C=m=0,R=null,z=g.next();k!==null&&!z.done;C++,z=g.next()){k.index>C?(R=k,k=null):R=k.sibling;var P=h(x,k,z.value,S);if(P===null){k===null&&(k=R);break}e&&k&&P.alternate===null&&t(x,k),m=l(P,m,C),N===null?j=P:N.sibling=P,N=P,k=R}if(z.done)return n(x,k),Se&&Hn(x,C),j;if(k===null){for(;!z.done;C++,z=g.next())z=p(x,z.value,S),z!==null&&(m=l(z,m,C),N===null?j=z:N.sibling=z,N=z);return Se&&Hn(x,C),j}for(k=r(x,k);!z.done;C++,z=g.next())z=v(k,x,C,z.value,S),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?C:z.key),m=l(z,m,C),N===null?j=z:N.sibling=z,N=z);return e&&k.forEach(function(_){return t(x,_)}),Se&&Hn(x,C),j}function b(x,m,g,S){if(typeof g=="object"&&g!==null&&g.type===fr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:e:{for(var j=g.key,N=m;N!==null;){if(N.key===j){if(j=g.type,j===fr){if(N.tag===7){n(x,N.sibling),m=s(N,g.props.children),m.return=x,x=m;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wn&&vu(j)===N.type){n(x,N.sibling),m=s(N,g.props),m.ref=ns(x,N,g),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}g.type===fr?(m=Qn(g.props.children,x.mode,S,g.key),m.return=x,x=m):(S=Fl(g.type,g.key,g.props,null,x.mode,S),S.ref=ns(x,m,g),S.return=x,x=S)}return a(x);case dr:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=s(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=ba(g,x.mode,S),m.return=x,x=m}return a(x);case wn:return N=g._init,b(x,m,N(g._payload),S)}if(os(g))return w(x,m,g,S);if(Jr(g))return y(x,m,g,S);hl(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,g),m.return=x,x=m):(n(x,m),m=wa(g,x.mode,S),m.return=x,x=m),a(x)):n(x,m)}return b}var Pr=Hf(!0),Wf=Hf(!1),to=Fn(null),no=null,wr=null,Zi=null;function ec(){Zi=wr=no=null}function tc(e){var t=to.current;ke(to),e._currentValue=t}function ai(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){no=e,Zi=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Zi!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(no===null)throw Error(D(308));wr=e,no.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Xn=null;function nc(e){Xn===null?Xn=[e]:Xn.push(e)}function Vf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,nc(t)):(n.next=s.next,s.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fn(e,n)}return s=r.interleaved,s===null?(t.next=t,nc(r)):(t.next=s.next,s.next=t),r.interleaved=t,fn(e,n)}function Pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}function wu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ro(e,t,n,r){var s=e.updateQueue;bn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==a&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=c))}if(l!==null){var p=s.baseState;a=0,f=u=c=null,i=l;do{var h=i.lane,v=i.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,y=i;switch(h=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){p=w.call(v,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(v,p,h):w,h==null)break e;p=Ee({},p,h);break e;case 2:bn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else v={eventTime:v,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=v,c=p):f=f.next=v,a|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);er|=a,e.lanes=a,e.memoizedState=p}}function bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ks={},tn=Fn(Ks),Rs=Fn(Ks),zs=Fn(Ks);function Kn(e){if(e===Ks)throw Error(D(174));return e}function sc(e,t){switch(ve(zs,t),ve(Rs,e),ve(tn,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ba(t,e)}ke(tn),ve(tn,t)}function Ir(){ke(tn),ke(Rs),ke(zs)}function Kf(e){Kn(zs.current);var t=Kn(tn.current),n=Ba(t,e.type);t!==n&&(ve(Rs,e),ve(tn,n))}function lc(e){Rs.current===e&&(ke(tn),ke(Rs))}var Ne=Fn(0);function so(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function oc(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var Il=hn.ReactCurrentDispatcher,ma=hn.ReactCurrentBatchConfig,Zn=0,Ce=null,$e=null,Ve=null,lo=!1,hs=!1,Ps=0,Ox=0;function nt(){throw Error(D(321))}function ac(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function ic(e,t,n,r,s,l){if(Zn=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Il.current=e===null||e.memoizedState===null?Bx:Ux,e=n(r,s),hs){l=0;do{if(hs=!1,Ps=0,25<=l)throw Error(D(301));l+=1,Ve=$e=null,t.updateQueue=null,Il.current=Hx,e=n(r,s)}while(hs)}if(Il.current=oo,t=$e!==null&&$e.next!==null,Zn=0,Ve=$e=Ce=null,lo=!1,t)throw Error(D(300));return e}function cc(){var e=Ps!==0;return Ps=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function At(){if($e===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ve===null?Ce.memoizedState:Ve.next;if(t!==null)Ve=t,$e=e;else{if(e===null)throw Error(D(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Is(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=At(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=a=null,c=null,u=l;do{var f=u.lane;if((Zn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=p,a=r):c=c.next=p,Ce.lanes|=f,er|=f}u=u.next}while(u!==null&&u!==l);c===null?a=r:c.next=i,Xt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Ce.lanes|=l,er|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ga(e){var t=At(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Xt(l,t.memoizedState)||(ht=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Yf(){}function Qf(e,t){var n=Ce,r=At(),s=t(),l=!Xt(r.memoizedState,s);if(l&&(r.memoizedState=s,ht=!0),r=r.queue,uc(qf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Jf.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(D(349));Zn&30||Gf(n,t,s)}return s}function Gf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jf(e,t,n,r){t.value=n,t.getSnapshot=r,Zf(t)&&ep(e)}function qf(e,t,n){return n(function(){Zf(t)&&ep(e)})}function Zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch(r){return!0}}function ep(e){var t=fn(e,1);t!==null&&Vt(t,e,1,-1)}function ku(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=Fx.bind(null,Ce,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tp(){return At().memoizedState}function Ll(e,t,n,r){var s=qt();Ce.flags|=e,s.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function Eo(e,t,n,r){var s=At();r=r===void 0?null:r;var l=void 0;if($e!==null){var a=$e.memoizedState;if(l=a.destroy,r!==null&&ac(r,a.deps)){s.memoizedState=Ls(t,n,l,r);return}}Ce.flags|=e,s.memoizedState=Ls(1|t,n,l,r)}function ju(e,t){return Ll(8390656,8,e,t)}function uc(e,t){return Eo(2048,8,e,t)}function np(e,t){return Eo(4,2,e,t)}function rp(e,t){return Eo(4,4,e,t)}function sp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lp(e,t,n){return n=n!=null?n.concat([e]):null,Eo(4,4,sp.bind(null,t,e),n)}function dc(){}function op(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ac(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ap(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ac(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ip(e,t,n){return Zn&21?(Xt(n,t)||(n=pf(),Ce.lanes|=n,er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Ax(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=ma.transition;ma.transition={};try{e(!1),t()}finally{xe=n,ma.transition=r}}function cp(){return At().memoizedState}function $x(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},up(e))dp(t,n);else if(n=Vf(e,t,n,r),n!==null){var s=it();Vt(n,e,r,s),fp(n,t,r)}}function Fx(e,t,n){var r=Pn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(up(e))dp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,i=l(a,n);if(s.hasEagerState=!0,s.eagerState=i,Xt(i,a)){var c=t.interleaved;c===null?(s.next=s,nc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch(u){}finally{}n=Vf(e,t,s,r),n!==null&&(s=it(),Vt(n,e,r,s),fp(n,t,r))}}function up(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function dp(e,t){hs=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}var oo={readContext:Ot,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Bx={readContext:Ot,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:ju,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4194308,4,sp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$x.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:ku,useDebugValue:dc,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=ku(!1),t=e[0];return e=Ax.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,s=qt();if(Se){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ke===null)throw Error(D(349));Zn&30||Gf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ju(qf.bind(null,r,l,e),[e]),r.flags|=2048,Ls(9,Jf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=qt(),t=Ke.identifierPrefix;if(Se){var n=an,r=on;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ox++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ux={readContext:Ot,useCallback:op,useContext:Ot,useEffect:uc,useImperativeHandle:lp,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:xa,useRef:tp,useState:function(){return xa(Is)},useDebugValue:dc,useDeferredValue:function(e){var t=At();return ip(t,$e.memoizedState,e)},useTransition:function(){var e=xa(Is)[0],t=At().memoizedState;return[e,t]},useMutableSource:Yf,useSyncExternalStore:Qf,useId:cp,unstable_isNewReconciler:!1},Hx={readContext:Ot,useCallback:op,useContext:Ot,useEffect:uc,useImperativeHandle:lp,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:ga,useRef:tp,useState:function(){return ga(Is)},useDebugValue:dc,useDeferredValue:function(e){var t=At();return $e===null?t.memoizedState=e:ip(t,$e.memoizedState,e)},useTransition:function(){var e=ga(Is)[0],t=At().memoizedState;return[e,t]},useMutableSource:Yf,useSyncExternalStore:Qf,useId:cp,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ii(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=Pn(e),l=cn(r,s);l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,s),t!==null&&(Vt(t,e,s,r),Pl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=Pn(e),l=cn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,s),t!==null&&(Vt(t,e,s,r),Pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Pn(e),s=cn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,r),t!==null&&(Vt(t,e,r,n),Pl(t,e,r))}};function Su(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,r)||!Ms(s,l):!0}function pp(e,t,n){var r=!1,s=On,l=t.contextType;return typeof l=="object"&&l!==null?l=Ot(l):(s=xt(t)?Jn:lt.current,r=t.contextTypes,l=(r=r!=null)?Rr(e,s):On),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Nu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},rc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ot(l):(l=xt(t)?Jn:lt.current,s.context=Rr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ii(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mo.enqueueReplaceState(s,s.state,null),ro(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var n="",r=t;do n+=gm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ya(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wx=typeof WeakMap=="function"?WeakMap:Map;function hp(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){io||(io=!0,wi=r),ui(e,t)},n}function mp(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ui(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ui(e,t),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sg.bind(null,e,t,n),t.then(e,e))}function Eu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var Vx=hn.ReactCurrentOwner,ht=!1;function at(e,t,n,r){t.child=e===null?Wf(t,null,n,r):Pr(t,e.child,n,r)}function Tu(e,t,n,r,s){n=n.render;var l=t.ref;return Mr(t,s),r=ic(e,t,n,r,l,s),n=cc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Se&&n&&Gi(t),t.flags|=1,at(e,t,r,s),t.child)}function Du(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!vc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,xp(e,t,l,r,s)):(e=Fl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(a,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=In(l,r),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Ms(l,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,pn(e,t,s)}return di(e,t,n,r,s)}function gp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(kr,bt),bt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(kr,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ve(kr,bt),bt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ve(kr,bt),bt|=r;return at(e,t,s,n),t.child}function yp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function di(e,t,n,r,s){var l=xt(n)?Jn:lt.current;return l=Rr(t,l),Mr(t,s),n=ic(e,t,n,r,l,s),r=cc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Se&&r&&Gi(t),t.flags|=1,at(e,t,n,s),t.child)}function _u(e,t,n,r,s){if(xt(n)){var l=!0;ql(t)}else l=!1;if(Mr(t,s),t.stateNode===null)Ol(e,t),pp(t,n,r),ci(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=xt(n)?Jn:lt.current,u=Rr(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&Nu(t,a,r,u),bn=!1;var h=t.memoizedState;a.state=h,ro(t,r,a,s),c=t.memoizedState,i!==r||h!==c||mt.current||bn?(typeof f=="function"&&(ii(t,n,f,r),c=t.memoizedState),(i=bn||Su(t,n,i,r,h,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xf(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Bt(t.type,i),a.props=u,p=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=xt(n)?Jn:lt.current,c=Rr(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==p||h!==c)&&Nu(t,a,r,c),bn=!1,h=t.memoizedState,a.state=h,ro(t,r,a,s);var w=t.memoizedState;i!==p||h!==w||mt.current||bn?(typeof v=="function"&&(ii(t,n,v,r),w=t.memoizedState),(u=bn||Su(t,n,u,r,h,w,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return fi(e,t,n,r,l,s)}function fi(e,t,n,r,s,l){yp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&xu(t,n,!1),pn(e,t,l);r=t.stateNode,Vx.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Pr(t,e.child,null,l),t.child=Pr(t,null,i,l)):at(e,t,i,l),t.memoizedState=r.state,s&&xu(t,n,!0),t.child}function vp(e){var t=e.stateNode;t.pendingContext?mu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mu(e,t.context,!1),sc(e,t.containerInfo)}function Ru(e,t,n,r,s){return zr(),qi(s),t.flags|=256,at(e,t,n,r),t.child}var pi={dehydrated:null,treeContext:null,retryLane:0};function hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function wp(e,t,n){var r=t.pendingProps,s=Ne.current,l=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(Ne,s&1),e===null)return oi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=_o(a,r,0,null),e=Qn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=hi(n),t.memoizedState=pi,e):fc(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Xx(e,t,a,r,i,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=In(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=In(i,l):(l=Qn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?hi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=pi,r}return l=e.child,e=l.sibling,r=In(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=_o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&qi(r),Pr(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xx(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=ya(Error(D(422))),ml(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=_o({mode:"visible",children:r.children},s,0,null),l=Qn(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Pr(t,e.child,null,a),t.child.memoizedState=hi(a),t.memoizedState=pi,l);if(!(t.mode&1))return ml(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(D(419)),r=ya(l,r,void 0),ml(e,t,a,r)}if(i=(a&e.childLanes)!==0,ht||i){if(r=Ke,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,fn(e,s),Vt(r,e,s,-1))}return yc(),r=ya(Error(D(421))),ml(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,kt=_n(s.nextSibling),jt=t,Se=!0,Ht=null,e!==null&&(zt[Pt++]=on,zt[Pt++]=an,zt[Pt++]=qn,on=e.id,an=e.overflow,qn=t),t=fc(t,r.children),t.flags|=4096,t)}function zu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ai(e.return,t,n)}function va(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function bp(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(at(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zu(e,n,t);else if(e.tag===19)zu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&so(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),va(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&so(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}va(t,!0,n,null,l);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kx(e,t,n){switch(t.tag){case 3:vp(t),zr();break;case 5:Kf(t);break;case 1:xt(t.type)&&ql(t);break;case 4:sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ve(to,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?wp(e,t,n):(ve(Ne,Ne.current&1),e=pn(e,t,n),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,gp(e,t,n)}return pn(e,t,n)}var kp,mi,jp,Sp;kp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mi=function(){};jp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Kn(tn.current);var l=null;switch(n){case"input":s=Oa(e,s),r=Oa(e,r),l=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":s=Fa(e,s),r=Fa(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gl)}Ua(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&we("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function rs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yx(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return xt(t.type)&&Jl(),rt(t),null;case 3:return r=t.stateNode,Ir(),ke(mt),ke(lt),oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(ji(Ht),Ht=null))),mi(e,t),rt(t),null;case 5:lc(t);var s=Kn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)jp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return rt(t),null}if(e=Kn(tn.current),pl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Zt]=t,r[_s]=l,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<is.length;s++)we(is[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Uc(r,l),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},we("invalid",r);break;case"textarea":Wc(r,l),we("invalid",r)}Ua(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var i=l[a];a==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&fl(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&fl(r.textContent,i,e),s=["children",""+i]):bs.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&we("scroll",r)}switch(n){case"input":sl(r),Hc(r,l,!0);break;case"textarea":sl(r),Vc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Gl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Zt]=t,e[_s]=r,kp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ha(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<is.length;s++)we(is[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":Uc(e,r),s=Oa(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),we("invalid",e);break;case"textarea":Wc(e,r),s=Fa(e,r),we("invalid",e);break;default:s=r}Ua(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?ef(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qd(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ks(e,c):typeof c=="number"&&ks(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bs.hasOwnProperty(l)?c!=null&&l==="onScroll"&&we("scroll",e):c!=null&&Li(e,l,c,a))}switch(n){case"input":sl(e),Hc(e,r,!1);break;case"textarea":sl(e),Vc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ln(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Sr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Kn(zs.current),Kn(tn.current),pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(l=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return rt(t),null;case 13:if(ke(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&kt!==null&&t.mode&1&&!(t.flags&128))Uf(),zr(),t.flags|=98560,l=!1;else if(l=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[Zt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),l=!1}else Ht!==null&&(ji(Ht),Ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Be===0&&(Be=3):yc())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Ir(),mi(e,t),e===null&&Ts(t.stateNode.containerInfo),rt(t),null;case 10:return tc(t.type._context),rt(t),null;case 17:return xt(t.type)&&Jl(),rt(t),null;case 19:if(ke(Ne),l=t.memoizedState,l===null)return rt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)rs(l,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=so(e),a!==null){for(t.flags|=128,rs(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>Or&&(t.flags|=128,r=!0,rs(l,!1),t.lanes=4194304)}else{if(!r)if(e=so(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Se)return rt(t),null}else 2*Ie()-l.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,rs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return gc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Qx(e,t){switch(Ji(t),t.tag){case 1:return xt(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),ke(mt),ke(lt),oc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(ke(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ne),null;case 4:return Ir(),null;case 10:return tc(t.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var xl=!1,st=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,F=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function xi(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Pu=!1;function Jx(e,t){if(Za=Kl,e=Tf(),Qi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(S){n=null;break e}var a=0,i=-1,c=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(i=a+s),p!==l||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)h=p,p=v;for(;;){if(p===e)break t;if(h===n&&++u===s&&(i=a),h===l&&++f===r&&(c=a),(v=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Kl=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Bt(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return w=Pu,Pu=!1,w}function ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&xi(t,n,l)}s=s.next}while(s!==r)}}function To(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[_s],delete t[ri],delete t[zx],delete t[Px])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cp(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gl));else if(r!==4&&(e=e.child,e!==null))for(yi(e,t,n),e=e.sibling;e!==null;)yi(e,t,n),e=e.sibling}function vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vi(e,t,n),e=e.sibling;e!==null;)vi(e,t,n),e=e.sibling}var Ge=null,Ut=!1;function vn(e,t,n){for(n=n.child;n!==null;)Ep(e,t,n),n=n.sibling}function Ep(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(bo,n)}catch(i){}switch(n.tag){case 5:st||br(n,t);case 6:var r=Ge,s=Ut;Ge=null,vn(e,t,n),Ge=r,Ut=s,Ge!==null&&(Ut?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ut?(e=Ge,n=n.stateNode,e.nodeType===8?fa(e.parentNode,n):e.nodeType===1&&fa(e,n),Cs(e)):fa(Ge,n.stateNode));break;case 4:r=Ge,s=Ut,Ge=n.stateNode.containerInfo,Ut=!0,vn(e,t,n),Ge=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&xi(n,t,a),s=s.next}while(s!==r)}vn(e,t,n);break;case 1:if(!st&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Re(n,t,i)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,vn(e,t,n),st=r):vn(e,t,n);break;default:vn(e,t,n)}}function Lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gx),t.forEach(function(r){var s=og.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ge=i.stateNode,Ut=!1;break e;case 3:Ge=i.stateNode.containerInfo,Ut=!0;break e;case 4:Ge=i.stateNode.containerInfo,Ut=!0;break e}i=i.return}if(Ge===null)throw Error(D(160));Ep(l,a,s),Ge=null,Ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mp(t,e),t=t.sibling}function Mp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Jt(e),r&4){try{ms(3,e,e.return),To(3,e)}catch(y){Re(e,e.return,y)}try{ms(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Ft(t,e),Jt(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(Ft(t,e),Jt(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{ks(s,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Qd(s,l),Ha(i,a);var u=Ha(i,l);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?ef(s,p):f==="dangerouslySetInnerHTML"?qd(s,p):f==="children"?ks(s,p):Li(s,f,p,u)}switch(i){case"input":Aa(s,l);break;case"textarea":Gd(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Sr(s,!!l.multiple,v,!1):h!==!!l.multiple&&(l.defaultValue!=null?Sr(s,!!l.multiple,l.defaultValue,!0):Sr(s,!!l.multiple,l.multiple?[]:"",!1))}s[_s]=l}catch(y){Re(e,e.return,y)}}break;case 6:if(Ft(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(y){Re(e,e.return,y)}}break;case 3:if(Ft(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Ft(t,e),Jt(e);break;case 13:Ft(t,e),Jt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(mc=Ie())),r&4&&Lu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(st=(u=st)||f,Ft(t,e),st=u):Ft(t,e),Jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(F=e,f=e.child;f!==null;){for(p=F=f;F!==null;){switch(h=F,v=h.child,h.tag){case 0:case 11:case 14:case 15:ms(4,h,h.return);break;case 1:br(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:br(h,h.return);break;case 22:if(h.memoizedState!==null){Au(p);continue}}v!==null?(v.return=h,F=v):Au(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Zd("display",a))}catch(y){Re(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Re(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ft(t,e),Jt(e),r&4&&Lu(e);break;case 21:break;default:Ft(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ks(s,""),r.flags&=-33);var l=Iu(e);vi(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Iu(e);yi(e,i,a);break;default:throw Error(D(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qx(e,t,n){F=e,Tp(e)}function Tp(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||xl;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||st;i=xl;var u=st;if(xl=a,(st=c)&&!u)for(F=s;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?$u(s):c!==null?(c.return=a,F=c):$u(s);for(;l!==null;)F=l,Tp(l),l=l.sibling;F=s,xl=i,st=u}Ou(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,F=l):Ou(e)}}function Ou(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||To(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&bu(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bu(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Cs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}st||t.flags&512&&gi(t)}catch(h){Re(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Au(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function $u(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{To(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var l=t.return;try{gi(t)}catch(c){Re(t,l,c)}break;case 5:var a=t.return;try{gi(t)}catch(c){Re(t,a,c)}}}catch(c){Re(t,t.return,c)}if(t===e){F=null;break}var i=t.sibling;if(i!==null){i.return=t.return,F=i;break}F=t.return}}var Zx=Math.ceil,ao=hn.ReactCurrentDispatcher,pc=hn.ReactCurrentOwner,Lt=hn.ReactCurrentBatchConfig,ae=0,Ke=null,Le=null,Je=0,bt=0,kr=Fn(0),Be=0,Os=null,er=0,Do=0,hc=0,xs=null,pt=null,mc=0,Or=1/0,sn=null,io=!1,wi=null,zn=null,gl=!1,Cn=null,co=0,gs=0,bi=null,Al=-1,$l=0;function it(){return ae&6?Ie():Al!==-1?Al:Al=Ie()}function Pn(e){return e.mode&1?ae&2&&Je!==0?Je&-Je:Lx.transition!==null?($l===0&&($l=pf()),$l):(e=xe,e!==0||(e=window.event,e=e===void 0?16:wf(e.type)),e):1}function Vt(e,t,n,r){if(50<gs)throw gs=0,bi=null,Error(D(185));Ws(e,n,r),(!(ae&2)||e!==Ke)&&(e===Ke&&(!(ae&2)&&(Do|=n),Be===4&&Sn(e,Je)),gt(e,r),n===1&&ae===0&&!(t.mode&1)&&(Or=Ie()+500,Co&&Bn()))}function gt(e,t){var n=e.callbackNode;Lm(e,t);var r=Xl(e,e===Ke?Je:0);if(r===0)n!==null&&Yc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yc(n),t===1)e.tag===0?Ix(Fu.bind(null,e)):$f(Fu.bind(null,e)),_x(function(){!(ae&6)&&Bn()}),n=null;else{switch(hf(r)){case 1:n=Bi;break;case 4:n=df;break;case 16:n=Vl;break;case 536870912:n=ff;break;default:n=Vl}n=Op(n,Dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dp(e,t){if(Al=-1,$l=0,ae&6)throw Error(D(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=Xl(e,e===Ke?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uo(e,r);else{t=r;var s=ae;ae|=2;var l=Rp();(Ke!==e||Je!==t)&&(sn=null,Or=Ie()+500,Yn(e,t));do try{ng();break}catch(i){_p(e,i)}while(!0);ec(),ao.current=l,ae=s,Le!==null?t=0:(Ke=null,Je=0,t=Be)}if(t!==0){if(t===2&&(s=Ya(e),s!==0&&(r=s,t=ki(e,s))),t===1)throw n=Os,Yn(e,0),Sn(e,r),gt(e,Ie()),n;if(t===6)Sn(e,r);else{if(s=e.current.alternate,!(r&30)&&!eg(s)&&(t=uo(e,r),t===2&&(l=Ya(e),l!==0&&(r=l,t=ki(e,l))),t===1))throw n=Os,Yn(e,0),Sn(e,r),gt(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Wn(e,pt,sn);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=mc+500-Ie(),10<t)){if(Xl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ni(Wn.bind(null,e,pt,sn),t);break}Wn(e,pt,sn);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Wt(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zx(r/1960))-r,10<r){e.timeoutHandle=ni(Wn.bind(null,e,pt,sn),r);break}Wn(e,pt,sn);break;case 5:Wn(e,pt,sn);break;default:throw Error(D(329))}}}return gt(e,Ie()),e.callbackNode===n?Dp.bind(null,e):null}function ki(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=pt,pt=n,t!==null&&ji(t)),e}function ji(e){pt===null?pt=e:pt.push.apply(pt,e)}function eg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Xt(l(),s))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~hc,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Fu(e){if(ae&6)throw Error(D(327));Tr();var t=Xl(e,0);if(!(t&1))return gt(e,Ie()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var r=Ya(e);r!==0&&(t=r,n=ki(e,r))}if(n===1)throw n=Os,Yn(e,0),Sn(e,t),gt(e,Ie()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,pt,sn),gt(e,Ie()),null}function xc(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Or=Ie()+500,Co&&Bn())}}function tr(e){Cn!==null&&Cn.tag===0&&!(ae&6)&&Tr();var t=ae;ae|=1;var n=Lt.transition,r=xe;try{if(Lt.transition=null,xe=1,e)return e()}finally{xe=r,Lt.transition=n,ae=t,!(ae&6)&&Bn()}}function gc(){bt=kr.current,ke(kr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dx(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Ji(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:Ir(),ke(mt),ke(lt),oc();break;case 5:lc(r);break;case 4:Ir();break;case 13:ke(Ne);break;case 19:ke(Ne);break;case 10:tc(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Ke=e,Le=e=In(e.current,null),Je=bt=t,Be=0,Os=null,hc=Do=er=0,pt=xs=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Xn=null}return e}function _p(e,t){do{var n=Le;try{if(ec(),Il.current=oo,lo){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lo=!1}if(Zn=0,Ve=$e=Ce=null,hs=!1,Ps=0,pc.current=null,n===null||n.return===null){Be=1,Os=t,Le=null;break}e:{var l=e,a=n.return,i=n,c=t;if(t=Je,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=i,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Eu(a);if(v!==null){v.flags&=-257,Mu(v,a,i,l,t),v.mode&1&&Cu(l,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Cu(l,u,t),yc();break e}c=Error(D(426))}}else if(Se&&i.mode&1){var b=Eu(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mu(b,a,i,l,t),qi(Lr(c,i));break e}}l=c=Lr(c,i),Be!==4&&(Be=2),xs===null?xs=[l]:xs.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=hp(l,c,t);wu(l,x);break e;case 1:i=c;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zn===null||!zn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=mp(l,i,t);wu(l,S);break e}}l=l.return}while(l!==null)}Pp(n)}catch(j){t=j,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Rp(){var e=ao.current;return ao.current=oo,e===null?oo:e}function yc(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(er&268435455)&&!(Do&268435455)||Sn(Ke,Je)}function uo(e,t){var n=ae;ae|=2;var r=Rp();(Ke!==e||Je!==t)&&(sn=null,Yn(e,t));do try{tg();break}catch(s){_p(e,s)}while(!0);if(ec(),ae=n,ao.current=r,Le!==null)throw Error(D(261));return Ke=null,Je=0,Be}function tg(){for(;Le!==null;)zp(Le)}function ng(){for(;Le!==null&&!Em();)zp(Le)}function zp(e){var t=Lp(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Pp(e):Le=t,pc.current=null}function Pp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qx(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Le=null;return}}else if(n=Yx(n,t,bt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Be===0&&(Be=5)}function Wn(e,t,n){var r=xe,s=Lt.transition;try{Lt.transition=null,xe=1,rg(e,t,n,r)}finally{Lt.transition=s,xe=r}return null}function rg(e,t,n,r){do Tr();while(Cn!==null);if(ae&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Om(e,l),e===Ke&&(Le=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,Op(Vl,function(){return Tr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Lt.transition,Lt.transition=null;var a=xe;xe=1;var i=ae;ae|=4,pc.current=null,Jx(e,n),Mp(n,e),jx(ei),Kl=!!Za,ei=Za=null,e.current=n,qx(n),Mm(),ae=i,xe=a,Lt.transition=l}else e.current=n;if(gl&&(gl=!1,Cn=e,co=s),l=e.pendingLanes,l===0&&(zn=null),_m(n.stateNode),gt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(io)throw io=!1,e=wi,wi=null,e;return co&1&&e.tag!==0&&Tr(),l=e.pendingLanes,l&1?e===bi?gs++:(gs=0,bi=e):gs=0,Bn(),null}function Tr(){if(Cn!==null){var e=hf(co),t=Lt.transition,n=xe;try{if(Lt.transition=null,xe=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,co=0,ae&6)throw Error(D(331));var s=ae;for(ae|=4,F=e.current;F!==null;){var l=F,a=l.child;if(F.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(F=u;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:ms(8,f,l)}var p=f.child;if(p!==null)p.return=f,F=p;else for(;F!==null;){f=F;var h=f.sibling,v=f.return;if(Np(f),f===u){F=null;break}if(h!==null){h.return=v,F=h;break}F=v}}}var w=l.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}F=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,F=a;else e:for(;F!==null;){if(l=F,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ms(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,F=x;break e}F=l.return}}var m=e.current;for(F=m;F!==null;){a=F;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,F=g;else e:for(a=m;F!==null;){if(i=F,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:To(9,i)}}catch(j){Re(i,i.return,j)}if(i===a){F=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,F=S;break e}F=i.return}}if(ae=s,Bn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(bo,e)}catch(j){}r=!0}return r}finally{xe=n,Lt.transition=t}}return!1}function Bu(e,t,n){t=Lr(n,t),t=hp(e,t,1),e=Rn(e,t,1),t=it(),e!==null&&(Ws(e,1,t),gt(e,t))}function Re(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){e=Lr(n,e),e=mp(t,e,1),t=Rn(t,e,1),e=it(),t!==null&&(Ws(t,1,e),gt(t,e));break}}t=t.return}}function sg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Je&n)===n&&(Be===4||Be===3&&(Je&130023424)===Je&&500>Ie()-mc?Yn(e,0):hc|=n),gt(e,t)}function Ip(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=it();e=fn(e,t),e!==null&&(Ws(e,t,n),gt(e,n))}function lg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ip(e,n)}function og(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Ip(e,n)}var Lp;Lp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,Kx(e,t,n);ht=!!(e.flags&131072)}else ht=!1,Se&&t.flags&1048576&&Ff(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ol(e,t),e=t.pendingProps;var s=Rr(t,lt.current);Mr(t,n),s=ic(null,t,r,e,s,n);var l=cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(l=!0,ql(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rc(t),s.updater=Mo,t.stateNode=s,s._reactInternals=t,ci(t,r,e,n),t=fi(null,t,r,!0,l,n)):(t.tag=0,Se&&l&&Gi(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ol(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ig(r),e=Bt(r,e),s){case 0:t=di(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=Tu(null,t,r,e,n);break e;case 14:t=Du(null,t,r,Bt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),di(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),_u(e,t,r,s,n);case 3:e:{if(vp(t),e===null)throw Error(D(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Xf(e,t),ro(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Lr(Error(D(423)),t),t=Ru(e,t,r,n,s);break e}else if(r!==s){s=Lr(Error(D(424)),t),t=Ru(e,t,r,n,s);break e}else for(kt=_n(t.stateNode.containerInfo.firstChild),jt=t,Se=!0,Ht=null,n=Wf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){t=pn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return Kf(t),e===null&&oi(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,ti(r,s)?a=null:l!==null&&ti(r,l)&&(t.flags|=32),yp(e,t),at(e,t,a,n),t.child;case 6:return e===null&&oi(t),null;case 13:return wp(e,t,n);case 4:return sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Tu(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,ve(to,r._currentValue),r._currentValue=a,l!==null)if(Xt(l.value,a)){if(l.children===s.children&&!mt.current){t=pn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){a=l.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=cn(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ai(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(D(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),ai(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mr(t,n),s=Ot(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Bt(r,t.pendingProps),s=Bt(r.type,s),Du(e,t,r,s,n);case 15:return xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Ol(e,t),t.tag=1,xt(r)?(e=!0,ql(t)):e=!1,Mr(t,n),pp(t,r,s),ci(t,r,s,n),fi(null,t,r,!0,e,n);case 19:return bp(e,t,n);case 22:return gp(e,t,n)}throw Error(D(156,t.tag))};function Op(e,t){return uf(e,t)}function ag(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new ag(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ig(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ai)return 11;if(e===$i)return 14}return 2}function In(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")vc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fr:return Qn(n.children,s,l,t);case Oi:a=8,s|=8;break;case za:return e=It(12,n,t,s|2),e.elementType=za,e.lanes=l,e;case Pa:return e=It(13,n,t,s),e.elementType=Pa,e.lanes=l,e;case Ia:return e=It(19,n,t,s),e.elementType=Ia,e.lanes=l,e;case Xd:return _o(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wd:a=10;break e;case Vd:a=9;break e;case Ai:a=11;break e;case $i:a=14;break e;case wn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=It(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Qn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function _o(e,t,n,r){return e=It(22,e,r,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function wa(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,r,s,l,a,i,c){return e=new cg(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=It(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(l),e}function ug(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ap(e){if(!e)return On;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(xt(n))return Af(e,n,t)}return t}function $p(e,t,n,r,s,l,a,i,c){return e=wc(n,r,!0,e,s,l,a,i,c),e.context=Ap(null),n=e.current,r=it(),s=Pn(n),l=cn(r,s),l.callback=t!=null?t:null,Rn(n,l,s),e.current.lanes=s,Ws(e,s,r),gt(e,r),e}function Ro(e,t,n,r){var s=t.current,l=it(),a=Pn(s);return n=Ap(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(s,t,a),e!==null&&(Vt(e,s,a,l),Pl(e,s,a)),a}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bc(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function dg(){return null}var Fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function kc(e){this._internalRoot=e}zo.prototype.render=kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ro(e,t,null,null)};zo.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){Ro(null,e,null,null)}),t[dn]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=gf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&vf(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hu(){}function fg(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=fo(a);l.call(u)}}var a=$p(t,r,e,0,null,!1,!1,"",Hu);return e._reactRootContainer=a,e[dn]=a.current,Ts(e.nodeType===8?e.parentNode:e),tr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=fo(c);i.call(u)}}var c=wc(e,0,!1,null,null,!1,!1,"",Hu);return e._reactRootContainer=c,e[dn]=c.current,Ts(e.nodeType===8?e.parentNode:e),tr(function(){Ro(t,c,n,r)}),c}function Io(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var i=s;s=function(){var c=fo(a);i.call(c)}}Ro(t,a,e,s)}else a=fg(n,t,e,s,r);return fo(a)}mf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=as(t.pendingLanes);n!==0&&(Ui(t,n|1),gt(t,Ie()),!(ae&6)&&(Or=Ie()+500,Bn()))}break;case 13:tr(function(){var r=fn(e,1);if(r!==null){var s=it();Vt(r,e,1,s)}}),bc(e,1)}};Hi=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=it();Vt(t,e,134217728,n)}bc(e,134217728)}};xf=function(e){if(e.tag===13){var t=Pn(e),n=fn(e,t);if(n!==null){var r=it();Vt(n,e,t,r)}bc(e,t)}};gf=function(){return xe};yf=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Va=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=No(r);if(!s)throw Error(D(90));Yd(r),Aa(r,s)}}}break;case"textarea":Gd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};rf=xc;sf=tr;var pg={usingClientEntryPoint:!1,Events:[Xs,xr,No,tf,nf,xc]},ss={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hg={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=af(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{bo=yl.inject(hg),en=yl}catch(e){}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(D(200));return ug(e,t,null,n)};Nt.createRoot=function(e,t){if(!jc(e))throw Error(D(299));var n=!1,r="",s=Fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wc(e,1,!1,null,null,n,!1,r,s),e[dn]=t.current,Ts(e.nodeType===8?e.parentNode:e),new kc(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=af(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return tr(e)};Nt.hydrate=function(e,t,n){if(!Po(t))throw Error(D(200));return Io(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Fp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=$p(t,null,e,1,n!=null?n:null,s,!1,l,a),e[dn]=t.current,Ts(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zo(t)};Nt.render=function(e,t,n){if(!Po(t))throw Error(D(200));return Io(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Po(e))throw Error(D(40));return e._reactRootContainer?(tr(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};Nt.unstable_batchedUpdates=xc;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Po(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Io(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bp)}catch(e){console.error(e)}}Bp(),Fd.exports=Nt;var jr=Fd.exports,Wu=jr;_a.createRoot=Wu.createRoot,_a.hydrateRoot=Wu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Vu="popstate";function mg(e){e===void 0&&(e={});function t(s,l){let{pathname:a="/",search:i="",hash:c=""}=sr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Si("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let a=s.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof l=="string"?l:Up(l))}function r(s,l){Lo(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return gg(t,n,r,e)}function Ue(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Lo(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function xg(){return Math.random().toString(36).substr(2,8)}function Xu(e,t){return{usr:e.state,key:e.key,idx:t}}function Si(e,t,n,r){return n===void 0&&(n=null),As({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||r||xg()})}function Up(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,a=s.history,i=En.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(As({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function p(){i=En.Pop;let b=f(),x=b==null?null:b-u;u=b,c&&c({action:i,location:y.location,delta:x})}function h(b,x){i=En.Push;let m=Si(y.location,b,x);n&&n(m,b),u=f()+1;let g=Xu(m,u),S=y.createHref(m);try{a.pushState(g,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}l&&c&&c({action:i,location:y.location,delta:1})}function v(b,x){i=En.Replace;let m=Si(y.location,b,x);n&&n(m,b),u=f();let g=Xu(m,u),S=y.createHref(m);a.replaceState(g,"",S),l&&c&&c({action:i,location:y.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Up(b);return m=m.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let y={get action(){return i},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vu,p),c=b,()=>{s.removeEventListener(Vu,p),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:v,go(b){return a.go(b)}};return y}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function yg(e,t,n){return n===void 0&&(n="/"),vg(e,t,n)}function vg(e,t,n,r){let s=typeof t=="string"?sr(t):t,l=Vp(s.pathname||"/",n);if(l==null)return null;let a=Hp(e);wg(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=Rg(l);i=Tg(a[c],u)}return i}function Hp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,a,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gn([r,c.relativePath]),f=n.concat(c);l.children&&l.children.length>0&&(Ue(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hp(l.children,t,f,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Eg(u,l.index),routesMeta:f})};return e.forEach((l,a)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,a);else for(let c of Wp(l.path))s(l,a,c)}),t}function Wp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let a=Wp(r.join("/")),i=[];return i.push(...a.map(c=>c===""?l:[l,c].join("/"))),s&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function wg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bg=/^:[\w-]+$/,kg=3,jg=2,Sg=1,Ng=10,Cg=-2,Yu=e=>e==="*";function Eg(e,t){let n=e.split("/"),r=n.length;return n.some(Yu)&&(r+=Cg),t&&(r+=jg),n.filter(s=>!Yu(s)).reduce((s,l)=>s+(bg.test(l)?kg:l===""?Sg:Ng),r)}function Mg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Tg(e,t,n){let{routesMeta:r}=e,s={},l="/",a=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,f=l==="/"?t:t.slice(l.length)||"/",p=Dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Gn([l,p.pathname]),pathnameBase:$g(Gn([l,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(l=Gn([l,p.pathnameBase]))}return a}function Dg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_g(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let y=i[p]||"";a=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const w=i[p];return v&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function _g(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Lo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Rg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pg=e=>zg.test(e);function Ig(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sr(e):e,l;if(n)if(Pg(n))l=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Lo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?l=Qu(n.substring(1),"/"):l=Qu(n,t)}else l=t;return{pathname:l,search:Fg(r),hash:Bg(s)}}function Qu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ka(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Og(e,t){let n=Lg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ag(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sr(e):(s=As({},e),Ue(!s.pathname||!s.pathname.includes("?"),ka("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),ka("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),ka("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,i;if(a==null)i=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}i=p>=0?t[p]:"/"}let c=Ig(s,i),u=a&&a!=="/"&&a.endsWith("/"),f=(l||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Gn=e=>e.join("/").replace(/\/\/+/g,"/"),$g=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ug(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xp=["post","put","patch","delete"];new Set(Xp);const Hg=["get",...Xp];new Set(Hg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}const Sc=d.createContext(null),Wg=d.createContext(null),Oo=d.createContext(null),Ao=d.createContext(null),lr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Kp=d.createContext(null);function $o(){return d.useContext(Ao)!=null}function Yp(){return $o()||Ue(!1),d.useContext(Ao).location}function Qp(e){d.useContext(Oo).static||d.useLayoutEffect(e)}function $t(){let{isDataRoute:e}=d.useContext(lr);return e?ry():Vg()}function Vg(){$o()||Ue(!1);let e=d.useContext(Sc),{basename:t,future:n,navigator:r}=d.useContext(Oo),{matches:s}=d.useContext(lr),{pathname:l}=Yp(),a=JSON.stringify(Og(s,n.v7_relativeSplatPath)),i=d.useRef(!1);return Qp(()=>{i.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let p=Ag(u,JSON.parse(a),l,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Gn([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,a,l,e])}function Gp(){let{matches:e}=d.useContext(lr),t=e[e.length-1];return t?t.params:{}}function Xg(e,t){return Kg(e,t)}function Kg(e,t,n,r){$o()||Ue(!1);let{navigator:s}=d.useContext(Oo),{matches:l}=d.useContext(lr),a=l[l.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Yp(),f;if(t){var p;let b=typeof t=="string"?sr(t):t;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||Ue(!1),f=b}else f=u;let h=f.pathname||"/",v=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=yg(e,{pathname:v}),y=qg(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Gn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Gn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&y?d.createElement(Ao.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:En.Pop}},y):y}function Yg(){let e=ny(),t=Ug(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const Qg=d.createElement(Yg,null);class Gg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(lr.Provider,{value:this.props.routeContext},d.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jg(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(Sc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(lr.Provider,{value:t},r)}function qg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let f=a.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);f>=0||Ue(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:h,errors:v}=n,w=p.route.loader&&h[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,p,h)=>{let v,w=!1,y=null,b=null;n&&(v=i&&p.route.id?i[p.route.id]:void 0,y=p.route.errorElement||Qg,c&&(u<0&&h===0?(sy("route-fallback"),w=!0,b=null):u===h&&(w=!0,b=p.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return v?g=y:w?g=b:p.route.Component?g=d.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=f,d.createElement(Jg,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?d.createElement(Gg,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Jp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jp||{}),qp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qp||{});function Zg(e){let t=d.useContext(Sc);return t||Ue(!1),t}function ey(e){let t=d.useContext(Wg);return t||Ue(!1),t}function ty(e){let t=d.useContext(lr);return t||Ue(!1),t}function Zp(e){let t=ty(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function ny(){var e;let t=d.useContext(Kp),n=ey(),r=Zp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ry(){let{router:e}=Zg(Jp.UseNavigateStable),t=Zp(qp.UseNavigateStable),n=d.useRef(!1);return Qp(()=>{n.current=!0}),d.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$s({fromRouteId:t},l)))},[e,t])}const Gu={};function sy(e,t,n){Gu[e]||(Gu[e]=!0)}function ly(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ot(e){Ue(!1)}function oy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=En.Pop,navigator:l,static:a=!1,future:i}=e;$o()&&Ue(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:l,static:a,future:$s({v7_relativeSplatPath:!1},i)}),[c,i,l,a]);typeof r=="string"&&(r=sr(r));let{pathname:f="/",search:p="",hash:h="",state:v=null,key:w="default"}=r,y=d.useMemo(()=>{let b=Vp(f,c);return b==null?null:{location:{pathname:b,search:p,hash:h,state:v,key:w},navigationType:s}},[c,f,p,h,v,w,s]);return y==null?null:d.createElement(Oo.Provider,{value:u},d.createElement(Ao.Provider,{children:n,value:y}))}function ay(e){let{children:t,location:n}=e;return Xg(Ni(t),n)}new Promise(()=>{});function Ni(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let l=[...t,s];if(r.type===d.Fragment){n.push.apply(n,Ni(r.props.children,l));return}r.type!==ot&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ni(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iy="6";try{window.__reactRouterVersion=iy}catch(e){}const cy="startTransition",Ju=sm[cy];function uy(e){let{basename:t,children:n,future:r,window:s}=e,l=d.useRef();l.current==null&&(l.current=mg({window:s,v5Compat:!0}));let a=l.current,[i,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=d.useCallback(p=>{u&&Ju?Ju(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(f),[a,f]),d.useEffect(()=>ly(r),[r]),d.createElement(oy,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var qu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qu||(qu={}));var Zu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zu||(Zu={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:a,...i},c)=>d.createElement("svg",{ref:c,...fy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eh("lucide",s),...i},[...a.map(([u,f])=>d.createElement(u,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=d.forwardRef(({className:r,...s},l)=>d.createElement(py,{ref:l,iconNode:t,className:eh(`lucide-${dy(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ne("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ne("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ne("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ne("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ne("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ne("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oh="";async function nd(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${oh}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function A(e,t={}){let n=await nd();const r=`${oh}${e}`,s=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let l=await s(n);if(l.status===401&&(localStorage.removeItem("whisper_token"),n=await nd(),l=await s(n)),l.status===204)return null;if(!l.ok){const a=await l.json().catch(()=>({}));throw new Error(a.detail||` (${l.status})`)}return l.json()}const zy="WhisperMiniDB",Py=1,$r="avatars",ah=()=>new Promise((e,t)=>{const n=indexedDB.open(zy,Py);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains($r)||r.createObjectStore($r,{keyPath:"key"})}}),Ci=async(e,t)=>{const n=await ah();return new Promise((r,s)=>{const l=n.transaction([$r],"readwrite");l.objectStore($r).put({key:e,base64:t}),l.oncomplete=()=>r(),l.onerror=()=>s(l.error)})},Wr=async e=>{const t=await ah();return new Promise((n,r)=>{const l=t.transaction([$r],"readonly").objectStore($r).get(e);l.onsuccess=()=>{var a;return n(((a=l.result)==null?void 0:a.base64)||null)},l.onerror=()=>r(l.error)})},ft={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function cr({icon:e,label:t,desc:n,disabled:r,onClick:s,badge:l}){const[a,i]=d.useState(!1),c=()=>!r&&i(!0),u=()=>{i(!1),r||s==null||s()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:ft.bg,boxShadow:a?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:a?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:c,onTouchEnd:u,onMouseDown:c,onMouseUp:u,onMouseLeave:()=>i(!1),children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),l&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full",style:{background:"#ef4444",border:"2px solid var(--bg)"}})]}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ft.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:ft.textMuted},children:n})]})]})}function rd({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:ft.textMuted},children:e})}function Iy(){const e=$t(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(u){return null}}),[r,s]=d.useState(null),[l,a]=d.useState(!1);d.useEffect(()=>{A("/api/user/profile").then(u=>{n(u),localStorage.setItem("whisper_profile",JSON.stringify(u))}).catch(()=>{}),Wr("user-avatar").then(u=>{u&&s(u)}).catch(function(){}),A("/api/diary/unread-count").then(u=>{u.count>0&&a(!0)}).catch(()=>{})},[]);const i=(t==null?void 0:t.nickname)||"",c=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:ft.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:ft.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:ft.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ft.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:ft.text},children:["@",i]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:ft.textMuted},children:['"',c,'"']})]}),o.jsx(Qs,{size:16,style:{color:ft.textMuted,flexShrink:0}})]}),o.jsx(rd,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(cr,{icon:o.jsx(my,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(cr,{icon:o.jsx(xy,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(cr,{icon:o.jsx(th,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(cr,{icon:o.jsx(Dy,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(rd,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(cr,{icon:o.jsx(hy,{size:18,color:"white"}),label:"",desc:"",badge:l,onClick:()=>e("/diary")}),o.jsx(cr,{icon:o.jsx(_y,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:ft.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(jy,{size:32,fill:ft.accent,style:{color:ft.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const ye={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},sd={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"},message_mode:{label:"",color:"#6b7b9b",bg:"#e0e6f0"}};function Ly({activation:e}){const t=sd[e]||sd.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const vl=80;function Oy({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(f,p)=>{const h=n.current,v=r.current;if(!h)return;const w="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=w,h.style.transform=`translateX(${f}px)`,v){const y=Math.min(1,Math.abs(f)/vl);v.style.transition=w,v.style.opacity=`${y}`}s.current.current=f},a=()=>l(0),i=f=>{const p=f.touches[0],h=s.current;h.startX=p.clientX,h.startY=p.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=f=>{const p=s.current;if(!p.dragging)return;const h=f.touches[0],v=h.clientX-p.startX,w=h.clientY-p.startY;if(!p.locked){if(Math.abs(v)<5&&Math.abs(w)<5)return;p.locked=!0,p.isH=Math.abs(v)>Math.abs(w)}if(!p.isH){p.dragging=!1;return}f.preventDefault();const y=Math.max(-vl,Math.min(0,p.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/vl)}`),p.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-vl):l(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:ye.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Ay({book:e,onTap:t}){var n;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:ye.bg,userSelect:"none"},onClick:()=>t(e),children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ye.bg},children:o.jsx(rh,{size:18,style:{color:ye.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:ye.text},children:e.name}),o.jsx(Ly,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:ye.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,s)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:ye.accentDark},children:r},s)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:ye.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Qs,{size:16,style:{color:ye.textMuted,flexShrink:0}})]})}function $y({folder:e,books:t,onDelete:n,onTap:r}){const[s,l]=d.useState(!0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>l(!s),children:[s?o.jsx(Ys,{size:14,style:{color:ye.textMuted}}):o.jsx(Qs,{size:14,style:{color:ye.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:ye.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:ye.textMuted},children:t.length})]}),s&&t.map(a=>o.jsx(Oy,{onDelete:()=>n(a),children:o.jsx(Ay,{book:a,onTap:r})},a.id))]})}function Fy(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(null),u=w=>{c(w),setTimeout(()=>c(null),2e3)},f=()=>{s(!0),A("/api/world-books").then(w=>n(w.world_books||[])).catch(()=>u("")).finally(()=>s(!1))};d.useEffect(()=>{f()},[]);const p=async w=>{a(null);try{await A(`/api/world-books/${w.id}`,{method:"DELETE"}),n(y=>y.filter(b=>b.id!==w.id)),u("")}catch(y){u("")}},h={};for(const w of t){const y=w.folder||"";h[y]||(h[y]=[]),h[y].push(w)}const v=Object.keys(h).sort((w,y)=>w===""?1:y===""?-1:w.localeCompare(y));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ye.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:ye.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:ye.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ye.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ye.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Hr,{size:20,style:{color:ye.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:ye.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(rh,{size:36,style:{color:ye.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:ye.textMuted},children:" + "})]}):v.map(w=>o.jsx($y,{folder:w,books:h[w],onDelete:y=>a(y),onTap:y=>e(`/world-books/${y.id}`)},w))}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:ye.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:w=>w.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:ye.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:ye.textMuted},children:["",l.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:ye.bg,boxShadow:"var(--card-shadow-sm)",color:ye.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>p(l),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const Y={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function By({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})}function Uy({value:e,onChange:t,folders:n}){const[r,s]=d.useState(!1),l=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),s(!0)},onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}}),r&&l.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:l.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:Y.text},onMouseDown:()=>{t(a),s(!1)},children:a},a))})]})}function Hy({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""},{value:"message_mode",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:Y.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?Y.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?Y.accentDark:Y.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}function Wy({selected:e,onChange:t}){const n=[{value:"long",label:""},{value:"short",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:n.map(r=>{const s=e===r.value;return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>t(r.value),children:r.label},r.value)})})]})}const Vy=[{value:"happy",label:""},{value:"sad",label:""},{value:"angry",label:""},{value:"anxious",label:""},{value:"tired",label:""},{value:"emo",label:""},{value:"flirty",label:""},{value:"proud",label:""},{value:"calm",label:""}];function Xy({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(s=>s!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:Vy.map(r=>{const s=e.includes(r.value);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>n(r.value),children:r.label},r.value)})})]})}function Ky({keywords:e,onChange:t}){const[n,r]=d.useState(""),s=()=>{const l=n.trim();if(!l||e.includes(l)){r("");return}t([...e,l]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:[e.map(l=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:Y.accentDark},children:[l,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==l)),children:o.jsx(Js,{size:10})})]},l)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),onKeyDown:l=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),s())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:Y.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:Y.accentDark},onClick:s,children:o.jsx(Hr,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:Y.textMuted},children:" Enter "})]})}function Yy({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:Y.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ar,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:Y.bg,color:Y.text},placeholder:"..."})]})}function ld(){const e=$t(),{id:t}=Gp(),n=!t,[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState("always"),[u,f]=d.useState([]),[p,h]=d.useState("long"),[v,w]=d.useState(""),[y,b]=d.useState(!1),[x,m]=d.useState(!n),[g,S]=d.useState(null),[j,N]=d.useState([]),[k,C]=d.useState(!1),R=d.useRef(null),z=E=>{var ie;const B=(ie=E.target.files)==null?void 0:ie[0];if(!B)return;const K=new FileReader;K.onload=se=>w(se.target.result||""),K.readAsText(B),E.target.value=""},P=E=>{S(E),setTimeout(()=>S(null),2e3)};d.useEffect(()=>{A("/api/world-books").then(E=>{const B=E.world_books||[];if(N([...new Set(B.map(K=>K.folder).filter(Boolean))]),!n){const K=B.find(ie=>String(ie.id)===String(t));K&&(s(K.name),a(K.folder||""),c(K.activation),f(K.keywords||[]),h(K.message_mode||"long"),w(K.content))}}).catch(()=>P("")).finally(()=>m(!1))},[t,n]);const _=async()=>{if(!r.trim()){P("");return}b(!0);try{const E={name:r.trim(),folder:l.trim()||null,activation:i,keywords:i==="keyword"||i==="mood"?u:[],message_mode:i==="message_mode"?p:null,content:v};n?(await A("/api/world-books",{method:"POST",body:E}),P("")):(await A(`/api/world-books/${t}`,{method:"PUT",body:E}),P(""))}catch(E){P(": "+E.message)}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:Y.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Y.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:_,disabled:y,children:o.jsx(Bo,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:x?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Y.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(By,{label:"",value:r,onChange:s,placeholder:""}),o.jsx(Uy,{value:l,onChange:a,folders:j}),o.jsx(Hy,{value:i,onChange:c}),i==="keyword"&&o.jsx(Ky,{keywords:u,onChange:f}),i==="mood"&&o.jsx(Xy,{selected:u,onChange:f}),i==="message_mode"&&o.jsx(Wy,{selected:p,onChange:h})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>{var E;return(E=R.current)==null?void 0:E.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:Y.textMuted}})}),o.jsx("input",{ref:R,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:z}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>C(!0),title:"",children:o.jsx(Gs,{size:13,style:{color:Y.accentDark}})})]})]}),o.jsx("textarea",{value:v,onChange:E=>w(E.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})]})}),k&&o.jsx(Yy,{value:v,onChange:w,onClose:()=>C(!1)}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const Pe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},wl=80;function Qy({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(f,p)=>{const h=n.current,v=r.current;if(!h)return;const w="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=w,h.style.transform=`translateX(${f}px)`,v){const y=Math.min(1,Math.abs(f)/wl);v.style.transition=w,v.style.opacity=`${y}`}s.current.current=f},a=()=>l(0),i=f=>{const p=f.touches[0],h=s.current;h.startX=p.clientX,h.startY=p.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=f=>{const p=s.current;if(!p.dragging)return;const h=f.touches[0],v=h.clientX-p.startX,w=h.clientY-p.startY;if(!p.locked){if(Math.abs(v)<5&&Math.abs(w)<5)return;p.locked=!0,p.isH=Math.abs(v)>Math.abs(w)}if(!p.isH){p.dragging=!1;return}f.preventDefault();const y=Math.max(-wl,Math.min(0,p.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/wl)}`),p.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-wl):l(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Gy({assistant:e,localAvatar:t,onTap:n}){var s;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:Pe.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:Pe.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:Pe.accentDark},children:((s=e.name)==null?void 0:s[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:Pe.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:Pe.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Qs,{size:16,style:{color:Pe.textMuted,flexShrink:0}})]})}function Jy(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState({}),[l,a]=d.useState(!0),[i,c]=d.useState(null),[u,f]=d.useState(null),p=w=>{f(w),setTimeout(()=>f(null),2e3)},h=()=>{a(!0),A("/api/assistants").then(async w=>{const y=w.assistants||[];n(y);const b={};await Promise.all(y.map(async x=>{const m=await Wr(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),s(b)}).catch(()=>p("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const v=async w=>{c(null);try{await A(`/api/assistants/${w.id}`,{method:"DELETE"}),n(y=>y.filter(b=>b.id!==w.id)),p("")}catch(y){p("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Pe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:Pe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Pe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Hr,{size:20,style:{color:Pe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Pe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(th,{size:36,style:{color:Pe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:Pe.textMuted},children:" + "})]}):t.map(w=>o.jsx(Qy,{onDelete:()=>c(w),children:o.jsx(Gy,{assistant:w,localAvatar:r[w.id],onTap:y=>e(`/assistants/${y.id}`)})},w.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>c(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:Pe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:w=>w.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:Pe.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:Pe.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)",color:Pe.text},onClick:()=>c(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>v(i),children:""})]})]})}),u&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:u})})]})}function qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Uo=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Vr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Cc(e){return"nodeType"in e}function dt(e){var t,n;return e?Vr(e)?e:Cc(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ec(e){const{Document:t}=dt(e);return e instanceof t}function qs(e){return Vr(e)?!1:e instanceof dt(e).HTMLElement}function ih(e){return e instanceof dt(e).SVGElement}function Xr(e){return e?Vr(e)?e.document:Cc(e)?Ec(e)?e:qs(e)||ih(e)?e.ownerDocument:document:document:document}const Kt=Uo?d.useLayoutEffect:d.useEffect;function Ho(e){const t=d.useRef(e);return Kt(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Zy(){const e=d.useRef(null),t=d.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Bs(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Kt(()=>{n.current!==e&&(n.current=e)},t),n}function Zs(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function po(e){const t=Ho(e),n=d.useRef(null),r=d.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function ho(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let ja={};function el(e,t){return d.useMemo(()=>{if(t)return t;const n=ja[e]==null?0:ja[e]+1;return ja[e]=n,e+"-"+n},[e,t])}function ch(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const i=Object.entries(a);for(const[c,u]of i){const f=l[c];f!=null&&(l[c]=f+e*u)}return l},{...t})}}const Dr=ch(1),mo=ch(-1);function ev(e){return"clientX"in e&&"clientY"in e}function Wo(e){if(!e)return!1;const{KeyboardEvent:t}=dt(e.target);return t&&e instanceof t}function tv(e){if(!e)return!1;const{TouchEvent:t}=dt(e.target);return t&&e instanceof t}function xo(e){if(tv(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ev(e)?{x:e.clientX,y:e.clientY}:null}const An=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[An.Translate.toString(e),An.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),od="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nv(e){return e.matches(od)?e:e.querySelector(od)}const rv={display:"none"};function sv(e){let{id:t,value:n}=e;return be.createElement("div",{id:t,style:rv},n)}function lv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function ov(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const uh=d.createContext(null);function av(e){const t=d.useContext(uh);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function iv(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:s,event:l}=r;e.forEach(a=>{var i;return(i=a[s])==null?void 0:i.call(a,l)})},[e]),t]}const cv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uv={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dv(e){let{announcements:t=uv,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=cv}=e;const{announce:l,announcement:a}=ov(),i=el("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),av(d.useMemo(()=>({onDragStart(p){let{active:h}=p;l(t.onDragStart({active:h}))},onDragMove(p){let{active:h,over:v}=p;t.onDragMove&&l(t.onDragMove({active:h,over:v}))},onDragOver(p){let{active:h,over:v}=p;l(t.onDragOver({active:h,over:v}))},onDragEnd(p){let{active:h,over:v}=p;l(t.onDragEnd({active:h,over:v}))},onDragCancel(p){let{active:h,over:v}=p;l(t.onDragCancel({active:h,over:v}))}}),[l,t])),!c)return null;const f=be.createElement(be.Fragment,null,be.createElement(sv,{id:r,value:s.draggable}),be.createElement(lv,{id:i,announcement:a}));return n?jr.createPortal(f,n):f}var Fe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function go(){}function ad(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function fv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Yt=Object.freeze({x:0,y:0});function pv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hv(e,t){const n=xo(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function mv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function xv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function gv(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function id(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const yv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=id(t,t.left,t.top),l=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const u=pv(id(c),s);l.push({id:i,data:{droppableContainer:a,value:u}})}}return l.sort(mv)};function vv(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=s-r,i=l-n;if(r<s&&n<l){const c=t.width*t.height,u=e.width*e.height,f=a*i,p=f/(c+u-f);return Number(p.toFixed(4))}return 0}const wv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const l of r){const{id:a}=l,i=n.get(a);if(i){const c=vv(i,t);c>0&&s.push({id:a,data:{droppableContainer:l,value:c}})}}return s.sort(xv)};function bv(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function dh(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Yt}function kv(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const jv=kv(1);function fh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Sv(e,t,n){const r=fh(t);if(!r)return e;const{scaleX:s,scaleY:l,x:a,y:i}=r,c=e.left-a-(1-s)*parseFloat(n),u=e.top-i-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,p=l?e.height/l:e.height;return{width:f,height:p,top:u,right:c+f,bottom:u+p,left:c}}const Nv={ignoreTransform:!1};function Kr(e,t){t===void 0&&(t=Nv);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=dt(e).getComputedStyle(e);u&&(n=Sv(n,u,f))}const{top:r,left:s,width:l,height:a,bottom:i,right:c}=n;return{top:r,left:s,width:l,height:a,bottom:i,right:c}}function cd(e){return Kr(e,{ignoreTransform:!0})}function Cv(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ev(e,t){return t===void 0&&(t=dt(e).getComputedStyle(e)),t.position==="fixed"}function Mv(e,t){t===void 0&&(t=dt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=t[s];return typeof l=="string"?n.test(l):!1})}function Mc(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ec(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!qs(s)||ih(s)||n.includes(s))return n;const l=dt(e).getComputedStyle(s);return s!==e&&Mv(s,l)&&n.push(s),Ev(s,l)?n:r(s.parentNode)}return e?r(e):n}function ph(e){const[t]=Mc(e,1);return t!=null?t:null}function Sa(e){return!Uo||!e?null:Vr(e)?e:Cc(e)?Ec(e)||e===Xr(e).scrollingElement?window:qs(e)?e:null:null}function hh(e){return Vr(e)?e.scrollX:e.scrollLeft}function mh(e){return Vr(e)?e.scrollY:e.scrollTop}function Ei(e){return{x:hh(e),y:mh(e)}}var Xe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xe||(Xe={}));function xh(e){return!Uo||!e?!1:e===document.scrollingElement}function gh(e){const t={x:0,y:0},n=xh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const Tv={x:.2,y:.2};function Dv(e,t,n,r,s){let{top:l,left:a,right:i,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=Tv);const{isTop:u,isBottom:f,isLeft:p,isRight:h}=gh(e),v={x:0,y:0},w={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!u&&l<=t.top+y.height?(v.y=Xe.Backward,w.y=r*Math.abs((t.top+y.height-l)/y.height)):!f&&c>=t.bottom-y.height&&(v.y=Xe.Forward,w.y=r*Math.abs((t.bottom-y.height-c)/y.height)),!h&&i>=t.right-y.width?(v.x=Xe.Forward,w.x=r*Math.abs((t.right-y.width-i)/y.width)):!p&&a<=t.left+y.width&&(v.x=Xe.Backward,w.x=r*Math.abs((t.left+y.width-a)/y.width)),{direction:v,speed:w}}function _v(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function yh(e){return e.reduce((t,n)=>Dr(t,Ei(n)),Yt)}function Rv(e){return e.reduce((t,n)=>t+hh(n),0)}function zv(e){return e.reduce((t,n)=>t+mh(n),0)}function vh(e,t){if(t===void 0&&(t=Kr),!e)return;const{top:n,left:r,bottom:s,right:l}=t(e);ph(e)&&(s<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Pv=[["x",["left","right"],Rv],["y",["top","bottom"],zv]];class Tc{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Mc(n),s=yh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,i]of Pv)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=i(r),f=s[l]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ys{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Iv(e){const{EventTarget:t}=dt(e);return e instanceof t?e:Xr(e)}function Na(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Rt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rt||(Rt={}));function ud(e){e.preventDefault()}function Lv(e){e.stopPropagation()}var de;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(de||(de={}));const wh={start:[de.Space,de.Enter],cancel:[de.Esc],end:[de.Space,de.Enter,de.Tab]},Ov=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case de.Right:return{...n,x:n.x+25};case de.Left:return{...n,x:n.x-25};case de.Down:return{...n,y:n.y+25};case de.Up:return{...n,y:n.y-25}}};class bh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ys(Xr(n)),this.windowListeners=new ys(dt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rt.Resize,this.handleCancel),this.windowListeners.add(Rt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&vh(r),n(Yt)}handleKeyDown(t){if(Wo(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:l=wh,coordinateGetter:a=Ov,scrollBehavior:i="smooth"}=s,{code:c}=t;if(l.end.includes(c)){this.handleEnd(t);return}if(l.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:Yt;this.referenceCoordinates||(this.referenceCoordinates=f);const p=a(t,{active:n,context:r.current,currentCoordinates:f});if(p){const h=mo(p,f),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const y of w){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:S,maxScroll:j,minScroll:N}=gh(y),k=_v(y),C={x:Math.min(b===de.Right?k.right-k.width/2:k.right,Math.max(b===de.Right?k.left:k.left+k.width/2,p.x)),y:Math.min(b===de.Down?k.bottom-k.height/2:k.bottom,Math.max(b===de.Down?k.top:k.top+k.height/2,p.y))},R=b===de.Right&&!m||b===de.Left&&!g,z=b===de.Down&&!S||b===de.Up&&!x;if(R&&C.x!==p.x){const P=y.scrollLeft+h.x,_=b===de.Right&&P<=j.x||b===de.Left&&P>=N.x;if(_&&!h.y){y.scrollTo({left:P,behavior:i});return}_?v.x=y.scrollLeft-P:v.x=b===de.Right?y.scrollLeft-j.x:y.scrollLeft-N.x,v.x&&y.scrollBy({left:-v.x,behavior:i});break}else if(z&&C.y!==p.y){const P=y.scrollTop+h.y,_=b===de.Down&&P<=j.y||b===de.Up&&P>=N.y;if(_&&!h.x){y.scrollTo({top:P,behavior:i});return}_?v.y=y.scrollTop-P:v.y=b===de.Down?y.scrollTop-j.y:y.scrollTop-N.y,v.y&&y.scrollBy({top:-v.y,behavior:i});break}}this.handleMove(t,Dr(mo(p,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=wh,onActivation:s}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=l.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function dd(e){return!!(e&&"distance"in e)}function fd(e){return!!(e&&"delay"in e)}class Dc{constructor(t,n,r){var s;r===void 0&&(r=Iv(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=Xr(a),this.documentListeners=new ys(this.document),this.listeners=new ys(r),this.windowListeners=new ys(dt(a)),this.initialCoordinates=(s=xo(l))!=null?s:Yt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Rt.Resize,this.handleCancel),this.windowListeners.add(Rt.DragStart,ud),this.windowListeners.add(Rt.VisibilityChange,this.handleCancel),this.windowListeners.add(Rt.ContextMenu,ud),this.documentListeners.add(Rt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dd(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rt.Click,Lv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:i}}=l;if(!s)return;const c=(n=xo(t))!=null?n:Yt,u=mo(s,c);if(!r&&i){if(dd(i)){if(i.tolerance!=null&&Na(u,i.tolerance))return this.handleCancel();if(Na(u,i.distance))return this.handleStart()}if(fd(i)&&Na(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===de.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Av={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _c extends Dc{constructor(t){const{event:n}=t,r=Xr(n.target);super(t,Av,r)}}_c.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const $v={move:{name:"mousemove"},end:{name:"mouseup"}};var Mi;(function(e){e[e.RightClick=2]="RightClick"})(Mi||(Mi={}));class Fv extends Dc{constructor(t){super(t,$v,Xr(t.event.target))}}Fv.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Mi.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ca={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kh extends Dc{constructor(t){super(t,Ca)}static setup(){return window.addEventListener(Ca.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ca.move.name,t)};function t(){}}}kh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var vs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vs||(vs={}));var yo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yo||(yo={}));function Bv(e){let{acceleration:t,activator:n=vs.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:i=yo.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:p,threshold:h}=e;const v=Hv({delta:p,disabled:!l}),[w,y]=Zy(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case vs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case vs.DraggableRect:return s}},[n,s,c]),g=d.useRef(null),S=d.useCallback(()=>{const N=g.current;if(!N)return;const k=b.current.x*x.current.x,C=b.current.y*x.current.y;N.scrollBy(k,C)},[]),j=d.useMemo(()=>i===yo.TreeOrder?[...u].reverse():u,[i,u]);d.useEffect(()=>{if(!l||!u.length||!m){y();return}for(const N of j){if((r==null?void 0:r(N))===!1)continue;const k=u.indexOf(N),C=f[k];if(!C)continue;const{direction:R,speed:z}=Dv(N,C,m,t,h);for(const P of["x","y"])v[P][R[P]]||(z[P]=0,R[P]=0);if(z.x>0||z.y>0){y(),g.current=N,w(S,a),b.current=z,x.current=R;return}}b.current={x:0,y:0},x.current={x:0,y:0},y()},[t,S,r,y,l,a,JSON.stringify(m),JSON.stringify(v),w,u,j,f,JSON.stringify(h)])}const Uv={x:{[Xe.Backward]:!1,[Xe.Forward]:!1},y:{[Xe.Backward]:!1,[Xe.Forward]:!1}};function Hv(e){let{delta:t,disabled:n}=e;const r=ho(t);return Zs(s=>{if(n||!r||!s)return Uv;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xe.Backward]:s.x[Xe.Backward]||l.x===-1,[Xe.Forward]:s.x[Xe.Forward]||l.x===1},y:{[Xe.Backward]:s.y[Xe.Backward]||l.y===-1,[Xe.Forward]:s.y[Xe.Forward]||l.y===1}}},[n,t,r])}function Wv(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Zs(s=>{var l;return t==null?null:(l=r!=null?r:s)!=null?l:null},[r,t])}function Vv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var Us;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Us||(Us={}));var Ti;(function(e){e.Optimized="optimized"})(Ti||(Ti={}));const pd=new Map;function Xv(e,t){let{dragging:n,dependencies:r,config:s}=t;const[l,a]=d.useState(null),{frequency:i,measure:c,strategy:u}=s,f=d.useRef(e),p=b(),h=Bs(p),v=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),w=d.useRef(null),y=Zs(x=>{if(p&&!n)return pd;if(!x||x===pd||f.current!==e||l!=null){const m=new Map;for(let g of e){if(!g)continue;if(l&&l.length>0&&!l.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const S=g.node.current,j=S?new Tc(c(S),S):null;g.rect.current=j,j&&m.set(g.id,j)}return m}return x},[e,l,n,p,c]);return d.useEffect(()=>{f.current=e},[e]),d.useEffect(()=>{p||v()},[n,p]),d.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),d.useEffect(()=>{p||typeof i!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},i))},[i,p,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:l!=null};function b(){switch(u){case Us.Always:return!1;case Us.BeforeDragging:return n;default:return!n}}}function Rc(e,t){return Zs(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Kv(e,t){return Rc(e,t)}function Yv(e){let{callback:t,disabled:n}=e;const r=Ho(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Vo(e){let{callback:t,disabled:n}=e;const r=Ho(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qv(e){return new Tc(Kr(e),e)}function hd(e,t,n){t===void 0&&(t=Qv);const[r,s]=d.useState(null);function l(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c!=null?c:n)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const a=Yv({callback(c){if(e)for(const u of c){const{type:f,target:p}=u;if(f==="childList"&&p instanceof HTMLElement&&p.contains(e)){l();break}}}}),i=Vo({callback:l});return Kt(()=>{l(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function Gv(e){const t=Rc(e);return dh(e,t)}const md=[];function Jv(e){const t=d.useRef(e),n=Zs(r=>e?r&&r!==md&&e&&t.current&&e.parentNode===t.current.parentNode?r:Mc(e):md,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function qv(e){const[t,n]=d.useState(null),r=d.useRef(e),s=d.useCallback(l=>{const a=Sa(l.target);a&&n(i=>i?(i.set(a,Ei(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const l=r.current;if(e!==l){a(l);const i=e.map(c=>{const u=Sa(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Ei(u)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(l)};function a(i){i.forEach(c=>{const u=Sa(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Dr(l,a),Yt):yh(e):Yt,[e,t])}function xd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Yt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?mo(e,n.current):Yt}function Zv(e){d.useEffect(()=>{if(!Uo)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function e1(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:l}=r;return n[s]=a=>{l(a,t)},n},{}),[e,t])}function jh(e){return d.useMemo(()=>e?Cv(e):null,[e])}const gd=[];function t1(e,t){t===void 0&&(t=Kr);const[n]=e,r=jh(n?dt(n):null),[s,l]=d.useState(gd);function a(){l(()=>e.length?e.map(c=>xh(c)?r:new Tc(t(c),c)):gd)}const i=Vo({callback:a});return Kt(()=>{i==null||i.disconnect(),a(),e.forEach(c=>i==null?void 0:i.observe(c))},[e]),s}function Sh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qs(t)?t:e}function n1(e){let{measure:t}=e;const[n,r]=d.useState(null),s=d.useCallback(u=>{for(const{target:f}of u)if(qs(f)){r(p=>{const h=t(f);return p?{...p,width:h.width,height:h.height}:h});break}},[t]),l=Vo({callback:s}),a=d.useCallback(u=>{const f=Sh(u);l==null||l.disconnect(),f&&(l==null||l.observe(f)),r(f?t(f):null)},[t,l]),[i,c]=po(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:c}),[n,i,c])}const r1=[{sensor:_c,options:{}},{sensor:bh,options:{}}],s1={current:{}},Bl={draggable:{measure:cd},droppable:{measure:cd,strategy:Us.WhileDragging,frequency:Ti.Optimized},dragOverlay:{measure:Kr}};class ws extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const l1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ws,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:go},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bl,measureDroppableContainers:go,windowRect:null,measuringScheduled:!1},Nh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:go,draggableNodes:new Map,over:null,measureDroppableContainers:go},tl=d.createContext(Nh),Ch=d.createContext(l1);function o1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ws}}}function a1(e,t){switch(t.type){case Fe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new ws(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Fe.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new ws(e.droppable.containers);return a.set(n,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case Fe.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new ws(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function i1(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=d.useContext(tl),l=ho(r),a=ho(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!Wo(l)||document.activeElement===l.target)return;const i=s.get(a);if(!i)return;const{activatorNode:c,node:u}=i;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const p=nv(f);if(p){p.focus();break}}})}},[r,t,s,a,l]),null}function Eh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,l)=>l({transform:s,...r}),n):n}function c1(e){return d.useMemo(()=>({draggable:{...Bl.draggable,...e==null?void 0:e.draggable},droppable:{...Bl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function u1(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const l=d.useRef(!1),{x:a,y:i}=typeof s=="boolean"?{x:s,y:s}:s;Kt(()=>{if(!a&&!i||!t){l.current=!1;return}if(l.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),p=dh(f,r);if(a||(p.x=0),i||(p.y=0),l.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const h=ph(u);h&&h.scrollBy({top:p.y,left:p.x})}},[t,a,i,r,n])}const Xo=d.createContext({...Yt,scaleX:1,scaleY:1});var kn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(kn||(kn={}));const d1=d.memo(function(t){var n,r,s,l;let{id:a,accessibility:i,autoScroll:c=!0,children:u,sensors:f=r1,collisionDetection:p=wv,measuring:h,modifiers:v,...w}=t;const y=d.useReducer(a1,void 0,o1),[b,x]=y,[m,g]=iv(),[S,j]=d.useState(kn.Uninitialized),N=S===kn.Initialized,{draggable:{active:k,nodes:C,translate:R},droppable:{containers:z}}=b,P=k!=null?C.get(k):null,_=d.useRef({initial:null,translated:null}),E=d.useMemo(()=>{var tt;return k!=null?{id:k,data:(tt=P==null?void 0:P.data)!=null?tt:s1,rect:_}:null},[k,P]),B=d.useRef(null),[K,ie]=d.useState(null),[se,I]=d.useState(null),U=Bs(w,Object.values(w)),H=el("DndDescribedBy",a),q=d.useMemo(()=>z.getEnabled(),[z]),Q=c1(h),{droppableRects:fe,measureDroppableContainers:he,measuringScheduled:Me}=Xv(q,{dragging:N,dependencies:[R.x,R.y],config:Q.droppable}),te=Wv(C,k),ee=d.useMemo(()=>se?xo(se):null,[se]),Oe=Fh(),He=Kv(te,Q.draggable.measure);u1({activeNode:k!=null?C.get(k):null,config:Oe.layoutShiftCompensation,initialRect:He,measure:Q.draggable.measure});const G=hd(te,Q.draggable.measure,He),ze=hd(te?te.parentElement:null),Te=d.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=z.getNodeFor((n=Te.current.over)==null?void 0:n.id),me=n1({measure:Q.dragOverlay.measure}),Ye=(r=me.nodeRef.current)!=null?r:te,ge=N?(s=me.rect)!=null?s:G:null,Mt=!!(me.nodeRef.current&&me.rect),mn=Gv(Mt?null:G),J=jh(Ye?dt(Ye):null),ce=Jv(N?Ze!=null?Ze:te:null),je=t1(ce),De=Eh(v,{transform:{x:R.x-mn.x,y:R.y-mn.y,scaleX:1,scaleY:1},activatorEvent:se,active:E,activeNodeRect:G,containerNodeRect:ze,draggingNodeRect:ge,over:Te.current.over,overlayNodeRect:me.rect,scrollableAncestors:ce,scrollableAncestorRects:je,windowRect:J}),Tt=ee?Dr(ee,R):null,Ae=qv(ce),Un=xd(Ae),M=xd(Ae,[G]),$=Dr(De,Un),V=ge?jv(ge,De):null,et=E&&V?p({active:E,collisionRect:V,droppableRects:fe,droppableContainers:q,pointerCoordinates:Tt}):null,L=gv(et,"id"),[ue,le]=d.useState(null),_e=Mt?De:Dr(De,M),Dt=bv(_e,(l=ue==null?void 0:ue.rect)!=null?l:null,G),nn=d.useRef(null),Ko=d.useCallback((tt,yt)=>{let{sensor:vt,options:xn}=yt;if(B.current==null)return;const _t=C.get(B.current);if(!_t)return;const wt=tt.nativeEvent,Qt=new vt({active:B.current,activeNode:_t,event:wt,options:xn,context:Te,onAbort(Qe){if(!C.get(Qe))return;const{onDragAbort:Gt}=U.current,rn={id:Qe};Gt==null||Gt(rn),m({type:"onDragAbort",event:rn})},onPending(Qe,gn,Gt,rn){if(!C.get(Qe))return;const{onDragPending:Qr}=U.current,yn={id:Qe,constraint:gn,initialCoordinates:Gt,offset:rn};Qr==null||Qr(yn),m({type:"onDragPending",event:yn})},onStart(Qe){const gn=B.current;if(gn==null)return;const Gt=C.get(gn);if(!Gt)return;const{onDragStart:rn}=U.current,Yr={activatorEvent:wt,active:{id:gn,data:Gt.data,rect:_}};jr.unstable_batchedUpdates(()=>{rn==null||rn(Yr),j(kn.Initializing),x({type:Fe.DragStart,initialCoordinates:Qe,active:gn}),m({type:"onDragStart",event:Yr}),ie(nn.current),I(wt)})},onMove(Qe){x({type:Fe.DragMove,coordinates:Qe})},onEnd:ar(Fe.DragEnd),onCancel:ar(Fe.DragCancel)});nn.current=Qt;function ar(Qe){return async function(){const{active:Gt,collisions:rn,over:Yr,scrollAdjustedTranslate:Qr}=Te.current;let yn=null;if(Gt&&Qr){const{cancelDrop:Gr}=U.current;yn={activatorEvent:wt,active:Gt,collisions:rn,delta:Qr,over:Yr},Qe===Fe.DragEnd&&typeof Gr=="function"&&await Promise.resolve(Gr(yn))&&(Qe=Fe.DragCancel)}B.current=null,jr.unstable_batchedUpdates(()=>{x({type:Qe}),j(kn.Uninitialized),le(null),ie(null),I(null),nn.current=null;const Gr=Qe===Fe.DragEnd?"onDragEnd":"onDragCancel";if(yn){const Qo=U.current[Gr];Qo==null||Qo(yn),m({type:Gr,event:yn})}})}}},[C]),Yo=d.useCallback((tt,yt)=>(vt,xn)=>{const _t=vt.nativeEvent,wt=C.get(xn);if(B.current!==null||!wt||_t.dndKit||_t.defaultPrevented)return;const Qt={active:wt};tt(vt,yt.options,Qt)===!0&&(_t.dndKit={capturedBy:yt.sensor},B.current=xn,Ko(vt,yt))},[C,Ko]),Ic=Vv(f,Yo);Zv(f),Kt(()=>{G&&S===kn.Initializing&&j(kn.Initialized)},[G,S]),d.useEffect(()=>{const{onDragMove:tt}=U.current,{active:yt,activatorEvent:vt,collisions:xn,over:_t}=Te.current;if(!yt||!vt)return;const wt={active:yt,activatorEvent:vt,collisions:xn,delta:{x:$.x,y:$.y},over:_t};jr.unstable_batchedUpdates(()=>{tt==null||tt(wt),m({type:"onDragMove",event:wt})})},[$.x,$.y]),d.useEffect(()=>{const{active:tt,activatorEvent:yt,collisions:vt,droppableContainers:xn,scrollAdjustedTranslate:_t}=Te.current;if(!tt||B.current==null||!yt||!_t)return;const{onDragOver:wt}=U.current,Qt=xn.get(L),ar=Qt&&Qt.rect.current?{id:Qt.id,rect:Qt.rect.current,data:Qt.data,disabled:Qt.disabled}:null,Qe={active:tt,activatorEvent:yt,collisions:vt,delta:{x:_t.x,y:_t.y},over:ar};jr.unstable_batchedUpdates(()=>{le(ar),wt==null||wt(Qe),m({type:"onDragOver",event:Qe})})},[L]),Kt(()=>{Te.current={activatorEvent:se,active:E,activeNode:te,collisionRect:V,collisions:et,droppableRects:fe,draggableNodes:C,draggingNode:Ye,draggingNodeRect:ge,droppableContainers:z,over:ue,scrollableAncestors:ce,scrollAdjustedTranslate:$},_.current={initial:ge,translated:V}},[E,te,et,V,C,Ye,ge,fe,z,ue,ce,$]),Bv({...Oe,delta:R,draggingRect:V,pointerCoordinates:Tt,scrollableAncestors:ce,scrollableAncestorRects:je});const Ah=d.useMemo(()=>({active:E,activeNode:te,activeNodeRect:G,activatorEvent:se,collisions:et,containerNodeRect:ze,dragOverlay:me,draggableNodes:C,droppableContainers:z,droppableRects:fe,over:ue,measureDroppableContainers:he,scrollableAncestors:ce,scrollableAncestorRects:je,measuringConfiguration:Q,measuringScheduled:Me,windowRect:J}),[E,te,G,se,et,ze,me,C,z,fe,ue,he,ce,je,Q,Me,J]),$h=d.useMemo(()=>({activatorEvent:se,activators:Ic,active:E,activeNodeRect:G,ariaDescribedById:{draggable:H},dispatch:x,draggableNodes:C,over:ue,measureDroppableContainers:he}),[se,Ic,E,G,x,H,C,ue,he]);return be.createElement(uh.Provider,{value:g},be.createElement(tl.Provider,{value:$h},be.createElement(Ch.Provider,{value:Ah},be.createElement(Xo.Provider,{value:Dt},u)),be.createElement(i1,{disabled:(i==null?void 0:i.restoreFocus)===!1})),be.createElement(dv,{...i,hiddenTextDescribedById:H}));function Fh(){const tt=(K==null?void 0:K.autoScrollEnabled)===!1,yt=typeof c=="object"?c.enabled===!1:c===!1,vt=N&&!tt&&!yt;return typeof c=="object"?{...c,enabled:vt}:{enabled:vt}}}),f1=d.createContext(null),yd="button",p1="Draggable";function h1(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const l=el(p1),{activators:a,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:p,over:h}=d.useContext(tl),{role:v=yd,roleDescription:w="draggable",tabIndex:y=0}=s!=null?s:{},b=(c==null?void 0:c.id)===t,x=d.useContext(b?Xo:f1),[m,g]=po(),[S,j]=po(),N=e1(a,t),k=Bs(n);Kt(()=>(p.set(t,{id:t,key:l,node:m,activatorNode:S,data:k}),()=>{const R=p.get(t);R&&R.key===l&&p.delete(t)}),[p,t]);const C=d.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":b&&v===yd?!0:void 0,"aria-roledescription":w,"aria-describedby":f.draggable}),[r,v,y,b,w,f.draggable]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:C,isDragging:b,listeners:r?void 0:N,node:m,over:h,setNodeRef:g,setActivatorNodeRef:j,transform:x}}function Mh(){return d.useContext(Ch)}const m1="Droppable",x1={timeout:25};function g1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const l=el(m1),{active:a,dispatch:i,over:c,measureDroppableContainers:u}=d.useContext(tl),f=d.useRef({disabled:n}),p=d.useRef(!1),h=d.useRef(null),v=d.useRef(null),{disabled:w,updateMeasurementsFor:y,timeout:b}={...x1,...s},x=Bs(y!=null?y:r),m=d.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),v.current=null},b)},[b]),g=Vo({callback:m,disabled:w||!a}),S=d.useCallback((C,R)=>{g&&(R&&(g.unobserve(R),p.current=!1),C&&g.observe(C))},[g]),[j,N]=po(S),k=Bs(t);return d.useEffect(()=>{!g||!j.current||(g.disconnect(),p.current=!1,g.observe(j.current))},[j,g]),d.useEffect(()=>(i({type:Fe.RegisterDroppable,element:{id:r,key:l,disabled:n,node:j,rect:h,data:k}}),()=>i({type:Fe.UnregisterDroppable,key:l,id:r})),[r]),d.useEffect(()=>{n!==f.current.disabled&&(i({type:Fe.SetDroppableDisabled,id:r,key:l,disabled:n}),f.current.disabled=n)},[r,l,n,i]),{active:a,rect:h,isOver:(c==null?void 0:c.id)===r,node:j,over:c,setNodeRef:N}}function y1(e){let{animation:t,children:n}=e;const[r,s]=d.useState(null),[l,a]=d.useState(null),i=ho(n);return!n&&!r&&i&&s(i),Kt(()=>{if(!l)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,l)).then(()=>{s(null)})},[t,r,l]),be.createElement(be.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const v1={x:0,y:0,scaleX:1,scaleY:1};function w1(e){let{children:t}=e;return be.createElement(tl.Provider,{value:Nh},be.createElement(Xo.Provider,{value:v1},t))}const b1={position:"fixed",touchAction:"none"},k1=e=>Wo(e)?"transform 250ms ease":void 0,j1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:l,className:a,rect:i,style:c,transform:u,transition:f=k1}=e;if(!i)return null;const p=s?u:{...u,scaleX:1,scaleY:1},h={...b1,width:i.width,height:i.height,top:i.top,left:i.left,transform:An.Transform.toString(p),transformOrigin:s&&r?hv(r,i):void 0,transition:typeof f=="function"?f(r):f,...c};return be.createElement(n,{className:a,style:h,ref:t},l)}),S1=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:l,className:a}=e;if(l!=null&&l.active)for(const[i,c]of Object.entries(l.active))c!==void 0&&(s[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,c));if(l!=null&&l.dragOverlay)for(const[i,c]of Object.entries(l.dragOverlay))c!==void 0&&r.node.style.setProperty(i,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},N1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:An.Transform.toString(t)},{transform:An.Transform.toString(n)}]},C1={duration:250,easing:"ease",keyframes:N1,sideEffects:S1({styles:{active:{opacity:"0"}}})};function E1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return Ho((l,a)=>{if(t===null)return;const i=n.get(l);if(!i)return;const c=i.node.current;if(!c)return;const u=Sh(a);if(!u)return;const{transform:f}=dt(a).getComputedStyle(a),p=fh(f);if(!p)return;const h=typeof t=="function"?t:M1(t);return vh(c,s.draggable.measure),h({active:{id:l,data:i.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:p})})}function M1(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...C1,...e};return l=>{let{active:a,dragOverlay:i,transform:c,...u}=l;if(!t)return;const f={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},p={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/i.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/i.rect.height:1},h={x:c.x-f.x,y:c.y-f.y,...p},v=s({...u,active:a,dragOverlay:i,transform:{initial:c,final:h}}),[w]=v,y=v[v.length-1];if(JSON.stringify(w)===JSON.stringify(y))return;const b=r==null?void 0:r({active:a,dragOverlay:i,...u}),x=i.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let vd=0;function T1(e){return d.useMemo(()=>{if(e!=null)return vd++,vd},[e])}const D1=be.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:l,modifiers:a,wrapperElement:i="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:v,draggableNodes:w,droppableContainers:y,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:S,windowRect:j}=Mh(),N=d.useContext(Xo),k=T1(p==null?void 0:p.id),C=Eh(a,{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:v,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:S,transform:N,windowRect:j}),R=Rc(h),z=E1({config:r,draggableNodes:w,droppableContainers:y,measuringConfiguration:m}),P=R?b.setRef:void 0;return be.createElement(w1,null,be.createElement(y1,{animation:z},p&&k?be.createElement(j1,{key:k,id:p.id,ref:P,as:i,activatorEvent:f,adjustScale:t,className:c,transition:l,rect:R,style:{zIndex:u,...s},transform:C},n):null))});function zc(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function _1(e,t){return e.reduce((n,r,s)=>{const l=t.get(r);return l&&(n[s]=l),n},Array(e.length))}function bl(e){return e!==null&&e>=0}function R1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function z1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Th=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const l=zc(t,r,n),a=t[s],i=l[s];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},kl={scaleX:1,scaleY:1},P1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:l,overIndex:a}=e;const i=(t=l[n])!=null?t:r;if(!i)return null;if(s===n){const u=l[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...kl}:null}const c=I1(l,s,n);return s>n&&s<=a?{x:0,y:-i.height-c,...kl}:s<n&&s>=a?{x:0,y:i.height+c,...kl}:{x:0,y:0,...kl}};function I1(e,t,n){const r=e[t],s=e[t-1],l=e[t+1];return r?n<t?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Dh="Sortable",_h=be.createContext({activeIndex:-1,containerId:Dh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Th,disabled:{draggable:!1,droppable:!1}});function L1(e){let{children:t,id:n,items:r,strategy:s=Th,disabled:l=!1}=e;const{active:a,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:f}=Mh(),p=el(Dh,n),h=i.rect!==null,v=d.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),w=a!=null,y=a?v.indexOf(a.id):-1,b=u?v.indexOf(u.id):-1,x=d.useRef(v),m=!R1(v,x.current),g=b!==-1&&y===-1||m,S=z1(l);Kt(()=>{m&&w&&f(v)},[m,v,w,f]),d.useEffect(()=>{x.current=v},[v]);const j=d.useMemo(()=>({activeIndex:y,containerId:p,disabled:S,disableTransforms:g,items:v,overIndex:b,useDragOverlay:h,sortedRects:_1(v,c),strategy:s}),[y,p,S.draggable,S.droppable,g,v,b,c,h,s]);return be.createElement(_h.Provider,{value:j},t)}const O1=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return zc(n,r,s).indexOf(t)},A1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:l,newIndex:a,previousItems:i,previousContainerId:c,transition:u}=e;return!u||!r||i!==l&&s===a?!1:n?!0:a!==s&&t===c},$1={duration:200,easing:"ease"},Rh="transform",F1=An.Transition.toString({property:Rh,duration:0,easing:"linear"}),B1={roleDescription:"sortable"};function U1(e){let{disabled:t,index:n,node:r,rect:s}=e;const[l,a]=d.useState(null),i=d.useRef(n);return Kt(()=>{if(!t&&n!==i.current&&r.current){const c=s.current;if(c){const u=Kr(r.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&a(f)}}n!==i.current&&(i.current=n)},[t,n,r,s]),d.useEffect(()=>{l&&a(null)},[l]),l}function H1(e){let{animateLayoutChanges:t=A1,attributes:n,disabled:r,data:s,getNewIndex:l=O1,id:a,strategy:i,resizeObserverConfig:c,transition:u=$1}=e;const{items:f,containerId:p,activeIndex:h,disabled:v,disableTransforms:w,sortedRects:y,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(_h),g=W1(r,v),S=f.indexOf(a),j=d.useMemo(()=>({sortable:{containerId:p,index:S,items:f},...s}),[p,s,S,f]),N=d.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:k,node:C,isOver:R,setNodeRef:z}=g1({id:a,data:j,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:P,activatorEvent:_,activeNodeRect:E,attributes:B,setNodeRef:K,listeners:ie,isDragging:se,over:I,setActivatorNodeRef:U,transform:H}=h1({id:a,data:j,attributes:{...B1,...n},disabled:g.draggable}),q=qy(z,K),Q=!!P,fe=Q&&!w&&bl(h)&&bl(b),he=!x&&se,Me=he&&fe?H:null,te=i!=null?i:m,ee=fe?Me!=null?Me:te({rects:y,activeNodeRect:E,activeIndex:h,overIndex:b,index:S}):null,Oe=bl(h)&&bl(b)?l({id:a,items:f,activeIndex:h,overIndex:b}):S,He=P==null?void 0:P.id,G=d.useRef({activeId:He,items:f,newIndex:Oe,containerId:p}),ze=f!==G.current.items,Te=t({active:P,containerId:p,isDragging:se,isSorting:Q,id:a,index:S,items:f,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:G.current.activeId!=null}),Ze=U1({disabled:!Te,index:S,node:C,rect:k});return d.useEffect(()=>{Q&&G.current.newIndex!==Oe&&(G.current.newIndex=Oe),p!==G.current.containerId&&(G.current.containerId=p),f!==G.current.items&&(G.current.items=f)},[Q,Oe,p,f]),d.useEffect(()=>{if(He===G.current.activeId)return;if(He!=null&&G.current.activeId==null){G.current.activeId=He;return}const Ye=setTimeout(()=>{G.current.activeId=He},50);return()=>clearTimeout(Ye)},[He]),{active:P,activeIndex:h,attributes:B,data:j,rect:k,index:S,newIndex:Oe,items:f,isOver:R,isSorting:Q,isDragging:se,listeners:ie,node:C,overIndex:b,over:I,setNodeRef:q,setActivatorNodeRef:U,setDroppableNodeRef:z,setDraggableNodeRef:K,transform:Ze!=null?Ze:ee,transition:me()};function me(){if(Ze||ze&&G.current.newIndex===S)return F1;if(!(he&&!Wo(_)||!u)&&(Q||Te))return An.Transition.toString({...u,property:Rh})}}function W1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}de.Down,de.Right,de.Up,de.Left;const T={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function wd({label:e,value:t,onChange:n,placeholder:r,rows:s,onExpand:l,onHistory:a}){const i=d.useRef(null),c=u=>{var h;const f=(h=u.target.files)==null?void 0:h[0];if(!f)return;const p=new FileReader;p.onload=v=>n(v.target.result||""),p.readAsText(f),u.target.value=""};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:a,children:o.jsx(Sy,{size:13,style:{color:T.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},children:o.jsx(Fo,{size:13,style:{color:T.textMuted}})}),o.jsx("input",{ref:i,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:c}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:l,children:o.jsx(Gs,{size:13,style:{color:T.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:u=>n(u.target.value),placeholder:r,rows:s||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]})}function Ea({label:e,value:t,onChange:n,presets:r}){const[s,l]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text},onClick:()=>l(!s),children:[o.jsx("span",{style:{color:a?T.text:T.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:T.textMuted,transform:s?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:T.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:T.textMuted},onClick:()=>{n(null),l(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:T.text},onClick:()=>{n(i.id),l(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx(Fs,{size:14,style:{color:T.accentDark}})]},i.id))]})]})]})}function Ma({value:e,onChange:t,onClose:n,title:r,placeholder:s}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:T.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ar,{size:18,style:{color:T.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:l=>t(l.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:T.bg,color:T.text},placeholder:s||""})]})}function V1({items:e,currentContent:t,onApply:n,onClose:r}){const[s,l]=d.useState("current"),[a,i]=d.useState(null),c=f=>f?new Date(f).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",u=async()=>{if(s==="current"){r();return}const f=e.find(p=>p.id===s);f&&await n(f.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:T.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx(Ar,{size:18,style:{color:T.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:T.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:T.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:T.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx(Ar,{size:18,style:{color:T.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:T.bg},children:[o.jsx("button",{onClick:()=>l("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s==="current"?T.accentDark:T.bg,boxShadow:s==="current"?"none":"var(--icon-inset)"},children:s==="current"&&o.jsx(Fs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:T.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:T.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:T.textMuted},children:""}),e.map(f=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s===f.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:T.bg},children:[o.jsx("button",{onClick:()=>l(f.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s===f.id?T.accentDark:T.bg,boxShadow:s===f.id?"none":"var(--icon-inset)"},children:s===f.id&&o.jsx(Fs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(f),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:T.text},children:[" ",f.version]}),o.jsx("span",{className:"text-[10px]",style:{color:T.textMuted},children:c(f.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:T.textMuted},children:f.content})]})]},f.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:u,children:""})})]})}function zh(e){return e==="always"?"":e==="keyword"?"":e==="message_mode"?"":""}function Ph(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function X1({item:e,book:t,position:n,sectionList:r,onRemove:s,onChangePosition:l}){const{attributes:a,listeners:i,setNodeRef:c,transform:u,transition:f,isDragging:p}=H1({id:String(e.id)}),h={transform:An.Transform.toString(u),transition:f,opacity:p?.35:1,zIndex:p?10:void 0};return t?o.jsxs("div",{ref:c,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:p?"grabbing":"grab"},children:o.jsx(sh,{size:14,style:{color:T.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:T.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:T.textMuted},children:[zh(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:T.textMuted},onClick:()=>l(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>s(e.id),children:o.jsx(Js,{size:14,style:{color:T.textMuted}})})]}):null}function K1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[s,l]=d.useState(new Set(t)),a={};e.forEach(u=>{const f=u.folder||"";a[f]||(a[f]=[]),a[f].push(u)});const i=u=>{l(f=>{const p=new Set(f);return p.has(u)?p.delete(u):p.add(u),p})},c=u=>{const f=u.every(p=>s.has(p.id));l(p=>{const h=new Set(p);return f?u.forEach(v=>h.delete(v.id)):u.forEach(v=>h.add(v.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:T.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:T.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Js,{size:20,style:{color:T.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([u,f])=>{const p=f.every(h=>s.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:u}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:p?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:p?T.accentDark:T.textMuted},onClick:()=>c(f),children:p?"":""})]}),o.jsx("div",{className:"space-y-2",children:f.map(h=>{const v=s.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:T.bg,boxShadow:v?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:v?T.accentDark:T.bg,boxShadow:v?"none":"var(--icon-inset)"},children:v&&o.jsx(Fs,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:v?T.accentDark:T.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:T.textMuted},children:zh(h.activation)})]},h.id)})})]},u)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...s]),children:[" ",s.size,""]})})]})})}function Y1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,s]=d.useState(!1),[l,a]=d.useState(null),i=Ph(e),c=i.filter(j=>j.position==="before").sort((j,N)=>j.sort_order-N.sort_order),u=i.filter(j=>j.position==="after").sort((j,N)=>j.sort_order-N.sort_order),f=j=>n.find(N=>N.id===j||N.id===Number(j)),p=fv(ad(_c,{activationConstraint:{distance:5}}),ad(kh,{activationConstraint:{delay:150,tolerance:5}})),h=({active:j})=>a(j.id),v=({active:j,over:N})=>{if(!N)return;const k=i.find(R=>String(R.id)===String(j.id)),C=i.find(R=>String(R.id)===String(N.id));if(!(!k||!C)&&k.position!==C.position){const R=i.map(z=>String(z.id)===String(k.id)?{...z,position:C.position}:z);t(R)}},w=({active:j,over:N})=>{if(a(null),!N||j.id===N.id)return;const k=i.find(B=>String(B.id)===String(j.id)),C=i.find(B=>String(B.id)===String(N.id));if(!k||!C||k.position!==C.position)return;const R=k.position==="before"?[...c]:[...u],z=R.findIndex(B=>String(B.id)===String(j.id)),P=R.findIndex(B=>String(B.id)===String(N.id)),_=zc(R,z,P).map((B,K)=>({...B,sort_order:K})),E=i.filter(B=>B.position!==k.position);t([...E,..._])},y=j=>t(i.filter(N=>N.id!==j)),b=(j,N)=>{const C=(N==="before"?c:u).length;t(i.map(R=>R.id===j?{...R,position:N,sort_order:C}:R))},x=j=>{const N=i.map(P=>P.id),C=j.filter(P=>!N.includes(P)).map((P,_)=>({id:P,position:"after",sort_order:u.length+_})),R=new Set(N.filter(P=>!j.includes(P))),z=i.filter(P=>!R.has(P.id));t([...z,...C])},m=(j,N)=>j.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:T.textMuted},children:""}):o.jsx(L1,{items:j.map(k=>String(k.id)),strategy:P1,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},children:j.map((k,C)=>o.jsxs("div",{children:[C>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(X1,{item:k,book:f(k.id),position:N,sectionList:j,onRemove:y,onChangePosition:b})]},k.id))})}),g=l?i.find(j=>String(j.id)===String(l)):null,S=g?f(g.id):null;return o.jsxs(d1,{sensors:p,collisionDetection:yv,onDragStart:h,onDragOver:v,onDragEnd:w,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:"System Prompt "}),m(c,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:T.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:T.textMuted},children:"System Prompt "}),m(u,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)",color:T.accentDark},onClick:()=>s(!0),children:[o.jsx(Hr,{size:16})," "]}),o.jsx(D1,{children:S&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:T.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(sh,{size:14,style:{color:T.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:T.accentDark},children:S.name})})]})}),r&&o.jsx(K1,{allBooks:n,mountedIds:i.map(j=>j.id),onClose:()=>s(!1),onConfirm:j=>{x(j),s(!1)}})]})}function bd(){const e=$t(),{id:t}=Gp(),n=!t,[r,s]=d.useState("basic"),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,f]=d.useState(""),[p,h]=d.useState(null),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState(""),[g,S]=d.useState(""),[j,N]=d.useState(null),[k,C]=d.useState(null),[R,z]=d.useState([]),[P,_]=d.useState([]),[E,B]=d.useState([]),[K,ie]=d.useState(!1),[se,I]=d.useState(!n),[U,H]=d.useState(null),[q,Q]=d.useState(!1),[fe,he]=d.useState(!1),[Me,te]=d.useState(!1),[ee,Oe]=d.useState(null),[He,G]=d.useState([]),ze=d.useRef(null),Te=d.useRef(null),Ze=J=>{var De;const ce=(De=J.target.files)==null?void 0:De[0];if(!ce)return;const je=new FileReader;je.onload=Tt=>f(Tt.target.result||""),je.readAsText(ce),J.target.value=""},me=J=>{H(J),setTimeout(()=>H(null),2500)},Ye=async J=>{const ce=J==="human"?j:k;if(!ce){me("");return}try{const je=await A(`/api/core-blocks/${ce}/history`);G(je.history||[]),Oe(J)}catch(je){me("")}};d.useEffect(()=>{(async()=>{const[ce,je]=await Promise.all([A("/api/presets").catch(()=>({presets:[]})),A("/api/world-books").catch(()=>({world_books:[]}))]);if(_(ce.presets||[]),B(je.world_books||[]),n)I(!1);else try{const[De,Tt]=await Promise.all([A(`/api/assistants/${t}`),A(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(De.name||""),Wr(`assistant-avatar-${t}`).then(Ae=>{Ae&&c(Ae)}).catch(function(){}),f(De.system_prompt||""),h(De.model_preset_id||null),w(De.summary_model_preset_id||null),b(De.summary_fallback_preset_id||null),z(De.rule_set_ids||[]);for(const Ae of Tt.blocks||[])Ae.block_type==="human"?(m(Ae.content||""),N(Ae.id)):Ae.block_type==="persona"&&(S(Ae.content||""),C(Ae.id))}catch(De){me(": "+De.message)}finally{I(!1)}})()},[t,n]);const ge=J=>{var De;const ce=(De=J.target.files)==null?void 0:De[0];if(!ce)return;const je=new FileReader;je.onload=async Tt=>{const Ae=Tt.target.result,Un=`assistant-avatar-${t||"new"}`;try{await Ci(Un,Ae),c(Ae)}catch(M){me("")}},je.readAsDataURL(ce),J.target.value=""},Mt=async()=>{if(!l.trim()){me("");return}ie(!0);try{const J={name:l.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:u,model_preset_id:p,summary_model_preset_id:v,summary_fallback_preset_id:y,rule_set_ids:Ph(R)};let ce=t;if(n?(ce=(await A("/api/assistants",{method:"POST",body:{name:l.trim()}})).id,i&&(await Ci(`assistant-avatar-${ce}`,i),J.avatar_url=`assistant-avatar-${ce}`),await A(`/api/assistants/${ce}`,{method:"PUT",body:J})):await A(`/api/assistants/${t}`,{method:"PUT",body:J}),j)await A(`/api/core-blocks/${j}`,{method:"PUT",body:{content:x}});else if(x.trim()){const je=await A("/api/core-blocks",{method:"POST",body:{block_type:"human",assistant_id:Number(ce),content:x}});N(je.id)}if(k)await A(`/api/core-blocks/${k}`,{method:"PUT",body:{content:g}});else if(g.trim()){const je=await A("/api/core-blocks",{method:"POST",body:{block_type:"persona",assistant_id:Number(ce),content:g}});C(je.id)}me("")}catch(J){me(": "+J.message)}finally{ie(!1)}},mn=[{key:"basic",label:""},{key:"about",label:"Core Blocks"},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:T.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:T.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:T.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:T.bg,boxShadow:K?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Mt,disabled:K,children:o.jsx(Bo,{size:18,style:{color:T.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:mn.map(J=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===J.key?T.bg:"transparent",boxShadow:r===J.key?"var(--card-shadow-sm)":"none",color:r===J.key?T.accentDark:T.textMuted},onClick:()=>s(J.key),children:J.label},J.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:se?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:T.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var J;return(J=ze.current)==null?void 0:J.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:T.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:T.accentDark},children:(l==null?void 0:l[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:T.accentDark},children:o.jsx(nh,{size:9,color:"white"})})]}),o.jsx("input",{ref:ze,type:"file",accept:"image/*",className:"hidden",onChange:ge}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:""}),o.jsx("input",{type:"text",value:l,onChange:J=>a(J.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:T.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>{var J;return(J=Te.current)==null?void 0:J.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:T.textMuted}})}),o.jsx("input",{ref:Te,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:Ze}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:T.bg},onClick:()=>Q(!0),title:"",children:o.jsx(Gs,{size:13,style:{color:T.accentDark}})})]})]}),o.jsx("textarea",{value:u,onChange:J=>f(J.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:T.bg,color:T.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Ea,{label:"",value:p,onChange:h,presets:P}),o.jsx(Ea,{label:"",value:v,onChange:w,presets:P}),o.jsx(Ea,{label:"",value:y,onChange:b,presets:P})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(wd,{label:"human block",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>he(!0),onHistory:()=>Ye("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(wd,{label:"persona block",value:g,onChange:S,placeholder:"AI ...",rows:7,onExpand:()=>te(!0),onHistory:()=>Ye("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:T.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(Y1,{ruleSetIds:R,onChange:z,allBooks:E})})]})}),q&&o.jsx(Ma,{value:u,onChange:f,onClose:()=>Q(!1),title:"",placeholder:"..."}),fe&&o.jsx(Ma,{value:x,onChange:m,onClose:()=>he(!1),title:"human block",placeholder:" AI ..."}),Me&&o.jsx(Ma,{value:g,onChange:S,onClose:()=>te(!1),title:"persona block",placeholder:"AI ..."}),ee&&o.jsx(V1,{items:He,currentContent:ee==="human"?x:g,onApply:async J=>{const ce=ee==="human"?j:k;try{await A(`/api/core-blocks/${ce}`,{method:"PUT",body:{content:J}}),ee==="human"?m(J):S(J),me("")}catch(je){me("")}},onClose:()=>Oe(null)}),U&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:U})})]})}const Z={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function Q1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":Z.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function kd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Z.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Z.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:Z.textMuted},children:n})]}),o.jsx(Qs,{size:16,style:{color:Z.textMuted}})]})}function jd(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function ur({value:e,onChange:t,min:n,max:r}){const[s,l]=d.useState(String(e));d.useEffect(()=>l(String(e)),[e]);const a=()=>{let i=parseInt(s);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),l(String(i)),t(i)};return o.jsx("input",{type:"number",value:s,onChange:i=>l(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:Z.bg,color:Z.text},min:n,max:r})}function G1(){const e=$t(),[t,n]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessage)||!1}),[r,s]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMin)||30}),[l,a]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMax)||60}),[i,c]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[u,f]=d.useState(8),[p,h]=d.useState(8e3),[v,w]=d.useState(16e3),[y,b]=d.useState(!1),[x,m]=d.useState(!1),[g,S]=d.useState(null),j=k=>{S(k),setTimeout(()=>S(null),2e3)};d.useEffect(()=>{A("/api/settings/context-budget").then(k=>{h(k.retain_budget),w(k.trigger_threshold),b(!0)}).catch(()=>b(!0))},[]),d.useEffect(()=>{const k=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...k,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:l}))},[t,r,l]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),A("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]),d.useEffect(()=>{A("/api/settings/short-msg-max").then(k=>f(k.max_count||8)).catch(()=>{})},[]),d.useEffect(()=>{A("/api/settings/short-msg-max",{method:"PUT",body:{max_count:u}}).catch(()=>{})},[u]);const N=async()=>{m(!0);try{await A("/api/settings/context-budget",{method:"PUT",body:{retain_budget:p,trigger_threshold:v}}),j("")}catch(k){j("")}finally{m(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Z.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Z.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:Z.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Z.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Z.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(kd,{icon:o.jsx(Ty,{size:18,style:{color:Z.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(jd,{}),o.jsx(kd,{icon:o.jsx(Ey,{size:18,style:{color:Z.textMuted}}),label:"",hint:"",onClick:()=>j("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Z.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Z.bg},children:o.jsx(Cy,{size:18,style:{color:Z.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Z.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Z.textMuted},children:" AI "})]}),o.jsx(Q1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:Z.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:Z.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ur,{value:r,onChange:s,min:1,max:999}),o.jsx("span",{style:{color:Z.textMuted},children:"~"}),o.jsx(ur,{value:l,onChange:a,min:1,max:999})]})]})})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Z.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Z.bg},children:o.jsx(Ry,{size:18,style:{color:Z.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Z.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Z.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ur,{value:i,onChange:c,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:Z.textMuted},children:""})]})]}),o.jsx(jd,{}),o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Z.bg},children:o.jsx(ky,{size:18,style:{color:Z.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Z.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Z.textMuted},children:""})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ur,{value:u,onChange:f,min:2,max:20}),o.jsx("span",{className:"text-[12px]",style:{color:Z.textMuted},children:""})]})]})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:Z.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Z.bg},children:o.jsx(vy,{size:18,style:{color:Z.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Z.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Z.textMuted},children:""})]})]}),y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Z.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Z.textMuted},children:" token "})]}),o.jsx(ur,{value:p,onChange:h,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Z.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Z.textMuted},children:""})]}),o.jsx(ur,{value:v,onChange:w,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:x?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:N,disabled:x,children:x?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:Z.accent,borderTopColor:"transparent"}})})]})]}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const O={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},J1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function q1(e){try{return new URL(e).hostname}catch(t){return e}}function Sd({label:e,value:t,onChange:n,placeholder:r,password:s,disabled:l}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s&&!a?"password":"text",value:t,onChange:c=>n(c.target.value),placeholder:r,disabled:l,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:l?O.textMuted:O.text,opacity:l?.5:1}}),s&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(by,{size:16,style:{color:O.textMuted}}):o.jsx(wy,{size:16,style:{color:O.textMuted}})})]})]})}function Z1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:O.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?O.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?O.accentDark:O.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function e0({value:e,onChange:t,options:n,placeholder:r}){const[s,l]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!s)return;const i=c=>{a.current&&!a.current.contains(c.target)&&l(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[s]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:e?O.text:O.textMuted},onClick:()=>l(!s),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx(Ys,{size:16,style:{color:O.textMuted,flexShrink:0,transform:s?"rotate(180deg)":"none"}})]}),s&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:O.text},onClick:()=>{t(i),l(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx(Fs,{size:12,style:{color:O.accentDark,flexShrink:0}})]},i))})]})}function t0({value:e,onChange:t}){const[n,r]=d.useState(!1),s=d.useRef(null);return d.useEffect(()=>{if(!n)return;const l=a=>{s.current&&!s.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]),o.jsxs("div",{className:"relative",ref:s,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:l=>t(l.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx(Ys,{size:16,style:{color:O.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:J1.map(l=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:O.text},onClick:()=>{t(l),r(!1)},children:l},l))})]})}function Ta({value:e,onChange:t,min:n,max:r,step:s}){const[l,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let c=parseFloat(l);isNaN(c)&&(c=n),c=Math.max(n,Math.min(r,c)),c=Math.round(c/s)*s,c=parseFloat(c.toFixed(4)),a(String(c)),t(c)};return o.jsx("input",{type:"number",value:l,onChange:c=>a(c.target.value),onBlur:i,onKeyDown:c=>c.key==="Enter"&&i(),step:s,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}})}function Nd({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":O.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Da({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:e})}function n0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState([]),[l,a]=d.useState(!0),[i,c]=d.useState(""),[u,f]=d.useState(""),[p,h]=d.useState("api_key"),[v,w]=d.useState(""),[y,b]=d.useState([]),[x,m]=d.useState(!1),[g,S]=d.useState(1),[j,N]=d.useState(!1),[k,C]=d.useState(1),[R,z]=d.useState(!1),[P,_]=d.useState(4096),[E,B]=d.useState(null),[K,ie]=d.useState(null),[se,I]=d.useState(!1),[U,H]=d.useState(!1),[q,Q]=d.useState(""),[fe,he]=d.useState(!1),[Me,te]=d.useState(!1),[ee,Oe]=d.useState(null),[He,G]=d.useState(null),[ze,Te]=d.useState(""),Ze=d.useRef(null),me=d.useRef(!1),Ye=d.useRef({});Ye.current={baseUrl:i,apiKey:u,authType:p,modelName:v,temperature:g,tempEnabled:j,topP:k,topPEnabled:R,maxTokens:P,editingPreset:E,providers:t};const ge=d.useCallback(L=>{ie(L),setTimeout(()=>ie(null),2500)},[]),Mt=d.useCallback(async()=>{try{const[L,ue]=await Promise.all([A("/api/providers"),A("/api/presets")]);n(L.providers||[]),s(ue.presets||[])}catch(L){ge(": "+L.message)}finally{a(!1)}},[ge]);d.useEffect(()=>{Mt()},[Mt]);const mn=L=>{var le,_e;B(L),w(L.model_name),N(L.temperature!=null),S((le=L.temperature)!=null?le:1),z(L.top_p!=null),C((_e=L.top_p)!=null?_e:1),_(L.max_tokens);const ue=t.find(Dt=>Dt.id===L.api_provider_id);ue&&(c(ue.base_url),f(ue.api_key),h(ue.auth_type||"api_key"))},J=()=>{B(null),c(""),f(""),h("api_key"),w(""),S(1),N(!1),C(1),z(!1),_(4096),b([])},ce=async()=>{if(!i.trim()||!u.trim()){ge(" API  Key");return}m(!0);try{const L=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${u.trim()}`}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const le=((await L.json()).data||[]).map(_e=>_e.id).sort();b(le),ge(le.length?` ${le.length} `:"")}catch(L){ge(": "+L.message)}finally{m(!1)}},je=async()=>{var L;if(!i.trim()||!u.trim()||!v.trim()){ge(" API Key ");return}I(!0);try{const ue=i.trim().replace(/\/+$/,""),le={"Content-Type":"application/json",Authorization:`Bearer ${u.trim()}`};p==="oauth_token"&&(le["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",le["anthropic-dangerous-direct-browser-access"]="true",le["x-app"]="cli");const _e=await fetch(`${ue}/chat/completions`,{method:"POST",headers:le,body:JSON.stringify({model:v.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!_e.ok){const Dt=await _e.json().catch(()=>({}));throw new Error(((L=Dt.error)==null?void 0:L.message)||`HTTP ${_e.status}`)}ge(" ")}catch(ue){ge(": "+ue.message)}finally{I(!1)}},De=async L=>{const ue=Ye.current,le=ue.baseUrl.trim(),_e=ue.apiKey.trim(),Dt=ue.authType,nn=L.find(Yo=>Yo.base_url===le);return nn?((nn.api_key!==_e||nn.auth_type!==Dt)&&await A(`/api/providers/${nn.id}`,{method:"PUT",body:{api_key:_e,auth_type:Dt}}),nn.id):(await A("/api/providers",{method:"POST",body:{name:q1(le),base_url:le,api_key:_e,auth_type:Dt}})).id},Tt=async(L,ue)=>{const le=Ye.current;if(!le.baseUrl.trim()||!le.apiKey.trim()||!le.modelName.trim()){ge("");return}te(!0);try{const _e=await De(le.providers),Dt={name:L,model_name:le.modelName.trim(),temperature:le.tempEnabled?le.temperature:null,top_p:le.topPEnabled?le.topP:null,max_tokens:Number(le.maxTokens)||4096,api_provider_id:_e};le.editingPreset&&!ue?(await A(`/api/presets/${le.editingPreset.id}`,{method:"PUT",body:Dt}),ge("")):(await A("/api/presets",{method:"POST",body:Dt}),ge("")),await Mt()}catch(_e){ge(": "+_e.message)}finally{te(!1)}},Ae=()=>{const L=q.trim();L&&(H(!1),Tt(L,fe))},Un=()=>{E&&Tt(E.name,!1)},M=async()=>{if(ee){try{await A(`/api/presets/${ee.id}`,{method:"DELETE"}),ge(""),(E==null?void 0:E.id)===ee.id&&J(),Mt()}catch(L){ge(": "+L.message)}Oe(null)}},$=async()=>{const L=ze.trim();if(!(!L||!He)){try{await A(`/api/presets/${He.id}`,{method:"PUT",body:{name:L}}),ge(""),Mt()}catch(ue){ge("")}G(null)}},V=(L,ue)=>{me.current=!1,L.touches?L.touches[0].clientX:L.clientX,L.touches?L.touches[0].clientY:L.clientY,Ze.current=setTimeout(()=>{me.current=!0,Oe(ue)},600)},et=()=>clearTimeout(Ze.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:O.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:O.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:O.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:l?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:O.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Da,{children:[o.jsx(Sd,{label:"API ",value:i,onChange:c,placeholder:"https://api.openai.com/v1",disabled:p==="oauth_token"}),o.jsx(Sd,{label:"API Key",value:u,onChange:f,placeholder:p==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),o.jsx(Z1,{value:p,onChange:L=>{h(L),L==="oauth_token"&&c("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Da,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),p==="oauth_token"?o.jsx(t0,{value:v,onChange:w}):o.jsx(e0,{value:v,onChange:w,options:y})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:je,disabled:se,children:[se?o.jsx(td,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text,opacity:p==="oauth_token"?.4:1},onClick:ce,disabled:x||p==="oauth_token",children:[x?o.jsx(td,{size:14,className:"animate-spin"}):o.jsx(Nc,{size:14}),""]})]})]}),o.jsxs(Da,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:O.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:O.textMuted},children:""})]}),o.jsx(Nd,{on:j,onToggle:()=>N(!j)})]}),j&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(Ta,{value:g,onChange:S,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Top P (0-1)"}),o.jsx(Nd,{on:R,onToggle:()=>z(!R)})]}),R&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(Ta,{value:k,onChange:C,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Max Tokens"}),o.jsx(Ta,{value:P,onChange:_,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[E?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Un,disabled:Me,children:[o.jsx(Bo,{size:14}),Me?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>{he(!0),Q(""),H(!0)},disabled:Me,children:[o.jsx(yy,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{he(!0),Q(""),H(!0)},disabled:Me,children:[o.jsx(Hr,{size:14}),""]}),E&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:O.textMuted},onClick:J,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:O.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:O.bg,boxShadow:"var(--card-shadow)",color:O.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(L=>{var ue,le;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:O.bg,boxShadow:(E==null?void 0:E.id)===L.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{me.current||mn(L)},onTouchStart:_e=>V(_e,L),onTouchEnd:et,onMouseDown:_e=>V(_e,L),onMouseUp:et,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(E==null?void 0:E.id)===L.id?O.accentDark:O.text},children:L.name}),o.jsx(lh,{size:12,style:{color:O.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:O.textMuted},children:L.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:O.textMuted},children:["T: ",(ue=L.temperature)!=null?ue:""," | Top-P: ",(le=L.top_p)!=null?le:""," | Max: ",L.max_tokens]})]},L.id)})})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>H(!1),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{type:"text",value:q,onChange:L=>Q(L.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},autoFocus:!0,onKeyDown:L=>L.key==="Enter"&&Ae()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>H(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:q.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Ae,disabled:!q.trim(),children:""})]})]})}),ee&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Oe(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:O.textMuted},children:["",ee.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>Oe(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:M,children:""})]})]})}),He&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>G(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:ze,onChange:L=>Te(L.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},onKeyDown:L=>L.key==="Enter"&&$()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>G(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:$,children:""})]})]})}),K&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:K})})]})}const oe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Ih={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},r0=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],s0=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}],Cd=300,jl=80;function l0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:oe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:oe.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:oe.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)",color:oe.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function o0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";u.style.transition=p,u.style.transform=`translateX(${i}px)`,f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/jl)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-jl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/jl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-jl:0,!0)},children:e})]})}function a0({block_type:e}){const t=Ih[e]||{bg:"rgba(136,136,160,0.1)",color:oe.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function i0({content:e}){const[t,n]=d.useState(!1),r=e.length>Cd;return o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:oe.text},children:r&&!t?e.slice(0,Cd)+"...":e}),r&&o.jsx("div",{className:"mt-1.5 flex justify-center",children:o.jsx("button",{className:"rounded-full px-3 py-0.5 text-[11px]",style:{color:oe.accentDark,background:"rgba(232,160,191,0.12)"},onClick:s=>{s.stopPropagation(),n(!t)},children:t?"":""})})]})}function c0({avatarUrl:e}){return o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full overflow-hidden",style:{boxShadow:"var(--icon-inset)",background:oe.bg},children:e?o.jsx("img",{src:e,alt:"",className:"h-full w-full object-cover"}):o.jsx("span",{style:{fontSize:16},children:""})})}function u0({item:e,expanded:t,onToggle:n,live:r,avatarUrl:s}){const l=e.rounds.map(a=>({...a,blocks:a.blocks.filter(i=>i.block_type!=="text")})).filter(a=>a.blocks.length>0);return o.jsxs("div",{className:"rounded-[18px] overflow-hidden",style:{background:oe.bg},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx(c0,{avatarUrl:s}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:oe.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx("span",{className:"text-[10px]",style:{color:oe.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:oe.text},children:e.preview||"()"})]}),t?o.jsx(gy,{size:16,style:{color:oe.textMuted,flexShrink:0}}):o.jsx(Ys,{size:16,style:{color:oe.textMuted,flexShrink:0}})]}),t&&l.length>0&&o.jsx("div",{className:"px-4 pb-4",children:l.map(a=>o.jsxs("div",{className:"mb-3",children:[l.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:oe.textMuted},children:[" ",a.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),a.blocks.map((i,c)=>{const u=Ih[i.block_type]||{bg:"rgba(136,136,160,0.08)",color:oe.textMuted,label:i.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:u.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(a0,{block_type:i.block_type}),i.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:u.color},children:i.tool_name})]}),o.jsx(i0,{content:i.content})]},c)})]},a.round_index))})]})}function d0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[u,f]=d.useState(!1),[p,h]=d.useState(new Set),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState(null),g=d.useRef(null),[S,j]=d.useState(null),[N,k]=d.useState(!1),C=d.useRef(null),R=()=>{s(!0),w(null),A("/api/cot?limit=30").then(_=>{n(Array.isArray(_)?_:[])}).catch(_=>{console.error("COT load error:",_),w(_.message||"")}).finally(()=>s(!1))};d.useEffect(()=>{R()},[]),d.useEffect(()=>{A("/api/sessions?limit=1").then(_=>{var B;const E=(B=_.sessions)==null?void 0:B[0];E!=null&&E.assistant_id&&Wr(`assistant-avatar-${E.assistant_id}`).then(K=>{K&&m(K)}).catch(()=>{})}).catch(()=>{})},[]),d.useEffect(()=>{A("/api/settings/mood").then(_=>j(_.mood||"calm")).catch(()=>j("calm"))},[]),d.useEffect(()=>{if(!N)return;const _=E=>{C.current&&!C.current.contains(E.target)&&k(!1)};return document.addEventListener("pointerdown",_),()=>document.removeEventListener("pointerdown",_)},[N]),d.useEffect(()=>{const _=localStorage.getItem("whisper_token");if(!_)return;const B=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(_)}`;let K,ie,se=!1;const I=()=>{se||(K=new WebSocket(B),g.current=K,K.onopen=()=>f(!0),K.onmessage=U=>{try{const H=JSON.parse(U.data);if(H.type==="done"){h(te=>{const ee=new Set(te);return ee.delete(H.request_id),ee});return}const{request_id:q,round_index:Q,block_type:fe,content:he,tool_name:Me}=H;n(te=>{const ee=te.findIndex(G=>G.request_id===q);if(ee>=0){const G={...te[ee]},ze=[...G.rounds],Te=ze.findIndex(me=>me.round_index===Q);Te>=0?ze[Te]={...ze[Te],blocks:[...ze[Te].blocks,{block_type:fe,content:he,tool_name:Me}]}:(ze.push({round_index:Q,blocks:[{block_type:fe,content:he,tool_name:Me}]}),ze.sort((me,Ye)=>me.round_index-Ye.round_index)),G.rounds=ze,fe==="tool_use"&&(G.has_tool_calls=!0),fe==="text"&&!G.preview&&(G.preview=he.slice(0,80));const Ze=[...te];return Ze[ee]=G,Ze}return[{request_id:q,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:fe==="text"?he.slice(0,80):"",has_tool_calls:fe==="tool_use",rounds:[{round_index:Q,blocks:[{block_type:fe,content:he,tool_name:Me}]}]},...te]}),h(te=>new Set(te).add(q)),a(q)}catch(H){}},K.onclose=()=>{f(!1),g.current=null,se||(ie=setTimeout(I,3e3))},K.onerror=()=>K.close())};return I(),()=>{se=!0,clearTimeout(ie),g.current&&(g.current.onclose=null,g.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const _=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({..._,shortMode:i==="short",theaterMode:i==="theater"})),A("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const z=_=>{j(_),k(!1),A("/api/settings/mood",{method:"PUT",body:{mood:_}}).catch(()=>{})},P=_=>{b({message:" COT ",action:async()=>{try{await A(`/api/cot/${_.request_id}`,{method:"DELETE"}),n(E=>E.filter(B=>B.request_id!==_.request_id))}catch(E){console.error("Delete COT failed:",E)}}})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:oe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:oe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:oe.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:R,disabled:r,children:o.jsx(Nc,{size:16,style:{color:oe.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:C,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:oe.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>S&&k(!N),children:S?o.jsx("img",{src:`/miniapp/assets/mood/${S}.png`,alt:S,className:"h-6 w-6",style:{imageRendering:"pixelated"}}):o.jsx("div",{className:"h-6 w-6"})}),N&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:s0.map((_,E)=>{const B=Math.floor(E/3),K=E%3,ie=S===_.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:ie?"rgba(232,160,191,0.18)":"transparent",boxShadow:[K<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",B<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>z(_.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${_.key}.png`,alt:_.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:ie?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:ie?"#d48aab":oe.textMuted},children:_.label})]},_.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,width:240},children:r0.map(_=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===_.key?oe.bg:"transparent",boxShadow:i===_.key?"var(--card-shadow-sm)":"none",color:i===_.key?oe.accentDark:oe.textMuted},onClick:()=>c(_.key),children:_.label},_.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:oe.accent,borderTopColor:"transparent"}})}):v?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(ed,{size:36,style:{color:"#ef4444",opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:"#ef4444"},children:v})]}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(ed,{size:36,style:{color:oe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:oe.textMuted},children:" COT "})]}):t.map(_=>o.jsx(o0,{onDelete:()=>P(_),children:o.jsx(u0,{item:_,expanded:l===_.request_id,onToggle:()=>a(l===_.request_id?null:_.request_id),live:p.has(_.request_id),avatarUrl:x})},_.request_id))}),y&&o.jsx(l0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(_){console.error(_)}b(null)},onCancel:()=>b(null)})]})}const We={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Sl=80;function f0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";if(u.style.transition=p,u.style.transform=`translateX(${i}px)`,f){const h=Math.min(1,Math.abs(i)/Sl);f.style.transition=p,f.style.opacity=`${h}`}s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Sl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Sl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Sl:0,!0)},children:e})]})}function p0({msg:e,roleLabel:t,roleColor:n,fmtTime:r,onDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e.content,l]),o.jsx(f0,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:We.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:n(e.role)},children:t(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:We.textMuted},children:r(e.created_at)})]}),o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:We.text}:{color:We.text,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:e.content}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:"#d48aab",background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})})]})})}function h0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(null),[l,a]=d.useState(!0),[i,c]=d.useState(!1),u=async()=>{var y;a(!0);try{const x=(y=(await A("/api/sessions?limit=1")).sessions)==null?void 0:y[0];if(!x){a(!1);return}s(x.id);const m=await A(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),c(m.has_more||!1)}catch(b){console.error(b)}a(!1)};d.useEffect(()=>{u()},[]);const f=async y=>{if(r)try{await A(`/api/sessions/${r}/messages/${y}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==y))}catch(b){console.error("Delete failed",b)}},p=async()=>{if(!r||!i||l)return;const y=t[t.length-1];if(y){a(!0);try{const b=await A(`/api/sessions/${r}/messages?limit=50&before_id=${y.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),c(b.has_more||!1)}catch(b){console.error(b)}a(!1)}},h=y=>{if(!y)return"";const b=new Date(y),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},v=y=>y==="user"?"":y==="assistant"?"AI":"",w=y=>y==="user"?We.accentDark:y==="assistant"?"#3a9b5c":We.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:We.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:We.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:We.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:l?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:u,disabled:l,children:o.jsx(Nc,{size:16,style:{color:We.accentDark},className:l?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:We.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:We.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:We.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(y=>o.jsx(p0,{msg:y,roleLabel:v,roleColor:w,fmtTime:h,onDelete:()=>f(y.id)},y.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)",color:We.accentDark},onClick:p,disabled:l,children:l?"...":""})]})})]})}const W={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},m0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],Nl=80,Ed={identity:{color:"#7b5ea7",bg:"#ede4f7"},relationship:{color:"#c26a8a",bg:"#f7e0ea"},bond:{color:"#d48aab",bg:"#fce8f0"},conflict:{color:"#b5454a",bg:"#f5dede"},fact:{color:"#4a8ab5",bg:"#deedf5"},preference:{color:"#9b7a3b",bg:"#f0ebd8"},health:{color:"#4a9b6e",bg:"#ddf0e5"},task:{color:"#6b7b9b",bg:"#e0e6f0"},ephemeral:{color:"#9b9b9b",bg:"#ececec"},other:{color:"#8a7a6a",bg:"#efe8df"}};function vo(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function Pc({text:e,keyword:t}){if(!t||!e)return o.jsx(o.Fragment,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),s=[];let l=0,a=n.indexOf(r,l);for(;a!==-1;)a>l&&s.push(o.jsx("span",{children:e.slice(l,a)},l)),s.push(o.jsx("span",{style:{color:W.accentDark,fontWeight:600},children:e.slice(a,a+r.length)},`h${a}`)),l=a+r.length,a=n.indexOf(r,l);return l<e.length&&s.push(o.jsx("span",{children:e.slice(l)},l)),o.jsx(o.Fragment,{children:s})}function x0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:W.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:W.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function g0({initialText:e,onSave:t,onCancel:n}){const[r,s]=d.useState(e);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-5 w-full max-w-[340px] rounded-[18px] p-4",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsx("textarea",{className:"w-full rounded-[12px] p-3 text-[12px] leading-relaxed resize-none outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text,minHeight:140,maxHeight:280},value:r,onChange:l=>s(l.target.value),autoFocus:!0}),o.jsxs("div",{className:"mt-3 flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:()=>t(r),disabled:!r.trim(),children:""})]})]})})}function Lh({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";u.style.transition=p,u.style.transform=`translateX(${i}px)`,f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/Nl)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Nl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Nl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Nl:0,!0)},children:e})]})}function Md({children:e,time:t,badge:n,keyword:r,onSwipeDelete:s,onEdit:l}){const[a,i]=d.useState(!1),[c,u]=d.useState(!1),f=d.useRef(null),p=typeof e=="string"?e:"",h=!!s;d.useLayoutEffect(()=>{const w=f.current;w&&!a&&u(w.scrollHeight>w.clientHeight+1)},[p,a]);const v=o.jsxs("div",{className:h?"rounded-[18px] p-3":"mb-3 rounded-[18px] p-3",style:{background:W.bg,boxShadow:h?"none":"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[n,o.jsx("div",{ref:f,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:a?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>i(!a),children:o.jsx(Pc,{text:p,keyword:r})})]}),l&&o.jsx("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:w=>{w.stopPropagation(),l()},children:o.jsx(lh,{size:11,style:{color:W.accentDark}})})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t||""}),(c||a)&&o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:w=>{w.stopPropagation(),i(!a)},children:a?"":""})]})]});return s?o.jsx(Lh,{onDelete:s,children:v}):v}function y0({content:e,deletedAt:t,keyword:n,onRestore:r,onPermanentDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e,l]),o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:o.jsx(Pc,{text:e,keyword:n})}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t?` ${vo(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:r,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:s,children:""})]})]})]})}function v0({msg:e,keyword:t,roleLabel:n,roleColor:r,onDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e.content,l]),o.jsx(Lh,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:W.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:r(e.role)},children:n(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:vo(e.created_at)})]}),o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:o.jsx(Pc,{text:e.content,keyword:t})}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})})]})})}function w0(){const e=$t(),[t,n]=d.useState("memories"),[r,s]=d.useState(!1),[l,a]=d.useState(null),[i,c]=d.useState([]),[u,f]=d.useState(null),[p,h]=d.useState(""),[v,w]=d.useState(null),[y,b]=d.useState(null),[x,m]=d.useState([]),[g,S]=d.useState([]),[j,N]=d.useState([]),[k,C]=d.useState([]),[R,z]=d.useState([]),[P,_]=d.useState(!0),[E,B]=d.useState(!1),[K,ie]=d.useState(!1),[se,I]=d.useState(!1);d.useEffect(()=>{A("/api/sessions?limit=50").then(M=>{const $=M.sessions||[];c($),$.length>0&&!l&&a($[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{l&&A(`/api/sessions/${l}/info`).then(M=>f(M.assistant_name||null)).catch(()=>f(null))},[l]);const U=50,H=d.useRef(""),q=d.useRef(null);d.useEffect(()=>{l&&fe()},[l,r]),d.useEffect(()=>{l&&!r&&fe()},[t]),d.useEffect(()=>(q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{const M=p.trim();M!==H.current&&(H.current=M,l&&fe(M))},400),()=>{q.current&&clearTimeout(q.current)}),[p]);const Q=M=>{const $=(M!=null?M:H.current||"").trim();return $?`&search=${encodeURIComponent($)}`:""},fe=async M=>{if(!l)return;_(!0);const $=Q(M);try{if(r){const[V,et]=await Promise.all([A("/api/memories/trash?limit=100"),A(`/api/sessions/${l}/summaries/trash`)]);C(V.memories||[]),z(et.summaries||[])}else if(t==="memories"){const V=await A(`/api/memories?limit=${U}&offset=0${$}`);m(V.memories||[]),B((V.total||0)>(V.memories||[]).length)}else if(t==="summaries"){const V=await A(`/api/sessions/${l}/summaries?limit=${U}&offset=0${$}`);S(V.summaries||[]),ie((V.total||0)>(V.summaries||[]).length)}else{const V=await A(`/api/sessions/${l}/messages?limit=50${$}`);N((V.messages||[]).reverse()),I(V.has_more||!1)}}catch(V){console.error(V)}_(!1)},he=async()=>{if(!E||P)return;_(!0);const M=Q();try{const $=await A(`/api/memories?limit=${U}&offset=${x.length}${M}`),V=$.memories||[];m(et=>[...et,...V]),B(($.total||0)>x.length+V.length)}catch($){console.error($)}_(!1)},Me=async()=>{if(!l||!K||P)return;_(!0);const M=Q();try{const $=await A(`/api/sessions/${l}/summaries?limit=${U}&offset=${g.length}${M}`),V=$.summaries||[];S(et=>[...et,...V]),ie(($.total||0)>g.length+V.length)}catch($){console.error($)}_(!1)},te=async()=>{if(!l||!se||P)return;const M=j[j.length-1];if(!M)return;_(!0);const $=Q();try{const V=await A(`/api/sessions/${l}/messages?limit=50&before_id=${M.id}${$}`);N(et=>[...et,...(V.messages||[]).reverse()]),I(V.has_more||!1)}catch(V){console.error(V)}_(!1)},ee=p.trim(),Oe=d.useMemo(()=>ee?k.filter(M=>M.content.toLowerCase().includes(ee.toLowerCase())):k,[k,ee]),He=d.useMemo(()=>ee?R.filter(M=>(M.summary_content||"").toLowerCase().includes(ee.toLowerCase())):R,[R,ee]),G=(M,$)=>w({message:M,action:$}),ze=M=>G("",async()=>{await A(`/api/memories/${M}`,{method:"DELETE"}),m($=>$.filter(V=>V.id!==M))}),Te=M=>G("",async()=>{await A(`/api/sessions/${l}/summaries/${M}`,{method:"DELETE"}),S($=>$.filter(V=>V.id!==M))}),Ze=M=>G("",async()=>{await A(`/api/sessions/${l}/messages/${M}`,{method:"DELETE"}),N($=>$.filter(V=>V.id!==M))}),me=async M=>{await A(`/api/memories/${M}/restore`,{method:"POST"}),C($=>$.filter(V=>V.id!==M))},Ye=M=>G("",async()=>{await A(`/api/memories/${M}/permanent`,{method:"DELETE"}),C($=>$.filter(V=>V.id!==M))}),ge=async M=>{await A(`/api/sessions/${l}/summaries/${M}/restore`,{method:"POST"}),z($=>$.filter(V=>V.id!==M))},Mt=M=>G("",async()=>{await A(`/api/sessions/${l}/summaries/${M}/permanent`,{method:"DELETE"}),z($=>$.filter(V=>V.id!==M))}),mn=async M=>{if(y){try{y.type==="memory"?(await A(`/api/memories/${y.id}`,{method:"PUT",body:{content:M}}),m($=>$.map(V=>V.id===y.id?{...V,content:M}:V))):(await A(`/api/sessions/${l}/summaries/${y.id}`,{method:"PATCH",body:{summary_content:M}}),S($=>$.map(V=>V.id===y.id?{...V,summary_content:M}:V)))}catch($){console.error($)}b(null)}},J=M=>M==="user"?"":M==="assistant"?u||"":"",ce=M=>M==="user"?W.accentDark:M==="assistant"?"#8d68c4":W.textMuted,Un=r?(()=>{if(P)return o.jsx(Cl,{});const M=t==="memories"?Oe:He;return M.length===0?o.jsx(El,{text:ee?"":""}):M.map($=>o.jsx(y0,{content:$.content||$.summary_content||"()",deletedAt:$.deleted_at,keyword:ee,onRestore:()=>t==="memories"?me($.id):ge($.id),onPermanentDelete:()=>t==="memories"?Ye($.id):Mt($.id)},$.id))})():t==="memories"?P&&x.length===0?o.jsx(Cl,{}):x.length===0?o.jsx(El,{text:ee?"":""}):o.jsxs(o.Fragment,{children:[x.map(M=>o.jsx(Md,{time:vo(M.created_at),keyword:ee,onSwipeDelete:()=>ze(M.id),onEdit:()=>b({type:"memory",id:M.id,text:M.content}),badge:(()=>{const $=Ed[M.klass]||Ed.other;return o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:$.bg,color:$.color},children:M.klass})})(),children:M.content},M.id)),E&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:he,disabled:P,children:P?"...":""})]}):t==="summaries"?P&&g.length===0?o.jsx(Cl,{}):g.length===0?o.jsx(El,{text:ee?"":""}):o.jsxs(o.Fragment,{children:[g.map(M=>o.jsx(Md,{time:vo(M.created_at),keyword:ee,onSwipeDelete:()=>Te(M.id),onEdit:()=>b({type:"summary",id:M.id,text:M.summary_content}),badge:M.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:W.accentDark},children:M.mood_tag}):null,children:M.summary_content||"()"},M.id)),K&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:Me,disabled:P,children:P?"...":""})]}):P&&j.length===0?o.jsx(Cl,{}):j.length===0?o.jsx(El,{text:ee?"":""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:W.textMuted},children:""}),j.map(M=>o.jsx(v0,{msg:M,keyword:ee,roleLabel:J,roleColor:ce,onDelete:()=>Ze(M.id)},M.id)),se&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:te,disabled:P,children:P?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:W.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>s(!r),children:o.jsx(or,{size:16,style:{color:r?"#ef4444":W.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:W.bg,boxShadow:"var(--inset-shadow)"},children:m0.map(M=>{const $=r&&M.key==="messages",V=t===M.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:$?{color:W.textMuted,opacity:.35,cursor:"default"}:V?{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark}:{color:W.textMuted},disabled:$,onClick:()=>!$&&n(M.key),children:M.label},M.key)})})}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",style:{width:"33%"},children:[o.jsx("select",{className:"w-full appearance-none rounded-[12px] py-2 pl-3 pr-7 text-[11px] font-medium outline-none truncate",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.text,WebkitAppearance:"none"},value:l!=null?l:"",onChange:M=>a(Number(M.target.value)),children:i.map(M=>o.jsxs("option",{value:M.id,children:["#",M.id," ",M.title||""]},M.id))}),o.jsx(Ys,{size:12,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",style:{color:W.textMuted}})]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(My,{size:13,className:"absolute left-2.5 top-1/2 -translate-y-1/2",style:{color:W.textMuted}}),o.jsx("input",{className:"w-full rounded-[12px] py-2 pl-8 pr-7 text-[11px] outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text},placeholder:"...",value:p,onChange:M=>h(M.target.value)}),p&&o.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>h(""),children:o.jsx(Js,{size:13,style:{color:W.textMuted}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:Un}),v&&o.jsx(x0,{message:v.message,onConfirm:async()=>{try{await v.action()}catch(M){console.error(M)}w(null)},onCancel:()=>w(null)}),y&&o.jsx(g0,{initialText:y.text,onSave:mn,onCancel:()=>b(null)})]})}function Cl(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:W.accent,borderTopColor:"transparent"}})})}function El({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:W.textMuted},children:e})}const X={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},b0=[{key:"theirs",label:""},{key:"mine",label:""}],Ml=80;function Oh(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function k0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:X.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:X.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function j0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all 0.25s cubic-bezier(.4,0,.2,1)":"none";u.style.transition=p,u.style.transform=`translateX(${i}px)`,f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/Ml)}`),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Ml,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Ml)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Ml:0,!0)},children:e})]})}function S0({unlockAt:e}){const[t,n]=d.useState(Date.now());d.useEffect(()=>{const u=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(u)},[]);const r=new Date(e).getTime()-t;if(r<=0)return null;const s=Math.floor(r/864e5),l=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);let c="";return s>0&&(c+=`${s}`),(l>0||s>0)&&(c+=`${l}`),c+=`${a}${i}`,o.jsxs("div",{className:"flex items-center gap-1.5 text-[12px]",style:{color:X.accentDark},children:[o.jsx(Ny,{size:12}),o.jsx("span",{children:c})]})}function N0({assistants:e,avatarMap:t,currentId:n,onSelect:r,onClose:s}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:s,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-5",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{onClick:s,children:o.jsx(Js,{size:18,style:{color:X.textMuted}})})]}),o.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(l=>{var i;const a=t[l.id]||l.avatar_url;return o.jsxs("button",{className:"mb-2 flex w-full items-center gap-3 rounded-[14px] p-3 text-left",style:{background:X.bg,boxShadow:l.id===n?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{r(l.id),s()},children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:36,height:36,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:2},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:X.bg},children:a?o.jsx("img",{src:a,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:X.accentDark},children:((i=l.name)==null?void 0:i[0])||"?"})})}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:X.text},children:l.name})]},l.id)})})]})})}function C0({diary:e,onBack:t,onMarkRead:n}){return d.useEffect(()=>{e&&!e.is_read&&e.author==="assistant"&&(!e.unlock_at||new Date(e.unlock_at)<=new Date)&&n(e.id)},[e]),o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:t,children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[15px] font-bold truncate max-w-[60%]",style:{color:X.text},children:e.title||""}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:o.jsxs("div",{className:"rounded-[18px] p-5",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{className:"mb-3 text-[10px]",style:{color:X.textMuted},children:Oh(e.created_at)}),o.jsx("div",{className:"text-[13px] leading-[28px]",style:{color:X.text},children:e.content.split(`
`).map((r,s)=>o.jsx("div",{style:{borderBottom:"1px solid rgba(0,0,0,0.06)",minHeight:28},children:r||""},s))})]})})]})}function E0({assistantId:e,onSave:t,onCancel:n}){const[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(!1),[u,f]=d.useState(""),[p,h]=d.useState(!1),[v,w]=d.useState(!1),y=async()=>{if(!(!l.trim()||p)){h(!0);try{const b={assistant_id:e,author:"user",title:r.trim(),content:l.trim()};i&&u&&(b.unlock_at=new Date(u).toISOString()),await t(b)}finally{h(!1)}}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[15px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:l.trim()?"var(--card-shadow-sm)":"var(--inset-shadow)"},onClick:y,disabled:!l.trim()||p,children:o.jsx("span",{className:"text-[12px] font-bold",style:{color:l.trim()?X.accentDark:X.textMuted},children:""})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[!v&&o.jsx("input",{className:"mb-3 w-full rounded-[12px] px-3 py-2.5 text-[13px] font-medium outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text},placeholder:"",value:r,onChange:b=>s(b.target.value)}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx("textarea",{className:"w-full rounded-[14px] p-3 text-[13px] leading-[28px] resize-none outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text,minHeight:v?"calc(100vh - 120px)":200,backgroundImage:"repeating-linear-gradient(transparent, transparent 27px, rgba(0,0,0,0.05) 27px, rgba(0,0,0,0.05) 28px)",backgroundPositionY:9},placeholder:"...",value:l,onChange:b=>a(b.target.value),autoFocus:!0}),o.jsx("button",{className:"absolute top-2 right-2 flex h-7 w-7 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>w(!v),children:v?o.jsx(Ar,{size:13,style:{color:X.accentDark}}):o.jsx(Gs,{size:13,style:{color:X.accentDark}})})]}),!v&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between rounded-[14px] px-4 py-3",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[13px] font-medium",style:{color:X.text},children:""}),o.jsx("p",{className:"text-[10px]",style:{color:X.textMuted},children:""})]}),o.jsx("button",{className:"relative h-7 w-12 rounded-full transition-colors",style:{background:i?X.accent:"rgba(0,0,0,0.1)"},onClick:()=>{if(!i&&!u){const b=new Date;b.setDate(b.getDate()+1),b.setHours(9,0,0,0);const x=m=>String(m).padStart(2,"0");f(`${b.getFullYear()}-${x(b.getMonth()+1)}-${x(b.getDate())}T${x(b.getHours())}:${x(b.getMinutes())}`)}c(!i)},children:o.jsx("div",{className:"absolute top-0.5 h-6 w-6 rounded-full transition-transform",style:{background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transform:i?"translateX(22px)":"translateX(2px)"}})})]}),i&&o.jsxs("div",{className:"rounded-[14px] px-4 py-3",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("p",{className:"mb-2 text-[12px] font-medium",style:{color:X.text},children:""}),o.jsx("input",{type:"datetime-local",className:"w-full rounded-[10px] px-3 py-2 text-[13px] outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text},value:u,onChange:b=>f(b.target.value)})]})]})]})]})}function M0(){var _;const e=$t(),[t,n]=d.useState("theirs"),[r,s]=d.useState([]),[l,a]=d.useState({}),[i,c]=d.useState(null),[u,f]=d.useState(!1),[p,h]=d.useState([]),[v,w]=d.useState(!0),[y,b]=d.useState(null),[x,m]=d.useState(null),[g,S]=d.useState(!1);d.useEffect(()=>{A("/api/assistants").then(async E=>{const B=E.assistants||[];s(B),B.length>0&&!i&&c(B[0].id);const K={};await Promise.all(B.map(async ie=>{const se=await Wr(`assistant-avatar-${ie.id}`).catch(()=>null);se&&(K[ie.id]=se)})),a(K)}).catch(()=>{})},[]);const j=r.find(E=>E.id===i),N=i&&l[i]||(j==null?void 0:j.avatar_url);d.useEffect(()=>{i!=null&&k()},[i,t]);const k=async()=>{w(!0);try{const B=await A(`/api/diary?assistant_id=${i}&author=${t==="theirs"?"assistant":"user"}&limit=100`);h(B.diary||[])}catch(E){console.error(E)}w(!1)},C=E=>{b({message:"",action:async()=>{await A(`/api/diary/${E}`,{method:"DELETE"}),h(B=>B.filter(K=>K.id!==E))}})},R=async E=>{try{await A(`/api/diary/${E}/read`,{method:"POST"}),h(B=>B.map(K=>K.id===E?{...K,is_read:!0}:K))}catch(B){console.error(B)}},z=async E=>{await A("/api/diary",{method:"POST",body:E}),S(!1),k()},P=E=>{E.unlock_at&&new Date(E.unlock_at)>new Date||m(E)};return x?o.jsx(C0,{diary:x,onBack:()=>{m(null),k()},onMarkRead:R}):g?o.jsx(E0,{assistantId:i,onSave:z,onCancel:()=>S(!1)}):o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{border:"2px solid #e8a0bf",padding:2},onClick:()=>f(!0),children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:X.bg},children:N?o.jsx("img",{src:N,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:X.accentDark},children:((_=j==null?void 0:j.name)==null?void 0:_[0])||"?"})})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:X.bg,boxShadow:"var(--inset-shadow)"},children:b0.map(E=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:t===E.key?{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.accentDark}:{color:X.textMuted},onClick:()=>n(E.key),children:E.label},E.key))})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:v?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:X.accent,borderTopColor:"transparent"}})}):p.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:X.textMuted},children:t==="theirs"?"":""}):p.map(E=>{const B=E.unlock_at&&new Date(E.unlock_at)>new Date;return o.jsx(j0,{onDelete:()=>C(E.id),children:o.jsxs("div",{className:"p-4 rounded-[18px]",style:{background:X.bg,userSelect:"none"},onClick:()=>P(E),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[!E.is_read&&E.author==="assistant"&&!B&&o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{background:"#ef4444"}}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:X.text},children:E.title||""})]}),o.jsx("span",{className:"text-[10px] shrink-0 ml-2",style:{color:X.textMuted},children:Oh(E.created_at)})]}),B?o.jsx(S0,{unlockAt:E.unlock_at}):o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:X.textMuted,maxHeight:40,overflow:"hidden"},children:E.content.length>60?E.content.slice(0,60)+"...":E.content})]})},E.id)})}),t==="mine"&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center",style:{zIndex:30},children:o.jsx("button",{className:"flex h-12 w-12 items-center justify-center rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",boxShadow:"0 4px 14px rgba(232,160,191,0.4)"},onClick:()=>S(!0),children:o.jsx(Hr,{size:22,color:"white"})})}),u&&o.jsx(N0,{assistants:r,avatarMap:l,currentId:i,onSelect:c,onClose:()=>f(!1)}),y&&o.jsx(k0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(E){console.error(E)}b(null)},onCancel:()=>b(null)})]})}const pe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function T0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:pe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:pe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ar,{size:18,style:{color:pe.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:pe.bg,color:pe.text},placeholder:"..."})]})}function D0(){const e=$t(),[t,n]=d.useState(""),[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,f]=d.useState(!1),[p,h]=d.useState(!0),[v,w]=d.useState(null),[y,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=k=>{w(k),setTimeout(()=>w(null),2e3)};d.useEffect(()=>{A("/api/user/profile").then(k=>{n(k.nickname||""),s(k.background_url||""),a(k.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Wr("user-avatar").then(k=>{k&&c(k)}).catch(function(){})},[]);const S=k=>{var z;const C=(z=k.target.files)==null?void 0:z[0];if(!C)return;const R=new FileReader;R.onload=async P=>{const _=P.target.result;try{await Ci("user-avatar",_),c(_)}catch(E){g("")}},R.readAsDataURL(C),k.target.value=""},j=k=>{var z;const C=(z=k.target.files)==null?void 0:z[0];if(!C)return;const R=new FileReader;R.onload=P=>a(P.target.result||""),R.readAsText(C),k.target.value=""},N=async()=>{f(!0);try{const k={nickname:t.trim()||null,background_url:r||null,basic_info:l||null,avatar_url:i?"user-avatar":null};await A("/api/user/profile",{method:"PUT",body:k});try{const C=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...C,...k}))}catch(C){}g("")}catch(k){g("")}finally{f(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:pe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:pe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:pe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:pe.bg,boxShadow:u?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:N,disabled:u,children:o.jsx(Bo,{size:18,style:{color:pe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:p?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:pe.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:pe.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:pe.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:pe.accentDark},children:o.jsx(nh,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:S}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:pe.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:k=>n(k.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:pe.bg,color:pe.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:pe.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:pe.bg,color:pe.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:pe.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:pe.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:pe.bg},onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},title:"",children:o.jsx(Fo,{size:13,style:{color:pe.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:j}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:pe.bg},onClick:()=>b(!0),title:"",children:o.jsx(Gs,{size:13,style:{color:pe.accentDark}})})]})]}),o.jsx("textarea",{value:l,onChange:k=>a(k.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:pe.bg,color:pe.text}})]})]})}),y&&o.jsx(T0,{value:l,onChange:a,onClose:()=>b(!1)}),v&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:v})})]})}function _0(){return d.useEffect(()=>{var t;const e=()=>{var s;const n=(s=window.Telegram)==null?void 0:s.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),o.jsx(uy,{children:o.jsxs(ay,{children:[o.jsx(ot,{path:"/",element:o.jsx(Iy,{})}),o.jsx(ot,{path:"/profile",element:o.jsx(D0,{})}),o.jsx(ot,{path:"/world-books",element:o.jsx(Fy,{})}),o.jsx(ot,{path:"/world-books/new",element:o.jsx(ld,{})}),o.jsx(ot,{path:"/world-books/:id",element:o.jsx(ld,{})}),o.jsx(ot,{path:"/assistants",element:o.jsx(Jy,{})}),o.jsx(ot,{path:"/assistants/new",element:o.jsx(bd,{})}),o.jsx(ot,{path:"/assistants/:id",element:o.jsx(bd,{})}),o.jsx(ot,{path:"/settings",element:o.jsx(G1,{})}),o.jsx(ot,{path:"/settings/api",element:o.jsx(n0,{})}),o.jsx(ot,{path:"/cot",element:o.jsx(d0,{})}),o.jsx(ot,{path:"/memories",element:o.jsx(w0,{})}),o.jsx(ot,{path:"/diary",element:o.jsx(M0,{})}),o.jsx(ot,{path:"/messages",element:o.jsx(h0,{})})]})})}_a.createRoot(document.getElementById("root")).render(o.jsx(be.StrictMode,{children:o.jsx(_0,{})}));
