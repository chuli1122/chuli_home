function Qh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Gh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rd={exports:{}},ko={},zd={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),Zh=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),nm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),lm=Symbol.for("react.memo"),om=Symbol.for("react.lazy"),$c=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var Pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Id=Object.assign,Ld={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Ld,this.updater=n||Pd}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Od(){}Od.prototype=Br.prototype;function Pi(e,t,n){this.props=e,this.context=t,this.refs=Ld,this.updater=n||Pd}var Ii=Pi.prototype=new Od;Ii.constructor=Pi;Id(Ii,Br.prototype);Ii.isPureReactComponent=!0;var Fc=Array.isArray,Ad=Object.prototype.hasOwnProperty,Li={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Fd(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Ad.call(t,r)&&!$d.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:Ws,type:e,key:l,ref:a,props:s,_owner:Li.current}}function im(e,t){return{$$typeof:Ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ws}function cm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cm(""+e.key):t.toString(36)}function Tl(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ws:case qh:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ea(a,0):r,Fc(s)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),Tl(s,t,n,"",function(u){return u})):s!=null&&(Oi(s)&&(s=im(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Bc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Fc(e))for(var i=0;i<e.length;i++){l=e[i];var c=r+ea(l,i);a+=Tl(l,t,n,c,s)}else if(c=am(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=r+ea(l,i++),a+=Tl(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function rl(e,t,n){if(e==null)return e;var r=[],s=0;return Tl(e,r,"","",function(l){return t.call(n,l,s++)}),r}function um(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Dl={transition:null},dm={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Li};function Bd(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:rl,forEach:function(e,t,n){rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rl(e,function(){t++}),t},toArray:function(e){return rl(e,function(t){return t})||[]},only:function(e){if(!Oi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Br;ne.Fragment=Jh;ne.Profiler=em;ne.PureComponent=Pi;ne.StrictMode=Zh;ne.Suspense=sm;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;ne.act=Bd;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Id({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Li.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Ad.call(t,c)&&!$d.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Ws,type:e.type,key:s,ref:l,props:r,_owner:a}};ne.createContext=function(e){return e={$$typeof:nm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tm,_context:e},e.Consumer=e};ne.createElement=Fd;ne.createFactory=function(e){var t=Fd.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:rm,render:e}};ne.isValidElement=Oi;ne.lazy=function(e){return{$$typeof:om,_payload:{_status:-1,_result:e},_init:um}};ne.memo=function(e,t){return{$$typeof:lm,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};ne.unstable_act=Bd;ne.useCallback=function(e,t){return ct.current.useCallback(e,t)};ne.useContext=function(e){return ct.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ne.useEffect=function(e,t){return ct.current.useEffect(e,t)};ne.useId=function(){return ct.current.useId()};ne.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ct.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};ne.useRef=function(e){return ct.current.useRef(e)};ne.useState=function(e){return ct.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return ct.current.useTransition()};ne.version="18.3.1";zd.exports=ne;var d=zd.exports;const be=Gh(d),fm=Qh({__proto__:null,default:be},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=d,hm=Symbol.for("react.element"),mm=Symbol.for("react.fragment"),xm=Object.prototype.hasOwnProperty,gm=pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ym={key:!0,ref:!0,__self:!0,__source:!0};function Ud(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)xm.call(t,r)&&!ym.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:hm,type:e,key:l,ref:a,props:s,_owner:gm.current}}ko.Fragment=mm;ko.jsx=Ud;ko.jsxs=Ud;Rd.exports=ko;var o=Rd.exports,Ia={},Hd={exports:{}},Nt={},Wd={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var F=I.length;I.push(H);e:for(;0<F;){var Z=F-1>>>1,Q=I[Z];if(0<s(Q,H))I[Z]=H,I[F]=Q,F=Z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],F=I.pop();if(F!==H){I[0]=F;e:for(var Z=0,Q=I.length,pe=Q>>>1;Z<pe;){var me=2*(Z+1)-1,Me=I[me],te=me+1,J=I[te];if(0>s(Me,F))te<Q&&0>s(J,Me)?(I[Z]=J,I[te]=F,Z=te):(I[Z]=Me,I[me]=F,Z=me);else if(te<Q&&0>s(J,F))I[Z]=J,I[te]=F,Z=te;else break e}}return H}function s(I,H){var F=I.sortIndex-H.sortIndex;return F!==0?F:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],f=1,p=null,h=3,v=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=I)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function S(I){if(y=!1,g(I),!b)if(n(c)!==null)b=!0,ie(j);else{var H=n(u);H!==null&&se(S,H.startTime-I)}}function j(I,H){b=!1,y&&(y=!1,x(C),C=-1),v=!0;var F=h;try{for(g(H),p=n(c);p!==null&&(!(p.expirationTime>H)||I&&!P());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,h=p.priorityLevel;var Q=Z(p.expirationTime<=H);H=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&r(c),g(H)}else r(c);p=n(c)}if(p!==null)var pe=!0;else{var me=n(u);me!==null&&se(S,me.startTime-H),pe=!1}return pe}finally{p=null,h=F,v=!1}}var N=!1,k=null,C=-1,R=5,z=-1;function P(){return!(e.unstable_now()-z<R)}function D(){if(k!==null){var I=e.unstable_now();z=I;var H=!0;try{H=k(!0,I)}finally{H?E():(N=!1,k=null)}}else N=!1}var E;if(typeof m=="function")E=function(){m(D)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=D,E=function(){K.postMessage(null)}}else E=function(){w(D,0)};function ie(I){k=I,N||(N=!0,E())}function se(I,H){C=w(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,ie(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var F=h;h=H;try{return I()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=h;h=I;try{return H()}finally{h=F}},e.unstable_scheduleCallback=function(I,H,F){var Z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,I={id:f++,callback:H,priorityLevel:I,startTime:F,expirationTime:Q,sortIndex:-1},F>Z?(I.sortIndex=F,t(u,I),n(c)===null&&I===n(u)&&(y?(x(C),C=-1):y=!0,se(S,F-Z))):(I.sortIndex=Q,t(c,I),b||v||(b=!0,ie(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var H=h;return function(){var F=h;h=H;try{return I.apply(this,arguments)}finally{h=F}}}})(Vd);Wd.exports=Vd;var vm=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=d,St=vm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xd=new Set,ks={};function nr(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(ks[e]=t,e=0;e<t.length;e++)Xd.add(t[e])}var un=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),La=Object.prototype.hasOwnProperty,bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Hc={};function km(e){return La.call(Hc,e)?!0:La.call(Uc,e)?!1:bm.test(e)?Hc[e]=!0:(Uc[e]=!0,!1)}function jm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sm(e,t,n,r){if(t===null||typeof t=="undefined"||jm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ai=/[\-:]([a-z])/g;function $i(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ai,$i);Je[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ai,$i);Je[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ai,$i);Je[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fi(e,t,n,r){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sm(t,n,s,r)&&(n=null),r||s===null?km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Bi=Symbol.for("react.strict_mode"),Oa=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Ui=Symbol.for("react.forward_ref"),Aa=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),Hi=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Qd=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,ta;function os(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,i=l.length-1;1<=a&&0<=i&&s[a]!==l[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==l[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==l[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?os(e):""}function Nm(e){switch(e.tag){case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case Oa:return"Profiler";case Bi:return"StrictMode";case Aa:return"Suspense";case $a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yd:return(e.displayName||"Context")+".Consumer";case Kd:return(e._context.displayName||"Context")+".Provider";case Ui:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hi:return t=e.displayName||null,t!==null?t:Fa(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Fa(e(t))}catch(n){}}return null}function Cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fa(t);case 8:return t===Bi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e){var t=Gd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ll(e){e._valueTracker||(e._valueTracker=Em(e))}function qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ba(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jd(e,t){t=t.checked,t!=null&&Fi(e,"checked",t,!1)}function Ua(e,t){Jd(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ha(e,t,n){(t!=="number"||Hl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var as=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(as(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function Zd(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ol,tf=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mm=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(e){Mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),us[t]=us[e]})});function nf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||us.hasOwnProperty(e)&&us[e]?(""+t).trim():t+"px"}function rf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _m=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xa(e,t){if(t){if(_m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Nr=null,Cr=null;function Qc(e){if(e=Ks(e)){if(typeof Qa!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Eo(t),Qa(e.stateNode,e.type,t))}}function sf(e){Nr?Cr?Cr.push(e):Cr=[e]:Nr=e}function lf(){if(Nr){var e=Nr,t=Cr;if(Cr=Nr=null,Qc(e),t)for(e=0;e<t.length;e++)Qc(t[e])}}function of(e,t){return e(t)}function af(){}var sa=!1;function cf(e,t,n){if(sa)return e(t,n);sa=!0;try{return of(e,t,n)}finally{sa=!1,(Nr!==null||Cr!==null)&&(af(),lf())}}function Ss(e,t){var n=e.stateNode;if(n===null)return null;var r=Eo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Ga=!1;if(un)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch(e){Ga=!1}function Tm(e,t,n,r,s,l,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ds=!1,Wl=null,Vl=!1,qa=null,Dm={onError:function(e){ds=!0,Wl=e}};function Rm(e,t,n,r,s,l,a,i,c){ds=!1,Wl=null,Tm.apply(Dm,arguments)}function zm(e,t,n,r,s,l,a,i,c){if(Rm.apply(this,arguments),ds){if(ds){var u=Wl;ds=!1,Wl=null}else throw Error(T(198));Vl||(Vl=!0,qa=u)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gc(e){if(rr(e)!==e)throw Error(T(188))}function Pm(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Gc(s),e;if(l===r)return Gc(s),t;l=l.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a){for(i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function df(e){return e=Pm(e),e!==null?ff(e):null}function ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ff(e);if(t!==null)return t;e=e.sibling}return null}var pf=St.unstable_scheduleCallback,qc=St.unstable_cancelCallback,Im=St.unstable_shouldYield,Lm=St.unstable_requestPaint,Ie=St.unstable_now,Om=St.unstable_getCurrentPriorityLevel,Vi=St.unstable_ImmediatePriority,hf=St.unstable_UserBlockingPriority,Xl=St.unstable_NormalPriority,Am=St.unstable_LowPriority,mf=St.unstable_IdlePriority,jo=null,en=null;function $m(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Wt=Math.clz32?Math.clz32:Um,Fm=Math.log,Bm=Math.LN2;function Um(e){return e>>>=0,e===0?32:31-(Fm(e)/Bm|0)|0}var al=64,il=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=is(i):(l&=a,l!==0&&(r=is(l)))}else a=n&~s,a!==0?r=is(a):l!==0&&(r=is(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Hm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Wt(l),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=Hm(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Ja(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xf(){var e=al;return al<<=1,!(al&4194240)&&(al=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Vm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Xi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,Ki,vf,wf,bf,Za=!1,cl=[],_n=null,Tn=null,Dn=null,Ns=new Map,Cs=new Map,Sn=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function es(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Ks(t),t!==null&&Ki(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Km(e,t,n,r,s){switch(t){case"focusin":return _n=es(_n,e,t,n,r,s),!0;case"dragenter":return Tn=es(Tn,e,t,n,r,s),!0;case"mouseover":return Dn=es(Dn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Ns.set(l,es(Ns.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Cs.set(l,es(Cs.get(l)||null,e,t,n,r,s)),!0}return!1}function kf(e){var t=Vn(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=uf(n),t!==null){e.blockedOn=t,bf(e.priority,function(){vf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ei(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ya=r,n.target.dispatchEvent(r),Ya=null}else return t=Ks(n),t!==null&&Ki(t),e.blockedOn=n,!1;t.shift()}return!0}function Zc(e,t,n){Rl(e)&&n.delete(t)}function Ym(){Za=!1,_n!==null&&Rl(_n)&&(_n=null),Tn!==null&&Rl(Tn)&&(Tn=null),Dn!==null&&Rl(Dn)&&(Dn=null),Ns.forEach(Zc),Cs.forEach(Zc)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Ym)))}function Es(e){function t(s){return ts(s,e)}if(0<cl.length){ts(cl[0],e);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&ts(_n,e),Tn!==null&&ts(Tn,e),Dn!==null&&ts(Dn,e),Ns.forEach(t),Cs.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)kf(n),n.blockedOn===null&&Sn.shift()}var Er=mn.ReactCurrentBatchConfig,Yl=!0;function Qm(e,t,n,r){var s=ge,l=Er.transition;Er.transition=null;try{ge=1,Yi(e,t,n,r)}finally{ge=s,Er.transition=l}}function Gm(e,t,n,r){var s=ge,l=Er.transition;Er.transition=null;try{ge=4,Yi(e,t,n,r)}finally{ge=s,Er.transition=l}}function Yi(e,t,n,r){if(Yl){var s=ei(e,t,n,r);if(s===null)ma(e,t,r,Ql,n),Jc(e,r);else if(Km(s,e,t,n,r))r.stopPropagation();else if(Jc(e,r),t&4&&-1<Xm.indexOf(e)){for(;s!==null;){var l=Ks(s);if(l!==null&&yf(l),l=ei(e,t,n,r),l===null&&ma(e,t,r,Ql,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else ma(e,t,r,null,n)}}var Ql=null;function ei(e,t,n,r){if(Ql=null,e=Wi(r),e=Vn(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ql=e,null}function jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Om()){case Vi:return 1;case hf:return 4;case Xl:case Am:return 16;case mf:return 536870912;default:return 16}default:return 16}}var Cn=null,Qi=null,zl=null;function Sf(){if(zl)return zl;var e,t=Qi,n=t.length,r,s="value"in Cn?Cn.value:Cn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return zl=s.slice(e,1<r?1-r:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function eu(){return!1}function Ct(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ul:eu,this.isPropagationStopped=eu,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Ct(Ur),Xs=Ee({},Ur,{view:0,detail:0}),qm=Ct(Xs),oa,aa,ns,So=Ee({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(oa=e.screenX-ns.screenX,aa=e.screenY-ns.screenY):aa=oa=0,ns=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),tu=Ct(So),Jm=Ee({},So,{dataTransfer:0}),Zm=Ct(Jm),ex=Ee({},Xs,{relatedTarget:0}),ia=Ct(ex),tx=Ee({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),nx=Ct(tx),rx=Ee({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sx=Ct(rx),lx=Ee({},Ur,{data:0}),nu=Ct(lx),ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ix[e])?!!t[e]:!1}function qi(){return cx}var ux=Ee({},Xs,{key:function(e){if(e.key){var t=ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dx=Ct(ux),fx=Ee({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Ct(fx),px=Ee({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),hx=Ct(px),mx=Ee({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=Ct(mx),gx=Ee({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yx=Ct(gx),vx=[9,13,27,32],Ji=un&&"CompositionEvent"in window,fs=null;un&&"documentMode"in document&&(fs=document.documentMode);var wx=un&&"TextEvent"in window&&!fs,Nf=un&&(!Ji||fs&&8<fs&&11>=fs),su=" ",lu=!1;function Cf(e,t){switch(e){case"keyup":return vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function bx(e,t){switch(e){case"compositionend":return Ef(t);case"keypress":return t.which!==32?null:(lu=!0,su);case"textInput":return e=t.data,e===su&&lu?null:e;default:return null}}function kx(e,t){if(pr)return e==="compositionend"||!Ji&&Cf(e,t)?(e=Sf(),zl=Qi=Cn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nf&&t.locale!=="ko"?null:t.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jx[e.type]:t==="textarea"}function Mf(e,t,n,r){sf(r),t=Gl(t,"onChange"),0<t.length&&(n=new Gi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ps=null,Ms=null;function Sx(e){$f(e,0)}function No(e){var t=xr(e);if(qd(t))return e}function Nx(e,t){if(e==="change")return t}var _f=!1;if(un){var ca;if(un){var ua="oninput"in document;if(!ua){var au=document.createElement("div");au.setAttribute("oninput","return;"),ua=typeof au.oninput=="function"}ca=ua}else ca=!1;_f=ca&&(!document.documentMode||9<document.documentMode)}function iu(){ps&&(ps.detachEvent("onpropertychange",Tf),Ms=ps=null)}function Tf(e){if(e.propertyName==="value"&&No(Ms)){var t=[];Mf(t,Ms,e,Wi(e)),cf(Sx,t)}}function Cx(e,t,n){e==="focusin"?(iu(),ps=t,Ms=n,ps.attachEvent("onpropertychange",Tf)):e==="focusout"&&iu()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(Ms)}function Mx(e,t){if(e==="click")return No(t)}function _x(e,t){if(e==="input"||e==="change")return No(t)}function Tx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:Tx;function _s(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!La.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var n=cu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cu(n)}}function Df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rf(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Hl(e.document)}return t}function Zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dx(e){var t=Rf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Df(n.ownerDocument.documentElement,n)){if(r!==null&&Zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=uu(n,l);var a=uu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rx=un&&"documentMode"in document&&11>=document.documentMode,hr=null,ti=null,hs=null,ni=!1;function du(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ni||hr==null||hr!==Hl(r)||(r=hr,"selectionStart"in r&&Zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&_s(hs,r)||(hs=r,r=Gl(ti,"onSelect"),0<r.length&&(t=new Gi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function dl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},da={},zf={};un&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Co(e){if(da[e])return da[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zf)return da[e]=t[n];return e}var Pf=Co("animationend"),If=Co("animationiteration"),Lf=Co("animationstart"),Of=Co("transitionend"),Af=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Af.set(e,t),nr(t,[e])}for(var fa=0;fa<fu.length;fa++){var pa=fu[fa],zx=pa.toLowerCase(),Px=pa[0].toUpperCase()+pa.slice(1);$n(zx,"on"+Px)}$n(Pf,"onAnimationEnd");$n(If,"onAnimationIteration");$n(Lf,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Of,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zm(r,t,void 0,e),e.currentTarget=null}function $f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;pu(s,i,u),l=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;pu(s,i,u),l=c}}}if(Vl)throw e=qa,Vl=!1,qa=null,e}function we(e,t){var n=t[ai];n===void 0&&(n=t[ai]=new Set);var r=e+"__bubble";n.has(r)||(Ff(t,e,2,!1),n.add(r))}function ha(e,t,n){var r=0;t&&(r|=4),Ff(n,e,r,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Ts(e){if(!e[fl]){e[fl]=!0,Xd.forEach(function(n){n!=="selectionchange"&&(Ix.has(n)||ha(n,!1,e),ha(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,ha("selectionchange",!1,t))}}function Ff(e,t,n,r){switch(jf(t)){case 1:var s=Qm;break;case 4:s=Gm;break;default:s=Yi}n=s.bind(null,t,n,e),s=void 0,!Ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ma(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Vn(i),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}i=i.parentNode}}r=r.return}cf(function(){var u=l,f=Wi(n),p=[];e:{var h=Af.get(e);if(h!==void 0){var v=Gi,b=e;switch(e){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":v=dx;break;case"focusin":b="focus",v=ia;break;case"focusout":b="blur",v=ia;break;case"beforeblur":case"afterblur":v=ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hx;break;case Pf:case If:case Lf:v=nx;break;case Of:v=xx;break;case"scroll":v=qm;break;case"wheel":v=yx;break;case"copy":case"cut":case"paste":v=sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ru}var y=(t&4)!==0,w=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,g;m!==null;){g=m;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,x!==null&&(S=Ss(m,x),S!=null&&y.push(Ds(m,S,g)))),w)break;m=m.return}0<y.length&&(h=new v(h,b,null,n,f),p.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ya&&(b=n.relatedTarget||n.fromElement)&&(Vn(b)||b[dn]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?Vn(b):null,b!==null&&(w=rr(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(y=tu,S="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=ru,S="onPointerLeave",x="onPointerEnter",m="pointer"),w=v==null?h:xr(v),g=b==null?h:xr(b),h=new y(S,m+"leave",v,n,f),h.target=w,h.relatedTarget=g,S=null,Vn(f)===u&&(y=new y(x,m+"enter",b,n,f),y.target=g,y.relatedTarget=w,S=y),w=S,v&&b)t:{for(y=v,x=b,m=0,g=y;g;g=ir(g))m++;for(g=0,S=x;S;S=ir(S))g++;for(;0<m-g;)y=ir(y),m--;for(;0<g-m;)x=ir(x),g--;for(;m--;){if(y===x||x!==null&&y===x.alternate)break t;y=ir(y),x=ir(x)}y=null}else y=null;v!==null&&hu(p,h,v,y,!1),b!==null&&w!==null&&hu(p,w,b,y,!0)}}e:{if(h=u?xr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var j=Nx;else if(ou(h))if(_f)j=_x;else{j=Ex;var N=Cx}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Mx);if(j&&(j=j(e,u))){Mf(p,j,n,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ha(h,"number",h.value)}switch(N=u?xr(u):window,e){case"focusin":(ou(N)||N.contentEditable==="true")&&(hr=N,ti=u,hs=null);break;case"focusout":hs=ti=hr=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":ni=!1,du(p,n,f);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":du(p,n,f)}var k;if(Ji)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pr?Cf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Nf&&n.locale!=="ko"&&(pr||C!=="onCompositionStart"?C==="onCompositionEnd"&&pr&&(k=Sf()):(Cn=f,Qi="value"in Cn?Cn.value:Cn.textContent,pr=!0)),N=Gl(u,C),0<N.length&&(C=new nu(C,e,null,n,f),p.push({event:C,listeners:N}),k?C.data=k:(k=Ef(n),k!==null&&(C.data=k)))),(k=wx?bx(e,n):kx(e,n))&&(u=Gl(u,"onBeforeInput"),0<u.length&&(f=new nu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=k))}$f(p,t)})}function Ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Ss(e,n),l!=null&&r.unshift(Ds(e,l,s)),l=Ss(e,t),l!=null&&r.push(Ds(e,l,s))),e=e.return}return r}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hu(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=Ss(n,l),c!=null&&a.unshift(Ds(n,c,i))):s||(c=Ss(n,l),c!=null&&a.push(Ds(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Lx=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(Lx,`
`).replace(Ox,"")}function pl(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(T(425))}function ql(){}var ri=null,si=null;function li(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof xu!="undefined"?function(e){return xu.resolve(null).then(e).catch(Fx)}:oi;function Fx(e){setTimeout(function(){throw e})}function xa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Es(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Hr,Rs="__reactProps$"+Hr,dn="__reactContainer$"+Hr,ai="__reactEvents$"+Hr,Bx="__reactListeners$"+Hr,Ux="__reactHandles$"+Hr;function Vn(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gu(e);e!==null;){if(n=e[Zt])return n;e=gu(e)}return t}e=n,n=e.parentNode}return null}function Ks(e){return e=e[Zt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Eo(e){return e[Rs]||null}var ii=[],gr=-1;function Fn(e){return{current:e}}function ke(e){0>gr||(e.current=ii[gr],ii[gr]=null,gr--)}function ve(e,t){gr++,ii[gr]=e.current,e.current=t}var An={},lt=Fn(An),mt=Fn(!1),qn=An;function Rr(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function Jl(){ke(mt),ke(lt)}function yu(e,t,n){if(lt.current!==An)throw Error(T(168));ve(lt,t),ve(mt,n)}function Bf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Cm(e)||"Unknown",s));return Ee({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,qn=lt.current,ve(lt,e),ve(mt,mt.current),!0}function vu(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Bf(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,ke(mt),ke(lt),ve(lt,e)):ke(mt),ve(mt,n)}var ln=null,Mo=!1,ga=!1;function Uf(e){ln===null?ln=[e]:ln.push(e)}function Hx(e){Mo=!0,Uf(e)}function Bn(){if(!ga&&ln!==null){ga=!0;var e=0,t=ge;try{var n=ln;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Mo=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),pf(Vi,Bn),s}finally{ge=t,ga=!1}}return null}var yr=[],vr=0,eo=null,to=0,zt=[],Pt=0,Jn=null,on=1,an="";function Hn(e,t){yr[vr++]=to,yr[vr++]=eo,eo=e,to=t}function Hf(e,t,n){zt[Pt++]=on,zt[Pt++]=an,zt[Pt++]=Jn,Jn=e;var r=on;e=an;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var l=32-Wt(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,on=1<<32-Wt(t)+s|n<<s|r,an=l+e}else on=1<<l|n<<s|r,an=e}function ec(e){e.return!==null&&(Hn(e,1),Hf(e,1,0))}function tc(e){for(;e===eo;)eo=yr[--vr],yr[vr]=null,to=yr[--vr],yr[vr]=null;for(;e===Jn;)Jn=zt[--Pt],zt[Pt]=null,an=zt[--Pt],zt[Pt]=null,on=zt[--Pt],zt[Pt]=null}var jt=null,kt=null,Se=!1,Ht=null;function Wf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,kt=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:on,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,kt=null,!0):!1;default:return!1}}function ci(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ui(e){if(Se){var t=kt;if(t){var n=t;if(!wu(e,t)){if(ci(e))throw Error(T(418));t=Rn(n.nextSibling);var r=jt;t&&wu(e,t)?Wf(r,n):(e.flags=e.flags&-4097|2,Se=!1,jt=e)}}else{if(ci(e))throw Error(T(418));e.flags=e.flags&-4097|2,Se=!1,jt=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function hl(e){if(e!==jt)return!1;if(!Se)return bu(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!li(e.type,e.memoizedProps)),t&&(t=kt)){if(ci(e))throw Vf(),Error(T(418));for(;t;)Wf(e,t),t=Rn(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=Rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=jt?Rn(e.stateNode.nextSibling):null;return!0}function Vf(){for(var e=kt;e;)e=Rn(e.nextSibling)}function zr(){kt=jt=null,Se=!1}function nc(e){Ht===null?Ht=[e]:Ht.push(e)}var Wx=mn.ReactCurrentBatchConfig;function rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var i=s.refs;a===null?delete i[l]:i[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ku(e){var t=e._init;return t(e._payload)}function Xf(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=Ln(x,m),x.index=0,x.sibling=null,x}function l(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,S){return m===null||m.tag!==6?(m=Sa(g,x.mode,S),m.return=x,m):(m=s(m,g),m.return=x,m)}function c(x,m,g,S){var j=g.type;return j===fr?f(x,m,g.props.children,S,g.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bn&&ku(j)===m.type)?(S=s(m,g.props),S.ref=rs(x,m,g),S.return=x,S):(S=Bl(g.type,g.key,g.props,null,x.mode,S),S.ref=rs(x,m,g),S.return=x,S)}function u(x,m,g,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Na(g,x.mode,S),m.return=x,m):(m=s(m,g.children||[]),m.return=x,m)}function f(x,m,g,S,j){return m===null||m.tag!==7?(m=Qn(g,x.mode,S,j),m.return=x,m):(m=s(m,g),m.return=x,m)}function p(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sa(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case sl:return g=Bl(m.type,m.key,m.props,null,x.mode,g),g.ref=rs(x,null,m),g.return=x,g;case dr:return m=Na(m,x.mode,g),m.return=x,m;case bn:var S=m._init;return p(x,S(m._payload),g)}if(as(m)||Jr(m))return m=Qn(m,x.mode,g,null),m.return=x,m;ml(x,m)}return null}function h(x,m,g,S){var j=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:i(x,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case sl:return g.key===j?c(x,m,g,S):null;case dr:return g.key===j?u(x,m,g,S):null;case bn:return j=g._init,h(x,m,j(g._payload),S)}if(as(g)||Jr(g))return j!==null?null:f(x,m,g,S,null);ml(x,g)}return null}function v(x,m,g,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(g)||null,i(m,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sl:return x=x.get(S.key===null?g:S.key)||null,c(m,x,S,j);case dr:return x=x.get(S.key===null?g:S.key)||null,u(m,x,S,j);case bn:var N=S._init;return v(x,m,g,N(S._payload),j)}if(as(S)||Jr(S))return x=x.get(g)||null,f(m,x,S,j,null);ml(m,S)}return null}function b(x,m,g,S){for(var j=null,N=null,k=m,C=m=0,R=null;k!==null&&C<g.length;C++){k.index>C?(R=k,k=null):R=k.sibling;var z=h(x,k,g[C],S);if(z===null){k===null&&(k=R);break}e&&k&&z.alternate===null&&t(x,k),m=l(z,m,C),N===null?j=z:N.sibling=z,N=z,k=R}if(C===g.length)return n(x,k),Se&&Hn(x,C),j;if(k===null){for(;C<g.length;C++)k=p(x,g[C],S),k!==null&&(m=l(k,m,C),N===null?j=k:N.sibling=k,N=k);return Se&&Hn(x,C),j}for(k=r(x,k);C<g.length;C++)R=v(k,x,C,g[C],S),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?C:R.key),m=l(R,m,C),N===null?j=R:N.sibling=R,N=R);return e&&k.forEach(function(P){return t(x,P)}),Se&&Hn(x,C),j}function y(x,m,g,S){var j=Jr(g);if(typeof j!="function")throw Error(T(150));if(g=j.call(g),g==null)throw Error(T(151));for(var N=j=null,k=m,C=m=0,R=null,z=g.next();k!==null&&!z.done;C++,z=g.next()){k.index>C?(R=k,k=null):R=k.sibling;var P=h(x,k,z.value,S);if(P===null){k===null&&(k=R);break}e&&k&&P.alternate===null&&t(x,k),m=l(P,m,C),N===null?j=P:N.sibling=P,N=P,k=R}if(z.done)return n(x,k),Se&&Hn(x,C),j;if(k===null){for(;!z.done;C++,z=g.next())z=p(x,z.value,S),z!==null&&(m=l(z,m,C),N===null?j=z:N.sibling=z,N=z);return Se&&Hn(x,C),j}for(k=r(x,k);!z.done;C++,z=g.next())z=v(k,x,C,z.value,S),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?C:z.key),m=l(z,m,C),N===null?j=z:N.sibling=z,N=z);return e&&k.forEach(function(D){return t(x,D)}),Se&&Hn(x,C),j}function w(x,m,g,S){if(typeof g=="object"&&g!==null&&g.type===fr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case sl:e:{for(var j=g.key,N=m;N!==null;){if(N.key===j){if(j=g.type,j===fr){if(N.tag===7){n(x,N.sibling),m=s(N,g.props.children),m.return=x,x=m;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bn&&ku(j)===N.type){n(x,N.sibling),m=s(N,g.props),m.ref=rs(x,N,g),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}g.type===fr?(m=Qn(g.props.children,x.mode,S,g.key),m.return=x,x=m):(S=Bl(g.type,g.key,g.props,null,x.mode,S),S.ref=rs(x,m,g),S.return=x,x=S)}return a(x);case dr:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=s(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Na(g,x.mode,S),m.return=x,x=m}return a(x);case bn:return N=g._init,w(x,m,N(g._payload),S)}if(as(g))return b(x,m,g,S);if(Jr(g))return y(x,m,g,S);ml(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,g),m.return=x,x=m):(n(x,m),m=Sa(g,x.mode,S),m.return=x,x=m),a(x)):n(x,m)}return w}var Pr=Xf(!0),Kf=Xf(!1),no=Fn(null),ro=null,wr=null,rc=null;function sc(){rc=wr=ro=null}function lc(e){var t=no.current;ke(no),e._currentValue=t}function di(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){ro=e,rc=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(rc!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(ro===null)throw Error(T(308));wr=e,ro.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Xn=null;function oc(e){Xn===null?Xn=[e]:Xn.push(e)}function Yf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,oc(t)):(n.next=s.next,s.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fn(e,n)}return s=r.interleaved,s===null?(t.next=t,oc(r)):(t.next=s.next,s.next=t),r.interleaved=t,fn(e,n)}function Il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xi(e,n)}}function ju(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var s=e.updateQueue;kn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==a&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=c))}if(l!==null){var p=s.baseState;a=0,f=u=c=null,i=l;do{var h=i.lane,v=i.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,y=i;switch(h=t,v=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){p=b.call(v,p,h);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(v,p,h):b,h==null)break e;p=Ee({},p,h);break e;case 2:kn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else v={eventTime:v,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=v,c=p):f=f.next=v,a|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);er|=a,e.lanes=a,e.memoizedState=p}}function Su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Ys={},tn=Fn(Ys),zs=Fn(Ys),Ps=Fn(Ys);function Kn(e){if(e===Ys)throw Error(T(174));return e}function ic(e,t){switch(ve(Ps,t),ve(zs,e),ve(tn,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Va(t,e)}ke(tn),ve(tn,t)}function Ir(){ke(tn),ke(zs),ke(Ps)}function Gf(e){Kn(Ps.current);var t=Kn(tn.current),n=Va(t,e.type);t!==n&&(ve(zs,e),ve(tn,n))}function cc(e){zs.current===e&&(ke(tn),ke(zs))}var Ne=Fn(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function uc(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var Ll=mn.ReactCurrentDispatcher,va=mn.ReactCurrentBatchConfig,Zn=0,Ce=null,$e=null,Ve=null,oo=!1,ms=!1,Is=0,Vx=0;function nt(){throw Error(T(321))}function dc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function fc(e,t,n,r,s,l){if(Zn=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?Qx:Gx,e=n(r,s),ms){l=0;do{if(ms=!1,Is=0,25<=l)throw Error(T(301));l+=1,Ve=$e=null,t.updateQueue=null,Ll.current=qx,e=n(r,s)}while(ms)}if(Ll.current=ao,t=$e!==null&&$e.next!==null,Zn=0,Ve=$e=Ce=null,oo=!1,t)throw Error(T(300));return e}function pc(){var e=Is!==0;return Is=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function At(){if($e===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ve===null?Ce.memoizedState:Ve.next;if(t!==null)Ve=t,$e=e;else{if(e===null)throw Error(T(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ls(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=At(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=a=null,c=null,u=l;do{var f=u.lane;if((Zn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=p,a=r):c=c.next=p,Ce.lanes|=f,er|=f}u=u.next}while(u!==null&&u!==l);c===null?a=r:c.next=i,Xt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Ce.lanes|=l,er|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=At(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Xt(l,t.memoizedState)||(ht=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function qf(){}function Jf(e,t){var n=Ce,r=At(),s=t(),l=!Xt(r.memoizedState,s);if(l&&(r.memoizedState=s,ht=!0),r=r.queue,hc(tp.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Os(9,ep.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(T(349));Zn&30||Zf(n,t,s)}return s}function Zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ep(e,t,n,r){t.value=n,t.getSnapshot=r,np(t)&&rp(e)}function tp(e,t,n){return n(function(){np(t)&&rp(e)})}function np(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch(r){return!0}}function rp(e){var t=fn(e,1);t!==null&&Vt(t,e,1,-1)}function Nu(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},t.queue=e,e=e.dispatch=Yx.bind(null,Ce,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sp(){return At().memoizedState}function Ol(e,t,n,r){var s=Jt();Ce.flags|=e,s.memoizedState=Os(1|t,n,void 0,r===void 0?null:r)}function _o(e,t,n,r){var s=At();r=r===void 0?null:r;var l=void 0;if($e!==null){var a=$e.memoizedState;if(l=a.destroy,r!==null&&dc(r,a.deps)){s.memoizedState=Os(t,n,l,r);return}}Ce.flags|=e,s.memoizedState=Os(1|t,n,l,r)}function Cu(e,t){return Ol(8390656,8,e,t)}function hc(e,t){return _o(2048,8,e,t)}function lp(e,t){return _o(4,2,e,t)}function op(e,t){return _o(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ip(e,t,n){return n=n!=null?n.concat([e]):null,_o(4,4,ap.bind(null,t,e),n)}function mc(){}function cp(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function up(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dp(e,t,n){return Zn&21?(Xt(n,t)||(n=xf(),Ce.lanes|=n,er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Xx(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=va.transition;va.transition={};try{e(!1),t()}finally{ge=n,va.transition=r}}function fp(){return At().memoizedState}function Kx(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pp(e))hp(t,n);else if(n=Yf(e,t,n,r),n!==null){var s=it();Vt(n,e,r,s),mp(n,t,r)}}function Yx(e,t,n){var r=In(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pp(e))hp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,i=l(a,n);if(s.hasEagerState=!0,s.eagerState=i,Xt(i,a)){var c=t.interleaved;c===null?(s.next=s,oc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch(u){}finally{}n=Yf(e,t,s,r),n!==null&&(s=it(),Vt(n,e,r,s),mp(n,t,r))}}function pp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function hp(e,t){ms=oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xi(e,n)}}var ao={readContext:Ot,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Qx={readContext:Ot,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Cu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kx.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Nu,useDebugValue:mc,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Nu(!1),t=e[0];return e=Xx.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,s=Jt();if(Se){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Ke===null)throw Error(T(349));Zn&30||Zf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Cu(tp.bind(null,r,l,e),[e]),r.flags|=2048,Os(9,ep.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Ke.identifierPrefix;if(Se){var n=an,r=on;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gx={readContext:Ot,useCallback:cp,useContext:Ot,useEffect:hc,useImperativeHandle:ip,useInsertionEffect:lp,useLayoutEffect:op,useMemo:up,useReducer:wa,useRef:sp,useState:function(){return wa(Ls)},useDebugValue:mc,useDeferredValue:function(e){var t=At();return dp(t,$e.memoizedState,e)},useTransition:function(){var e=wa(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:qf,useSyncExternalStore:Jf,useId:fp,unstable_isNewReconciler:!1},qx={readContext:Ot,useCallback:cp,useContext:Ot,useEffect:hc,useImperativeHandle:ip,useInsertionEffect:lp,useLayoutEffect:op,useMemo:up,useReducer:ba,useRef:sp,useState:function(){return ba(Ls)},useDebugValue:mc,useDeferredValue:function(e){var t=At();return $e===null?t.memoizedState=e:dp(t,$e.memoizedState,e)},useTransition:function(){var e=ba(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:qf,useSyncExternalStore:Jf,useId:fp,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=In(e),l=cn(r,s);l.payload=t,n!=null&&(l.callback=n),t=zn(e,l,s),t!==null&&(Vt(t,e,s,r),Il(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=In(e),l=cn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=zn(e,l,s),t!==null&&(Vt(t,e,s,r),Il(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=In(e),s=cn(n,r);s.tag=2,t!=null&&(s.callback=t),t=zn(e,s,r),t!==null&&(Vt(t,e,r,n),Il(t,e,r))}};function Eu(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!_s(n,r)||!_s(s,l):!0}function xp(e,t,n){var r=!1,s=An,l=t.contextType;return typeof l=="object"&&l!==null?l=Ot(l):(s=xt(t)?qn:lt.current,r=t.contextTypes,l=(r=r!=null)?Rr(e,s):An),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=To,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function pi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ac(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ot(l):(l=xt(t)?qn:lt.current,s.context=Rr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(fi(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&To.enqueueReplaceState(s,s.state,null),so(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var n="",r=t;do n+=Nm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ka(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function hi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jx=typeof WeakMap=="function"?WeakMap:Map;function gp(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,Si=r),hi(e,t)},n}function yp(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){hi(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function _u(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fg.bind(null,e,t,n),t.then(e,e))}function Tu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Du(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var Zx=mn.ReactCurrentOwner,ht=!1;function at(e,t,n,r){t.child=e===null?Kf(t,null,n,r):Pr(t,e.child,n,r)}function Ru(e,t,n,r,s){n=n.render;var l=t.ref;return Mr(t,s),r=fc(e,t,n,r,l,s),n=pc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Se&&n&&ec(t),t.flags|=1,at(e,t,r,s),t.child)}function zu(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!jc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,vp(e,t,l,r,s)):(e=Bl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:_s,n(a,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=Ln(l,r),e.ref=t.ref,e.return=t,t.child=e}function vp(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(_s(l,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,pn(e,t,s)}return mi(e,t,n,r,s)}function wp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(kr,bt),bt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(kr,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ve(kr,bt),bt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ve(kr,bt),bt|=r;return at(e,t,s,n),t.child}function bp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mi(e,t,n,r,s){var l=xt(n)?qn:lt.current;return l=Rr(t,l),Mr(t,s),n=fc(e,t,n,r,l,s),r=pc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Se&&r&&ec(t),t.flags|=1,at(e,t,n,s),t.child)}function Pu(e,t,n,r,s){if(xt(n)){var l=!0;Zl(t)}else l=!1;if(Mr(t,s),t.stateNode===null)Al(e,t),xp(t,n,r),pi(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=xt(n)?qn:lt.current,u=Rr(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&Mu(t,a,r,u),kn=!1;var h=t.memoizedState;a.state=h,so(t,r,a,s),c=t.memoizedState,i!==r||h!==c||mt.current||kn?(typeof f=="function"&&(fi(t,n,f,r),c=t.memoizedState),(i=kn||Eu(t,n,i,r,h,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qf(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Bt(t.type,i),a.props=u,p=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=xt(n)?qn:lt.current,c=Rr(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==p||h!==c)&&Mu(t,a,r,c),kn=!1,h=t.memoizedState,a.state=h,so(t,r,a,s);var b=t.memoizedState;i!==p||h!==b||mt.current||kn?(typeof v=="function"&&(fi(t,n,v,r),b=t.memoizedState),(u=kn||Eu(t,n,u,r,h,b,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xi(e,t,n,r,l,s)}function xi(e,t,n,r,s,l){bp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&vu(t,n,!1),pn(e,t,l);r=t.stateNode,Zx.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Pr(t,e.child,null,l),t.child=Pr(t,null,i,l)):at(e,t,i,l),t.memoizedState=r.state,s&&vu(t,n,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),ic(e,t.containerInfo)}function Iu(e,t,n,r,s){return zr(),nc(s),t.flags|=256,at(e,t,n,r),t.child}var gi={dehydrated:null,treeContext:null,retryLane:0};function yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,t,n){var r=t.pendingProps,s=Ne.current,l=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(Ne,s&1),e===null)return ui(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=zo(a,r,0,null),e=Qn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=yi(n),t.memoizedState=gi,e):xc(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return eg(e,t,a,r,i,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ln(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=Ln(i,l):(l=Qn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?yi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=gi,r}return l=e.child,e=l.sibling,r=Ln(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xc(e,t){return t=zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xl(e,t,n,r){return r!==null&&nc(r),Pr(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eg(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=ka(Error(T(422))),xl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=zo({mode:"visible",children:r.children},s,0,null),l=Qn(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Pr(t,e.child,null,a),t.child.memoizedState=yi(a),t.memoizedState=gi,l);if(!(t.mode&1))return xl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(T(419)),r=ka(l,r,void 0),xl(e,t,a,r)}if(i=(a&e.childLanes)!==0,ht||i){if(r=Ke,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,fn(e,s),Vt(r,e,s,-1))}return kc(),r=ka(Error(T(421))),xl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=pg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,kt=Rn(s.nextSibling),jt=t,Se=!0,Ht=null,e!==null&&(zt[Pt++]=on,zt[Pt++]=an,zt[Pt++]=Jn,on=e.id,an=e.overflow,Jn=t),t=xc(t,r.children),t.flags|=4096,t)}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),di(e.return,t,n)}function ja(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Sp(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(at(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,n,t);else if(e.tag===19)Lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&lo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ja(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ja(t,!0,n,null,l);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Al(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tg(e,t,n){switch(t.tag){case 3:kp(t),zr();break;case 5:Gf(t);break;case 1:xt(t.type)&&Zl(t);break;case 4:ic(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ve(no,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(ve(Ne,Ne.current&1),e=pn(e,t,n),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,wp(e,t,n)}return pn(e,t,n)}var Np,vi,Cp,Ep;Np=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vi=function(){};Cp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Kn(tn.current);var l=null;switch(n){case"input":s=Ba(e,s),r=Ba(e,r),l=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":s=Wa(e,s),r=Wa(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ql)}Xa(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&we("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Ep=function(e,t,n,r){n!==r&&(t.flags|=4)};function ss(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ng(e,t,n){var r=t.pendingProps;switch(tc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return xt(t.type)&&Jl(),rt(t),null;case 3:return r=t.stateNode,Ir(),ke(mt),ke(lt),uc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Ei(Ht),Ht=null))),vi(e,t),rt(t),null;case 5:cc(t);var s=Kn(Ps.current);if(n=t.type,e!==null&&t.stateNode!=null)Cp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return rt(t),null}if(e=Kn(tn.current),hl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Zt]=t,r[Rs]=l,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<cs.length;s++)we(cs[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Vc(r,l),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},we("invalid",r);break;case"textarea":Kc(r,l),we("invalid",r)}Xa(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var i=l[a];a==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&pl(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&pl(r.textContent,i,e),s=["children",""+i]):ks.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&we("scroll",r)}switch(n){case"input":ll(r),Xc(r,l,!0);break;case"textarea":ll(r),Yc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ql)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ef(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Zt]=t,e[Rs]=r,Np(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ka(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<cs.length;s++)we(cs[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":Vc(e,r),s=Ba(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),we("invalid",e);break;case"textarea":Kc(e,r),s=Wa(e,r),we("invalid",e);break;default:s=r}Xa(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?rf(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tf(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&js(e,c):typeof c=="number"&&js(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ks.hasOwnProperty(l)?c!=null&&l==="onScroll"&&we("scroll",e):c!=null&&Fi(e,l,c,a))}switch(n){case"input":ll(e),Xc(e,r,!1);break;case"textarea":ll(e),Yc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Sr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Ep(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Kn(Ps.current),Kn(tn.current),hl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(l=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return rt(t),null;case 13:if(ke(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&kt!==null&&t.mode&1&&!(t.flags&128))Vf(),zr(),t.flags|=98560,l=!1;else if(l=hl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(T(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(T(317));l[Zt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),l=!1}else Ht!==null&&(Ei(Ht),Ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Be===0&&(Be=3):kc())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Ir(),vi(e,t),e===null&&Ts(t.stateNode.containerInfo),rt(t),null;case 10:return lc(t.type._context),rt(t),null;case 17:return xt(t.type)&&Jl(),rt(t),null;case 19:if(ke(Ne),l=t.memoizedState,l===null)return rt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)ss(l,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=lo(e),a!==null){for(t.flags|=128,ss(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>Or&&(t.flags|=128,r=!0,ss(l,!1),t.lanes=4194304)}else{if(!r)if(e=lo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ss(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Se)return rt(t),null}else 2*Ie()-l.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,ss(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return bc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function rg(e,t){switch(tc(t),t.tag){case 1:return xt(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),ke(mt),ke(lt),uc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cc(t),null;case 13:if(ke(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ne),null;case 4:return Ir(),null;case 10:return lc(t.type._context),null;case 22:case 23:return bc(),null;case 24:return null;default:return null}}var gl=!1,st=!1,sg=typeof WeakSet=="function"?WeakSet:Set,B=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function wi(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Ou=!1;function lg(e,t){if(ri=Yl,e=Rf(),Zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(S){n=null;break e}var a=0,i=-1,c=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(i=a+s),p!==l||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)h=p,p=v;for(;;){if(p===e)break t;if(h===n&&++u===s&&(i=a),h===l&&++f===r&&(c=a),(v=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(si={focusedElem:e,selectionRange:n},Yl=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Bt(t.type,y),w);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=Ou,Ou=!1,b}function xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&wi(t,n,l)}s=s.next}while(s!==r)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Rs],delete t[ai],delete t[Bx],delete t[Ux])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _p(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ki(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ql));else if(r!==4&&(e=e.child,e!==null))for(ki(e,t,n),e=e.sibling;e!==null;)ki(e,t,n),e=e.sibling}function ji(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ji(e,t,n),e=e.sibling;e!==null;)ji(e,t,n),e=e.sibling}var Ge=null,Ut=!1;function wn(e,t,n){for(n=n.child;n!==null;)Tp(e,t,n),n=n.sibling}function Tp(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(jo,n)}catch(i){}switch(n.tag){case 5:st||br(n,t);case 6:var r=Ge,s=Ut;Ge=null,wn(e,t,n),Ge=r,Ut=s,Ge!==null&&(Ut?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ut?(e=Ge,n=n.stateNode,e.nodeType===8?xa(e.parentNode,n):e.nodeType===1&&xa(e,n),Es(e)):xa(Ge,n.stateNode));break;case 4:r=Ge,s=Ut,Ge=n.stateNode.containerInfo,Ut=!0,wn(e,t,n),Ge=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&wi(n,t,a),s=s.next}while(s!==r)}wn(e,t,n);break;case 1:if(!st&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Re(n,t,i)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,wn(e,t,n),st=r):wn(e,t,n);break;default:wn(e,t,n)}}function $u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sg),t.forEach(function(r){var s=hg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ge=i.stateNode,Ut=!1;break e;case 3:Ge=i.stateNode.containerInfo,Ut=!0;break e;case 4:Ge=i.stateNode.containerInfo,Ut=!0;break e}i=i.return}if(Ge===null)throw Error(T(160));Tp(l,a,s),Ge=null,Ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dp(t,e),t=t.sibling}function Dp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),qt(e),r&4){try{xs(3,e,e.return),Do(3,e)}catch(y){Re(e,e.return,y)}try{xs(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Ft(t,e),qt(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(Ft(t,e),qt(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Jd(s,l),Ka(i,a);var u=Ka(i,l);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?rf(s,p):f==="dangerouslySetInnerHTML"?tf(s,p):f==="children"?js(s,p):Fi(s,f,p,u)}switch(i){case"input":Ua(s,l);break;case"textarea":Zd(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Sr(s,!!l.multiple,v,!1):h!==!!l.multiple&&(l.defaultValue!=null?Sr(s,!!l.multiple,l.defaultValue,!0):Sr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Rs]=l}catch(y){Re(e,e.return,y)}}break;case 6:if(Ft(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(y){Re(e,e.return,y)}}break;case 3:if(Ft(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Ft(t,e),qt(e);break;case 13:Ft(t,e),qt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(vc=Ie())),r&4&&$u(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(st=(u=st)||f,Ft(t,e),st=u):Ft(t,e),qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(B=e,f=e.child;f!==null;){for(p=B=f;B!==null;){switch(h=B,v=h.child,h.tag){case 0:case 11:case 14:case 15:xs(4,h,h.return);break;case 1:br(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:br(h,h.return);break;case 22:if(h.memoizedState!==null){Bu(p);continue}}v!==null?(v.return=h,B=v):Bu(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=nf("display",a))}catch(y){Re(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Re(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ft(t,e),qt(e),r&4&&$u(e);break;case 21:break;default:Ft(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_p(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(js(s,""),r.flags&=-33);var l=Au(e);ji(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Au(e);ki(e,i,a);break;default:throw Error(T(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function og(e,t,n){B=e,Rp(e)}function Rp(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||gl;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||st;i=gl;var u=st;if(gl=a,(st=c)&&!u)for(B=s;B!==null;)a=B,c=a.child,a.tag===22&&a.memoizedState!==null?Uu(s):c!==null?(c.return=a,B=c):Uu(s);for(;l!==null;)B=l,Rp(l),l=l.sibling;B=s,gl=i,st=u}Fu(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,B=l):Fu(e)}}function Fu(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Do(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Su(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Su(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Es(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}st||t.flags&512&&bi(t)}catch(h){Re(t,t.return,h)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Bu(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Uu(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Do(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var l=t.return;try{bi(t)}catch(c){Re(t,l,c)}break;case 5:var a=t.return;try{bi(t)}catch(c){Re(t,a,c)}}}catch(c){Re(t,t.return,c)}if(t===e){B=null;break}var i=t.sibling;if(i!==null){i.return=t.return,B=i;break}B=t.return}}var ag=Math.ceil,io=mn.ReactCurrentDispatcher,gc=mn.ReactCurrentOwner,Lt=mn.ReactCurrentBatchConfig,ae=0,Ke=null,Le=null,qe=0,bt=0,kr=Fn(0),Be=0,As=null,er=0,Ro=0,yc=0,gs=null,pt=null,vc=0,Or=1/0,sn=null,co=!1,Si=null,Pn=null,yl=!1,En=null,uo=0,ys=0,Ni=null,$l=-1,Fl=0;function it(){return ae&6?Ie():$l!==-1?$l:$l=Ie()}function In(e){return e.mode&1?ae&2&&qe!==0?qe&-qe:Wx.transition!==null?(Fl===0&&(Fl=xf()),Fl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:jf(e.type)),e):1}function Vt(e,t,n,r){if(50<ys)throw ys=0,Ni=null,Error(T(185));Vs(e,n,r),(!(ae&2)||e!==Ke)&&(e===Ke&&(!(ae&2)&&(Ro|=n),Be===4&&Nn(e,qe)),gt(e,r),n===1&&ae===0&&!(t.mode&1)&&(Or=Ie()+500,Mo&&Bn()))}function gt(e,t){var n=e.callbackNode;Wm(e,t);var r=Kl(e,e===Ke?qe:0);if(r===0)n!==null&&qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qc(n),t===1)e.tag===0?Hx(Hu.bind(null,e)):Uf(Hu.bind(null,e)),$x(function(){!(ae&6)&&Bn()}),n=null;else{switch(gf(r)){case 1:n=Vi;break;case 4:n=hf;break;case 16:n=Xl;break;case 536870912:n=mf;break;default:n=Xl}n=Fp(n,zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zp(e,t){if($l=-1,Fl=0,ae&6)throw Error(T(327));var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var r=Kl(e,e===Ke?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fo(e,r);else{t=r;var s=ae;ae|=2;var l=Ip();(Ke!==e||qe!==t)&&(sn=null,Or=Ie()+500,Yn(e,t));do try{ug();break}catch(i){Pp(e,i)}while(!0);sc(),io.current=l,ae=s,Le!==null?t=0:(Ke=null,qe=0,t=Be)}if(t!==0){if(t===2&&(s=Ja(e),s!==0&&(r=s,t=Ci(e,s))),t===1)throw n=As,Yn(e,0),Nn(e,r),gt(e,Ie()),n;if(t===6)Nn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ig(s)&&(t=fo(e,r),t===2&&(l=Ja(e),l!==0&&(r=l,t=Ci(e,l))),t===1))throw n=As,Yn(e,0),Nn(e,r),gt(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Wn(e,pt,sn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=vc+500-Ie(),10<t)){if(Kl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oi(Wn.bind(null,e,pt,sn),t);break}Wn(e,pt,sn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Wt(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ag(r/1960))-r,10<r){e.timeoutHandle=oi(Wn.bind(null,e,pt,sn),r);break}Wn(e,pt,sn);break;case 5:Wn(e,pt,sn);break;default:throw Error(T(329))}}}return gt(e,Ie()),e.callbackNode===n?zp.bind(null,e):null}function Ci(e,t){var n=gs;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=fo(e,t),e!==2&&(t=pt,pt=n,t!==null&&Ei(t)),e}function Ei(e){pt===null?pt=e:pt.push.apply(pt,e)}function ig(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Xt(l(),s))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~yc,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Hu(e){if(ae&6)throw Error(T(327));_r();var t=Kl(e,0);if(!(t&1))return gt(e,Ie()),null;var n=fo(e,t);if(e.tag!==0&&n===2){var r=Ja(e);r!==0&&(t=r,n=Ci(e,r))}if(n===1)throw n=As,Yn(e,0),Nn(e,t),gt(e,Ie()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,pt,sn),gt(e,Ie()),null}function wc(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Or=Ie()+500,Mo&&Bn())}}function tr(e){En!==null&&En.tag===0&&!(ae&6)&&_r();var t=ae;ae|=1;var n=Lt.transition,r=ge;try{if(Lt.transition=null,ge=1,e)return e()}finally{ge=r,Lt.transition=n,ae=t,!(ae&6)&&Bn()}}function bc(){bt=kr.current,ke(kr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ax(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(tc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:Ir(),ke(mt),ke(lt),uc();break;case 5:cc(r);break;case 4:Ir();break;case 13:ke(Ne);break;case 19:ke(Ne);break;case 10:lc(r.type._context);break;case 22:case 23:bc()}n=n.return}if(Ke=e,Le=e=Ln(e.current,null),qe=bt=t,Be=0,As=null,yc=Ro=er=0,pt=gs=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Xn=null}return e}function Pp(e,t){do{var n=Le;try{if(sc(),Ll.current=ao,oo){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oo=!1}if(Zn=0,Ve=$e=Ce=null,ms=!1,Is=0,gc.current=null,n===null||n.return===null){Be=1,As=t,Le=null;break}e:{var l=e,a=n.return,i=n,c=t;if(t=qe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=i,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Tu(a);if(v!==null){v.flags&=-257,Du(v,a,i,l,t),v.mode&1&&_u(l,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){_u(l,u,t),kc();break e}c=Error(T(426))}}else if(Se&&i.mode&1){var w=Tu(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Du(w,a,i,l,t),nc(Lr(c,i));break e}}l=c=Lr(c,i),Be!==4&&(Be=2),gs===null?gs=[l]:gs.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=gp(l,c,t);ju(l,x);break e;case 1:i=c;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pn===null||!Pn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=yp(l,i,t);ju(l,S);break e}}l=l.return}while(l!==null)}Op(n)}catch(j){t=j,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Ip(){var e=io.current;return io.current=ao,e===null?ao:e}function kc(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(er&268435455)&&!(Ro&268435455)||Nn(Ke,qe)}function fo(e,t){var n=ae;ae|=2;var r=Ip();(Ke!==e||qe!==t)&&(sn=null,Yn(e,t));do try{cg();break}catch(s){Pp(e,s)}while(!0);if(sc(),ae=n,io.current=r,Le!==null)throw Error(T(261));return Ke=null,qe=0,Be}function cg(){for(;Le!==null;)Lp(Le)}function ug(){for(;Le!==null&&!Im();)Lp(Le)}function Lp(e){var t=$p(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Op(e):Le=t,gc.current=null}function Op(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rg(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Le=null;return}}else if(n=ng(n,t,bt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Be===0&&(Be=5)}function Wn(e,t,n){var r=ge,s=Lt.transition;try{Lt.transition=null,ge=1,dg(e,t,n,r)}finally{Lt.transition=s,ge=r}return null}function dg(e,t,n,r){do _r();while(En!==null);if(ae&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Vm(e,l),e===Ke&&(Le=Ke=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,Fp(Xl,function(){return _r(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Lt.transition,Lt.transition=null;var a=ge;ge=1;var i=ae;ae|=4,gc.current=null,lg(e,n),Dp(n,e),Dx(si),Yl=!!ri,si=ri=null,e.current=n,og(n),Lm(),ae=i,ge=a,Lt.transition=l}else e.current=n;if(yl&&(yl=!1,En=e,uo=s),l=e.pendingLanes,l===0&&(Pn=null),$m(n.stateNode),gt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(co)throw co=!1,e=Si,Si=null,e;return uo&1&&e.tag!==0&&_r(),l=e.pendingLanes,l&1?e===Ni?ys++:(ys=0,Ni=e):ys=0,Bn(),null}function _r(){if(En!==null){var e=gf(uo),t=Lt.transition,n=ge;try{if(Lt.transition=null,ge=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,uo=0,ae&6)throw Error(T(331));var s=ae;for(ae|=4,B=e.current;B!==null;){var l=B,a=l.child;if(B.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(B=u;B!==null;){var f=B;switch(f.tag){case 0:case 11:case 15:xs(8,f,l)}var p=f.child;if(p!==null)p.return=f,B=p;else for(;B!==null;){f=B;var h=f.sibling,v=f.return;if(Mp(f),f===u){B=null;break}if(h!==null){h.return=v,B=h;break}B=v}}}var b=l.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}B=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,B=a;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xs(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,B=x;break e}B=l.return}}var m=e.current;for(B=m;B!==null;){a=B;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,B=g;else e:for(a=m;B!==null;){if(i=B,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Do(9,i)}}catch(j){Re(i,i.return,j)}if(i===a){B=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,B=S;break e}B=i.return}}if(ae=s,Bn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(jo,e)}catch(j){}r=!0}return r}finally{ge=n,Lt.transition=t}}return!1}function Wu(e,t,n){t=Lr(n,t),t=gp(e,t,1),e=zn(e,t,1),t=it(),e!==null&&(Vs(e,1,t),gt(e,t))}function Re(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Lr(n,e),e=yp(t,e,1),t=zn(t,e,1),e=it(),t!==null&&(Vs(t,1,e),gt(t,e));break}}t=t.return}}function fg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(qe&n)===n&&(Be===4||Be===3&&(qe&130023424)===qe&&500>Ie()-vc?Yn(e,0):yc|=n),gt(e,t)}function Ap(e,t){t===0&&(e.mode&1?(t=il,il<<=1,!(il&130023424)&&(il=4194304)):t=1);var n=it();e=fn(e,t),e!==null&&(Vs(e,t,n),gt(e,n))}function pg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ap(e,n)}function hg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Ap(e,n)}var $p;$p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,tg(e,t,n);ht=!!(e.flags&131072)}else ht=!1,Se&&t.flags&1048576&&Hf(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Al(e,t),e=t.pendingProps;var s=Rr(t,lt.current);Mr(t,n),s=fc(null,t,r,e,s,n);var l=pc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(l=!0,Zl(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ac(t),s.updater=To,t.stateNode=s,s._reactInternals=t,pi(t,r,e,n),t=xi(null,t,r,!0,l,n)):(t.tag=0,Se&&l&&ec(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Al(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xg(r),e=Bt(r,e),s){case 0:t=mi(null,t,r,e,n);break e;case 1:t=Pu(null,t,r,e,n);break e;case 11:t=Ru(null,t,r,e,n);break e;case 14:t=zu(null,t,r,Bt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),mi(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Pu(e,t,r,s,n);case 3:e:{if(kp(t),e===null)throw Error(T(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Qf(e,t),so(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Lr(Error(T(423)),t),t=Iu(e,t,r,n,s);break e}else if(r!==s){s=Lr(Error(T(424)),t),t=Iu(e,t,r,n,s);break e}else for(kt=Rn(t.stateNode.containerInfo.firstChild),jt=t,Se=!0,Ht=null,n=Kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){t=pn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return Gf(t),e===null&&ui(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,li(r,s)?a=null:l!==null&&li(r,l)&&(t.flags|=32),bp(e,t),at(e,t,a,n),t.child;case 6:return e===null&&ui(t),null;case 13:return jp(e,t,n);case 4:return ic(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Ru(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,ve(no,r._currentValue),r._currentValue=a,l!==null)if(Xt(l.value,a)){if(l.children===s.children&&!mt.current){t=pn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){a=l.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=cn(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),di(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(T(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),di(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mr(t,n),s=Ot(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Bt(r,t.pendingProps),s=Bt(r.type,s),zu(e,t,r,s,n);case 15:return vp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Al(e,t),t.tag=1,xt(r)?(e=!0,Zl(t)):e=!1,Mr(t,n),xp(t,r,s),pi(t,r,s,n),xi(null,t,r,!0,e,n);case 19:return Sp(e,t,n);case 22:return wp(e,t,n)}throw Error(T(156,t.tag))};function Fp(e,t){return pf(e,t)}function mg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new mg(e,t,n,r)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xg(e){if(typeof e=="function")return jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ui)return 11;if(e===Hi)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bl(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")jc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fr:return Qn(n.children,s,l,t);case Bi:a=8,s|=8;break;case Oa:return e=It(12,n,t,s|2),e.elementType=Oa,e.lanes=l,e;case Aa:return e=It(13,n,t,s),e.elementType=Aa,e.lanes=l,e;case $a:return e=It(19,n,t,s),e.elementType=$a,e.lanes=l,e;case Qd:return zo(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kd:a=10;break e;case Yd:a=9;break e;case Ui:a=11;break e;case Hi:a=14;break e;case bn:a=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=It(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Qn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function zo(e,t,n,r){return e=It(22,e,r,t),e.elementType=Qd,e.lanes=n,e.stateNode={isHidden:!1},e}function Sa(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sc(e,t,n,r,s,l,a,i,c){return e=new gg(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=It(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(l),e}function yg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bp(e){if(!e)return An;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(xt(n))return Bf(e,n,t)}return t}function Up(e,t,n,r,s,l,a,i,c){return e=Sc(n,r,!0,e,s,l,a,i,c),e.context=Bp(null),n=e.current,r=it(),s=In(n),l=cn(r,s),l.callback=t!=null?t:null,zn(n,l,s),e.current.lanes=s,Vs(e,s,r),gt(e,r),e}function Po(e,t,n,r){var s=t.current,l=it(),a=In(s);return n=Bp(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zn(s,t,a),e!==null&&(Vt(e,s,a,l),Il(e,s,a)),a}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nc(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function vg(){return null}var Hp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}Io.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Po(e,t,null,null)};Io.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){Po(null,e,null,null)}),t[dn]=null}};function Io(e){this._internalRoot=e}Io.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&kf(e)}};function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function wg(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=po(a);l.call(u)}}var a=Up(t,r,e,0,null,!1,!1,"",Xu);return e._reactRootContainer=a,e[dn]=a.current,Ts(e.nodeType===8?e.parentNode:e),tr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=po(c);i.call(u)}}var c=Sc(e,0,!1,null,null,!1,!1,"",Xu);return e._reactRootContainer=c,e[dn]=c.current,Ts(e.nodeType===8?e.parentNode:e),tr(function(){Po(t,c,n,r)}),c}function Oo(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var i=s;s=function(){var c=po(a);i.call(c)}}Po(t,a,e,s)}else a=wg(n,t,e,s,r);return po(a)}yf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=is(t.pendingLanes);n!==0&&(Xi(t,n|1),gt(t,Ie()),!(ae&6)&&(Or=Ie()+500,Bn()))}break;case 13:tr(function(){var r=fn(e,1);if(r!==null){var s=it();Vt(r,e,1,s)}}),Nc(e,1)}};Ki=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=it();Vt(t,e,134217728,n)}Nc(e,134217728)}};vf=function(e){if(e.tag===13){var t=In(e),n=fn(e,t);if(n!==null){var r=it();Vt(n,e,t,r)}Nc(e,t)}};wf=function(){return ge};bf=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Qa=function(e,t,n){switch(t){case"input":if(Ua(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Eo(r);if(!s)throw Error(T(90));qd(r),Ua(r,s)}}}break;case"textarea":Zd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};of=wc;af=tr;var bg={usingClientEntryPoint:!1,Events:[Ks,xr,Eo,sf,lf,wc]},ls={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kg={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=df(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||vg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{jo=vl.inject(kg),en=vl}catch(e){}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(t))throw Error(T(200));return yg(e,t,null,n)};Nt.createRoot=function(e,t){if(!Ec(e))throw Error(T(299));var n=!1,r="",s=Hp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sc(e,1,!1,null,null,n,!1,r,s),e[dn]=t.current,Ts(e.nodeType===8?e.parentNode:e),new Cc(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=df(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return tr(e)};Nt.hydrate=function(e,t,n){if(!Lo(t))throw Error(T(200));return Oo(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!Ec(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Hp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Up(t,null,e,1,n!=null?n:null,s,!1,l,a),e[dn]=t.current,Ts(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Io(t)};Nt.render=function(e,t,n){if(!Lo(t))throw Error(T(200));return Oo(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Lo(e))throw Error(T(40));return e._reactRootContainer?(tr(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};Nt.unstable_batchedUpdates=wc;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Oo(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wp)}catch(e){console.error(e)}}Wp(),Hd.exports=Nt;var jr=Hd.exports,Ku=jr;Ia.createRoot=Ku.createRoot,Ia.hydrateRoot=Ku.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}var Mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mn||(Mn={}));const Yu="popstate";function jg(e){e===void 0&&(e={});function t(s,l){let{pathname:a="/",search:i="",hash:c=""}=sr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Mi("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let a=s.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof l=="string"?l:Vp(l))}function r(s,l){Ao(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return Ng(t,n,r,e)}function Ue(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Ao(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Sg(){return Math.random().toString(36).substr(2,8)}function Qu(e,t){return{usr:e.state,key:e.key,idx:t}}function Mi(e,t,n,r){return n===void 0&&(n=null),$s({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||r||Sg()})}function Vp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ng(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,a=s.history,i=Mn.Pop,c=null,u=f();u==null&&(u=0,a.replaceState($s({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function p(){i=Mn.Pop;let w=f(),x=w==null?null:w-u;u=w,c&&c({action:i,location:y.location,delta:x})}function h(w,x){i=Mn.Push;let m=Mi(y.location,w,x);n&&n(m,w),u=f()+1;let g=Qu(m,u),S=y.createHref(m);try{a.pushState(g,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}l&&c&&c({action:i,location:y.location,delta:1})}function v(w,x){i=Mn.Replace;let m=Mi(y.location,w,x);n&&n(m,w),u=f();let g=Qu(m,u),S=y.createHref(m);a.replaceState(g,"",S),l&&c&&c({action:i,location:y.location,delta:0})}function b(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Vp(w);return m=m.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let y={get action(){return i},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yu,p),c=w,()=>{s.removeEventListener(Yu,p),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let x=b(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:v,go(w){return a.go(w)}};return y}var Gu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gu||(Gu={}));function Cg(e,t,n){return n===void 0&&(n="/"),Eg(e,t,n)}function Eg(e,t,n,r){let s=typeof t=="string"?sr(t):t,l=Yp(s.pathname||"/",n);if(l==null)return null;let a=Xp(e);Mg(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=Fg(l);i=Og(a[c],u)}return i}function Xp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,a,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gn([r,c.relativePath]),f=n.concat(c);l.children&&l.children.length>0&&(Ue(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xp(l.children,t,f,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Ig(u,l.index),routesMeta:f})};return e.forEach((l,a)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,a);else for(let c of Kp(l.path))s(l,a,c)}),t}function Kp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let a=Kp(r.join("/")),i=[];return i.push(...a.map(c=>c===""?l:[l,c].join("/"))),s&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Lg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _g=/^:[\w-]+$/,Tg=3,Dg=2,Rg=1,zg=10,Pg=-2,qu=e=>e==="*";function Ig(e,t){let n=e.split("/"),r=n.length;return n.some(qu)&&(r+=Pg),t&&(r+=Dg),n.filter(s=>!qu(s)).reduce((s,l)=>s+(_g.test(l)?Tg:l===""?Rg:zg),r)}function Lg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Og(e,t,n){let{routesMeta:r}=e,s={},l="/",a=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,f=l==="/"?t:t.slice(l.length)||"/",p=Ag({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Gn([l,p.pathname]),pathnameBase:Kg(Gn([l,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(l=Gn([l,p.pathnameBase]))}return a}function Ag(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$g(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],a=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let y=i[p]||"";a=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const b=i[p];return v&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function $g(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ao(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Fg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ao(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ug=e=>Bg.test(e);function Hg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sr(e):e,l;if(n)if(Ug(n))l=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Ao(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?l=Ju(n.substring(1),"/"):l=Ju(n,t)}else l=t;return{pathname:l,search:Yg(r),hash:Qg(s)}}function Ju(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ca(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vg(e,t){let n=Wg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sr(e):(s=$s({},e),Ue(!s.pathname||!s.pathname.includes("?"),Ca("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),Ca("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),Ca("#","search","hash",s)));let l=e===""||s.pathname==="",a=l?"/":s.pathname,i;if(a==null)i=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}i=p>=0?t[p]:"/"}let c=Hg(s,i),u=a&&a!=="/"&&a.endsWith("/"),f=(l||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Gn=e=>e.join("/").replace(/\/\/+/g,"/"),Kg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qp=["post","put","patch","delete"];new Set(Qp);const qg=["get",...Qp];new Set(qg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}const Mc=d.createContext(null),Jg=d.createContext(null),$o=d.createContext(null),Fo=d.createContext(null),lr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Gp=d.createContext(null);function Bo(){return d.useContext(Fo)!=null}function qp(){return Bo()||Ue(!1),d.useContext(Fo).location}function Jp(e){d.useContext($o).static||d.useLayoutEffect(e)}function $t(){let{isDataRoute:e}=d.useContext(lr);return e?dy():Zg()}function Zg(){Bo()||Ue(!1);let e=d.useContext(Mc),{basename:t,future:n,navigator:r}=d.useContext($o),{matches:s}=d.useContext(lr),{pathname:l}=qp(),a=JSON.stringify(Vg(s,n.v7_relativeSplatPath)),i=d.useRef(!1);return Jp(()=>{i.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let p=Xg(u,JSON.parse(a),l,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Gn([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,a,l,e])}function Zp(){let{matches:e}=d.useContext(lr),t=e[e.length-1];return t?t.params:{}}function ey(e,t){return ty(e,t)}function ty(e,t,n,r){Bo()||Ue(!1);let{navigator:s}=d.useContext($o),{matches:l}=d.useContext(lr),a=l[l.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=qp(),f;if(t){var p;let w=typeof t=="string"?sr(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||Ue(!1),f=w}else f=u;let h=f.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=Cg(e,{pathname:v}),y=oy(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:Gn([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Gn([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,n,r);return t&&y?d.createElement(Fo.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Mn.Pop}},y):y}function ny(){let e=uy(),t=Gg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const ry=d.createElement(ny,null);class sy extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(lr.Provider,{value:this.props.routeContext},d.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ly(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(Mc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(lr.Provider,{value:t},r)}function oy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let f=a.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);f>=0||Ue(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:h,errors:v}=n,b=p.route.loader&&h[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,p,h)=>{let v,b=!1,y=null,w=null;n&&(v=i&&p.route.id?i[p.route.id]:void 0,y=p.route.errorElement||ry,c&&(u<0&&h===0?(fy("route-fallback"),b=!0,w=null):u===h&&(b=!0,w=p.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return v?g=y:b?g=w:p.route.Component?g=d.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=f,d.createElement(ly,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?d.createElement(sy,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var eh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eh||{}),th=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(th||{});function ay(e){let t=d.useContext(Mc);return t||Ue(!1),t}function iy(e){let t=d.useContext(Jg);return t||Ue(!1),t}function cy(e){let t=d.useContext(lr);return t||Ue(!1),t}function nh(e){let t=cy(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function uy(){var e;let t=d.useContext(Gp),n=iy(),r=nh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dy(){let{router:e}=ay(eh.UseNavigateStable),t=nh(th.UseNavigateStable),n=d.useRef(!1);return Jp(()=>{n.current=!0}),d.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fs({fromRouteId:t},l)))},[e,t])}const Zu={};function fy(e,t,n){Zu[e]||(Zu[e]=!0)}function py(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ot(e){Ue(!1)}function hy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Mn.Pop,navigator:l,static:a=!1,future:i}=e;Bo()&&Ue(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:l,static:a,future:Fs({v7_relativeSplatPath:!1},i)}),[c,i,l,a]);typeof r=="string"&&(r=sr(r));let{pathname:f="/",search:p="",hash:h="",state:v=null,key:b="default"}=r,y=d.useMemo(()=>{let w=Yp(f,c);return w==null?null:{location:{pathname:w,search:p,hash:h,state:v,key:b},navigationType:s}},[c,f,p,h,v,b,s]);return y==null?null:d.createElement($o.Provider,{value:u},d.createElement(Fo.Provider,{children:n,value:y}))}function my(e){let{children:t,location:n}=e;return ey(_i(t),n)}new Promise(()=>{});function _i(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let l=[...t,s];if(r.type===d.Fragment){n.push.apply(n,_i(r.props.children,l));return}r.type!==ot&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_i(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xy="6";try{window.__reactRouterVersion=xy}catch(e){}const gy="startTransition",ed=fm[gy];function yy(e){let{basename:t,children:n,future:r,window:s}=e,l=d.useRef();l.current==null&&(l.current=jg({window:s,v5Compat:!0}));let a=l.current,[i,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=d.useCallback(p=>{u&&ed?ed(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(f),[a,f]),d.useEffect(()=>py(r),[r]),d.createElement(hy,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var td;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(td||(td={}));var nd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nd||(nd={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:a,...i},c)=>d.createElement("svg",{ref:c,...wy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:rh("lucide",s),...i},[...a.map(([u,f])=>d.createElement(u,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=d.forwardRef(({className:r,...s},l)=>d.createElement(by,{ref:l,iconNode:t,className:rh(`lucide-${vy(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=re("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=re("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=re("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=re("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=re("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ah="";async function ld(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${ah}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function A(e,t={}){let n=await ld();const r=`${ah}${e}`,s=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let l=await s(n);if(l.status===401&&(localStorage.removeItem("whisper_token"),n=await ld(),l=await s(n)),l.status===204)return null;if(!l.ok){const a=await l.json().catch(()=>({}));throw new Error(a.detail||` (${l.status})`)}return l.json()}const By="WhisperMiniDB",Uy=1,Fr="avatars",ih=()=>new Promise((e,t)=>{const n=indexedDB.open(By,Uy);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Fr)||r.createObjectStore(Fr,{keyPath:"key"})}}),Ti=async(e,t)=>{const n=await ih();return new Promise((r,s)=>{const l=n.transaction([Fr],"readwrite");l.objectStore(Fr).put({key:e,base64:t}),l.oncomplete=()=>r(),l.onerror=()=>s(l.error)})},Vr=async e=>{const t=await ih();return new Promise((n,r)=>{const l=t.transaction([Fr],"readonly").objectStore(Fr).get(e);l.onsuccess=()=>{var a;return n(((a=l.result)==null?void 0:a.base64)||null)},l.onerror=()=>r(l.error)})},ft={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function cr({icon:e,label:t,desc:n,disabled:r,onClick:s,badge:l}){const[a,i]=d.useState(!1),c=()=>!r&&i(!0),u=()=>{i(!1),r||s==null||s()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:ft.bg,boxShadow:a?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:a?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:c,onTouchEnd:u,onMouseDown:c,onMouseUp:u,onMouseLeave:()=>i(!1),children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),l&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full",style:{background:"#ef4444",border:"2px solid var(--bg)"}})]}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ft.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:ft.textMuted},children:n})]})]})}function od({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:ft.textMuted},children:e})}function Hy(){const e=$t(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(u){return null}}),[r,s]=d.useState(null),[l,a]=d.useState(!1);d.useEffect(()=>{A("/api/user/profile").then(u=>{n(u),localStorage.setItem("whisper_profile",JSON.stringify(u))}).catch(()=>{}),Vr("user-avatar").then(u=>{u&&s(u)}).catch(function(){}),A("/api/diary/unread-count").then(u=>{u.count>0&&a(!0)}).catch(()=>{})},[]);const i=(t==null?void 0:t.nickname)||"",c=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:ft.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:ft.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:ft.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ft.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:ft.text},children:["@",i]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:ft.textMuted},children:['"',c,'"']})]}),o.jsx(Ar,{size:16,style:{color:ft.textMuted,flexShrink:0}})]}),o.jsx(od,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(cr,{icon:o.jsx(jy,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(cr,{icon:o.jsx(Sy,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(cr,{icon:o.jsx(sh,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(cr,{icon:o.jsx(Ay,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(od,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(cr,{icon:o.jsx(ky,{size:18,color:"white"}),label:"",desc:"",badge:l,onClick:()=>e("/diary")}),o.jsx(cr,{icon:o.jsx($y,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:ft.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(Dy,{size:32,fill:ft.accent,style:{color:ft.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}function Wy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Wo=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Xr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Tc(e){return"nodeType"in e}function dt(e){var t,n;return e?Xr(e)?e:Tc(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Dc(e){const{Document:t}=dt(e);return e instanceof t}function Zs(e){return Xr(e)?!1:e instanceof dt(e).HTMLElement}function ch(e){return e instanceof dt(e).SVGElement}function Kr(e){return e?Xr(e)?e.document:Tc(e)?Dc(e)?e:Zs(e)||ch(e)?e.ownerDocument:document:document:document}const Kt=Wo?d.useLayoutEffect:d.useEffect;function Vo(e){const t=d.useRef(e);return Kt(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Vy(){const e=d.useRef(null),t=d.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Us(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Kt(()=>{n.current!==e&&(n.current=e)},t),n}function el(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ho(e){const t=Vo(e),n=d.useRef(null),r=d.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function mo(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Ea={};function tl(e,t){return d.useMemo(()=>{if(t)return t;const n=Ea[e]==null?0:Ea[e]+1;return Ea[e]=n,e+"-"+n},[e,t])}function uh(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const i=Object.entries(a);for(const[c,u]of i){const f=l[c];f!=null&&(l[c]=f+e*u)}return l},{...t})}}const Tr=uh(1),xo=uh(-1);function Xy(e){return"clientX"in e&&"clientY"in e}function Xo(e){if(!e)return!1;const{KeyboardEvent:t}=dt(e.target);return t&&e instanceof t}function Ky(e){if(!e)return!1;const{TouchEvent:t}=dt(e.target);return t&&e instanceof t}function go(e){if(Ky(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Xy(e)?{x:e.clientX,y:e.clientY}:null}const hn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hn.Translate.toString(e),hn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ad="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Yy(e){return e.matches(ad)?e:e.querySelector(ad)}const Qy={display:"none"};function Gy(e){let{id:t,value:n}=e;return be.createElement("div",{id:t,style:Qy},n)}function qy(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Jy(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const dh=d.createContext(null);function Zy(e){const t=d.useContext(dh);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ev(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:s,event:l}=r;e.forEach(a=>{var i;return(i=a[s])==null?void 0:i.call(a,l)})},[e]),t]}const tv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nv={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function rv(e){let{announcements:t=nv,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=tv}=e;const{announce:l,announcement:a}=Jy(),i=tl("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),Zy(d.useMemo(()=>({onDragStart(p){let{active:h}=p;l(t.onDragStart({active:h}))},onDragMove(p){let{active:h,over:v}=p;t.onDragMove&&l(t.onDragMove({active:h,over:v}))},onDragOver(p){let{active:h,over:v}=p;l(t.onDragOver({active:h,over:v}))},onDragEnd(p){let{active:h,over:v}=p;l(t.onDragEnd({active:h,over:v}))},onDragCancel(p){let{active:h,over:v}=p;l(t.onDragCancel({active:h,over:v}))}}),[l,t])),!c)return null;const f=be.createElement(be.Fragment,null,be.createElement(Gy,{id:r,value:s.draggable}),be.createElement(qy,{id:i,announcement:a}));return n?jr.createPortal(f,n):f}var Fe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function yo(){}function vo(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function fh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Yt=Object.freeze({x:0,y:0});function sv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lv(e,t){const n=go(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function ov(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function av(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function iv(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function id(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ph=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=id(t,t.left,t.top),l=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const u=sv(id(c),s);l.push({id:i,data:{droppableContainer:a,value:u}})}}return l.sort(ov)};function cv(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),a=s-r,i=l-n;if(r<s&&n<l){const c=t.width*t.height,u=e.width*e.height,f=a*i,p=f/(c+u-f);return Number(p.toFixed(4))}return 0}const uv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const l of r){const{id:a}=l,i=n.get(a);if(i){const c=cv(i,t);c>0&&s.push({id:a,data:{droppableContainer:l,value:c}})}}return s.sort(av)};function dv(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hh(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Yt}function fv(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const pv=fv(1);function mh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function hv(e,t,n){const r=mh(t);if(!r)return e;const{scaleX:s,scaleY:l,x:a,y:i}=r,c=e.left-a-(1-s)*parseFloat(n),u=e.top-i-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,p=l?e.height/l:e.height;return{width:f,height:p,top:u,right:c+f,bottom:u+p,left:c}}const mv={ignoreTransform:!1};function Yr(e,t){t===void 0&&(t=mv);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=dt(e).getComputedStyle(e);u&&(n=hv(n,u,f))}const{top:r,left:s,width:l,height:a,bottom:i,right:c}=n;return{top:r,left:s,width:l,height:a,bottom:i,right:c}}function cd(e){return Yr(e,{ignoreTransform:!0})}function xv(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function gv(e,t){return t===void 0&&(t=dt(e).getComputedStyle(e)),t.position==="fixed"}function yv(e,t){t===void 0&&(t=dt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=t[s];return typeof l=="string"?n.test(l):!1})}function Rc(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Dc(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Zs(s)||ch(s)||n.includes(s))return n;const l=dt(e).getComputedStyle(s);return s!==e&&yv(s,l)&&n.push(s),gv(s,l)?n:r(s.parentNode)}return e?r(e):n}function xh(e){const[t]=Rc(e,1);return t!=null?t:null}function Ma(e){return!Wo||!e?null:Xr(e)?e:Tc(e)?Dc(e)||e===Kr(e).scrollingElement?window:Zs(e)?e:null:null}function gh(e){return Xr(e)?e.scrollX:e.scrollLeft}function yh(e){return Xr(e)?e.scrollY:e.scrollTop}function Di(e){return{x:gh(e),y:yh(e)}}var Xe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xe||(Xe={}));function vh(e){return!Wo||!e?!1:e===document.scrollingElement}function wh(e){const t={x:0,y:0},n=vh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const vv={x:.2,y:.2};function wv(e,t,n,r,s){let{top:l,left:a,right:i,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=vv);const{isTop:u,isBottom:f,isLeft:p,isRight:h}=wh(e),v={x:0,y:0},b={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!u&&l<=t.top+y.height?(v.y=Xe.Backward,b.y=r*Math.abs((t.top+y.height-l)/y.height)):!f&&c>=t.bottom-y.height&&(v.y=Xe.Forward,b.y=r*Math.abs((t.bottom-y.height-c)/y.height)),!h&&i>=t.right-y.width?(v.x=Xe.Forward,b.x=r*Math.abs((t.right-y.width-i)/y.width)):!p&&a<=t.left+y.width&&(v.x=Xe.Backward,b.x=r*Math.abs((t.left+y.width-a)/y.width)),{direction:v,speed:b}}function bv(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function bh(e){return e.reduce((t,n)=>Tr(t,Di(n)),Yt)}function kv(e){return e.reduce((t,n)=>t+gh(n),0)}function jv(e){return e.reduce((t,n)=>t+yh(n),0)}function kh(e,t){if(t===void 0&&(t=Yr),!e)return;const{top:n,left:r,bottom:s,right:l}=t(e);xh(e)&&(s<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Sv=[["x",["left","right"],kv],["y",["top","bottom"],jv]];class zc{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Rc(n),s=bh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,a,i]of Sv)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=i(r),f=s[l]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Nv(e){const{EventTarget:t}=dt(e);return e instanceof t?e:Kr(e)}function _a(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Rt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rt||(Rt={}));function ud(e){e.preventDefault()}function Cv(e){e.stopPropagation()}var de;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(de||(de={}));const jh={start:[de.Space,de.Enter],cancel:[de.Esc],end:[de.Space,de.Enter,de.Tab]},Ev=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case de.Right:return{...n,x:n.x+25};case de.Left:return{...n,x:n.x-25};case de.Down:return{...n,y:n.y+25};case de.Up:return{...n,y:n.y-25}}};class Sh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vs(Kr(n)),this.windowListeners=new vs(dt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rt.Resize,this.handleCancel),this.windowListeners.add(Rt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&kh(r),n(Yt)}handleKeyDown(t){if(Xo(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:l=jh,coordinateGetter:a=Ev,scrollBehavior:i="smooth"}=s,{code:c}=t;if(l.end.includes(c)){this.handleEnd(t);return}if(l.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:Yt;this.referenceCoordinates||(this.referenceCoordinates=f);const p=a(t,{active:n,context:r.current,currentCoordinates:f});if(p){const h=xo(p,f),v={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const w=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:S,maxScroll:j,minScroll:N}=wh(y),k=bv(y),C={x:Math.min(w===de.Right?k.right-k.width/2:k.right,Math.max(w===de.Right?k.left:k.left+k.width/2,p.x)),y:Math.min(w===de.Down?k.bottom-k.height/2:k.bottom,Math.max(w===de.Down?k.top:k.top+k.height/2,p.y))},R=w===de.Right&&!m||w===de.Left&&!g,z=w===de.Down&&!S||w===de.Up&&!x;if(R&&C.x!==p.x){const P=y.scrollLeft+h.x,D=w===de.Right&&P<=j.x||w===de.Left&&P>=N.x;if(D&&!h.y){y.scrollTo({left:P,behavior:i});return}D?v.x=y.scrollLeft-P:v.x=w===de.Right?y.scrollLeft-j.x:y.scrollLeft-N.x,v.x&&y.scrollBy({left:-v.x,behavior:i});break}else if(z&&C.y!==p.y){const P=y.scrollTop+h.y,D=w===de.Down&&P<=j.y||w===de.Up&&P>=N.y;if(D&&!h.x){y.scrollTo({top:P,behavior:i});return}D?v.y=y.scrollTop-P:v.y=w===de.Down?y.scrollTop-j.y:y.scrollTop-N.y,v.y&&y.scrollBy({top:-v.y,behavior:i});break}}this.handleMove(t,Tr(xo(p,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=jh,onActivation:s}=t,{active:l}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=l.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function dd(e){return!!(e&&"distance"in e)}function fd(e){return!!(e&&"delay"in e)}class Pc{constructor(t,n,r){var s;r===void 0&&(r=Nv(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:a}=l;this.props=t,this.events=n,this.document=Kr(a),this.documentListeners=new vs(this.document),this.listeners=new vs(r),this.windowListeners=new vs(dt(a)),this.initialCoordinates=(s=go(l))!=null?s:Yt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Rt.Resize,this.handleCancel),this.windowListeners.add(Rt.DragStart,ud),this.windowListeners.add(Rt.VisibilityChange,this.handleCancel),this.windowListeners.add(Rt.ContextMenu,ud),this.documentListeners.add(Rt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dd(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rt.Click,Cv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:i}}=l;if(!s)return;const c=(n=go(t))!=null?n:Yt,u=xo(s,c);if(!r&&i){if(dd(i)){if(i.tolerance!=null&&_a(u,i.tolerance))return this.handleCancel();if(_a(u,i.distance))return this.handleStart()}if(fd(i)&&_a(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===de.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Mv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ko extends Pc{constructor(t){const{event:n}=t,r=Kr(n.target);super(t,Mv,r)}}Ko.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const _v={move:{name:"mousemove"},end:{name:"mouseup"}};var Ri;(function(e){e[e.RightClick=2]="RightClick"})(Ri||(Ri={}));class Tv extends Pc{constructor(t){super(t,_v,Kr(t.event.target))}}Tv.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ri.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ta={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ic extends Pc{constructor(t){super(t,Ta)}static setup(){return window.addEventListener(Ta.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ta.move.name,t)};function t(){}}}Ic.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var ws;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ws||(ws={}));var wo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(wo||(wo={}));function Dv(e){let{acceleration:t,activator:n=ws.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:i=wo.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:p,threshold:h}=e;const v=zv({delta:p,disabled:!l}),[b,y]=Vy(),w=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case ws.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ws.DraggableRect:return s}},[n,s,c]),g=d.useRef(null),S=d.useCallback(()=>{const N=g.current;if(!N)return;const k=w.current.x*x.current.x,C=w.current.y*x.current.y;N.scrollBy(k,C)},[]),j=d.useMemo(()=>i===wo.TreeOrder?[...u].reverse():u,[i,u]);d.useEffect(()=>{if(!l||!u.length||!m){y();return}for(const N of j){if((r==null?void 0:r(N))===!1)continue;const k=u.indexOf(N),C=f[k];if(!C)continue;const{direction:R,speed:z}=wv(N,C,m,t,h);for(const P of["x","y"])v[P][R[P]]||(z[P]=0,R[P]=0);if(z.x>0||z.y>0){y(),g.current=N,b(S,a),w.current=z,x.current=R;return}}w.current={x:0,y:0},x.current={x:0,y:0},y()},[t,S,r,y,l,a,JSON.stringify(m),JSON.stringify(v),b,u,j,f,JSON.stringify(h)])}const Rv={x:{[Xe.Backward]:!1,[Xe.Forward]:!1},y:{[Xe.Backward]:!1,[Xe.Forward]:!1}};function zv(e){let{delta:t,disabled:n}=e;const r=mo(t);return el(s=>{if(n||!r||!s)return Rv;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xe.Backward]:s.x[Xe.Backward]||l.x===-1,[Xe.Forward]:s.x[Xe.Forward]||l.x===1},y:{[Xe.Backward]:s.y[Xe.Backward]||l.y===-1,[Xe.Forward]:s.y[Xe.Forward]||l.y===1}}},[n,t,r])}function Pv(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return el(s=>{var l;return t==null?null:(l=r!=null?r:s)!=null?l:null},[r,t])}function Iv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...l]},[]),[e,t])}var Hs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Hs||(Hs={}));var zi;(function(e){e.Optimized="optimized"})(zi||(zi={}));const pd=new Map;function Lv(e,t){let{dragging:n,dependencies:r,config:s}=t;const[l,a]=d.useState(null),{frequency:i,measure:c,strategy:u}=s,f=d.useRef(e),p=w(),h=Us(p),v=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),b=d.useRef(null),y=el(x=>{if(p&&!n)return pd;if(!x||x===pd||f.current!==e||l!=null){const m=new Map;for(let g of e){if(!g)continue;if(l&&l.length>0&&!l.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const S=g.node.current,j=S?new zc(c(S),S):null;g.rect.current=j,j&&m.set(g.id,j)}return m}return x},[e,l,n,p,c]);return d.useEffect(()=>{f.current=e},[e]),d.useEffect(()=>{p||v()},[n,p]),d.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),d.useEffect(()=>{p||typeof i!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},i))},[i,p,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:l!=null};function w(){switch(u){case Hs.Always:return!1;case Hs.BeforeDragging:return n;default:return!n}}}function Lc(e,t){return el(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ov(e,t){return Lc(e,t)}function Av(e){let{callback:t,disabled:n}=e;const r=Vo(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Yo(e){let{callback:t,disabled:n}=e;const r=Vo(t),s=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function $v(e){return new zc(Yr(e),e)}function hd(e,t,n){t===void 0&&(t=$v);const[r,s]=d.useState(null);function l(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c!=null?c:n)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const a=Av({callback(c){if(e)for(const u of c){const{type:f,target:p}=u;if(f==="childList"&&p instanceof HTMLElement&&p.contains(e)){l();break}}}}),i=Yo({callback:l});return Kt(()=>{l(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function Fv(e){const t=Lc(e);return hh(e,t)}const md=[];function Bv(e){const t=d.useRef(e),n=el(r=>e?r&&r!==md&&e&&t.current&&e.parentNode===t.current.parentNode?r:Rc(e):md,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Uv(e){const[t,n]=d.useState(null),r=d.useRef(e),s=d.useCallback(l=>{const a=Ma(l.target);a&&n(i=>i?(i.set(a,Di(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const l=r.current;if(e!==l){a(l);const i=e.map(c=>{const u=Ma(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Di(u)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(l)};function a(i){i.forEach(c=>{const u=Ma(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,a)=>Tr(l,a),Yt):bh(e):Yt,[e,t])}function xd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Yt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?xo(e,n.current):Yt}function Hv(e){d.useEffect(()=>{if(!Wo)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Wv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:l}=r;return n[s]=a=>{l(a,t)},n},{}),[e,t])}function Nh(e){return d.useMemo(()=>e?xv(e):null,[e])}const gd=[];function Vv(e,t){t===void 0&&(t=Yr);const[n]=e,r=Nh(n?dt(n):null),[s,l]=d.useState(gd);function a(){l(()=>e.length?e.map(c=>vh(c)?r:new zc(t(c),c)):gd)}const i=Yo({callback:a});return Kt(()=>{i==null||i.disconnect(),a(),e.forEach(c=>i==null?void 0:i.observe(c))},[e]),s}function Ch(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zs(t)?t:e}function Xv(e){let{measure:t}=e;const[n,r]=d.useState(null),s=d.useCallback(u=>{for(const{target:f}of u)if(Zs(f)){r(p=>{const h=t(f);return p?{...p,width:h.width,height:h.height}:h});break}},[t]),l=Yo({callback:s}),a=d.useCallback(u=>{const f=Ch(u);l==null||l.disconnect(),f&&(l==null||l.observe(f)),r(f?t(f):null)},[t,l]),[i,c]=ho(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:c}),[n,i,c])}const Kv=[{sensor:Ko,options:{}},{sensor:Sh,options:{}}],Yv={current:{}},Ul={draggable:{measure:cd},droppable:{measure:cd,strategy:Hs.WhileDragging,frequency:zi.Optimized},dragOverlay:{measure:Yr}};class bs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Qv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ul,measureDroppableContainers:yo,windowRect:null,measuringScheduled:!1},Eh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:yo,draggableNodes:new Map,over:null,measureDroppableContainers:yo},nl=d.createContext(Eh),Mh=d.createContext(Qv);function Gv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bs}}}function qv(e,t){switch(t.type){case Fe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new bs(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Fe.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const a=new bs(e.droppable.containers);return a.set(n,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case Fe.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new bs(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function Jv(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=d.useContext(nl),l=mo(r),a=mo(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&l&&a!=null){if(!Xo(l)||document.activeElement===l.target)return;const i=s.get(a);if(!i)return;const{activatorNode:c,node:u}=i;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const p=Yy(f);if(p){p.focus();break}}})}},[r,t,s,a,l]),null}function _h(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,l)=>l({transform:s,...r}),n):n}function Zv(e){return d.useMemo(()=>({draggable:{...Ul.draggable,...e==null?void 0:e.draggable},droppable:{...Ul.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ul.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function e1(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const l=d.useRef(!1),{x:a,y:i}=typeof s=="boolean"?{x:s,y:s}:s;Kt(()=>{if(!a&&!i||!t){l.current=!1;return}if(l.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),p=hh(f,r);if(a||(p.x=0),i||(p.y=0),l.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const h=xh(u);h&&h.scrollBy({top:p.y,left:p.x})}},[t,a,i,r,n])}const Qo=d.createContext({...Yt,scaleX:1,scaleY:1});var jn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(jn||(jn={}));const Th=d.memo(function(t){var n,r,s,l;let{id:a,accessibility:i,autoScroll:c=!0,children:u,sensors:f=Kv,collisionDetection:p=uv,measuring:h,modifiers:v,...b}=t;const y=d.useReducer(qv,void 0,Gv),[w,x]=y,[m,g]=ev(),[S,j]=d.useState(jn.Uninitialized),N=S===jn.Initialized,{draggable:{active:k,nodes:C,translate:R},droppable:{containers:z}}=w,P=k!=null?C.get(k):null,D=d.useRef({initial:null,translated:null}),E=d.useMemo(()=>{var tt;return k!=null?{id:k,data:(tt=P==null?void 0:P.data)!=null?tt:Yv,rect:D}:null},[k,P]),U=d.useRef(null),[K,ie]=d.useState(null),[se,I]=d.useState(null),H=Us(b,Object.values(b)),F=tl("DndDescribedBy",a),Z=d.useMemo(()=>z.getEnabled(),[z]),Q=Zv(h),{droppableRects:pe,measureDroppableContainers:me,measuringScheduled:Me}=Lv(Z,{dragging:N,dependencies:[R.x,R.y],config:Q.droppable}),te=Pv(C,k),J=d.useMemo(()=>se?go(se):null,[se]),Oe=Yh(),He=Ov(te,Q.draggable.measure);e1({activeNode:k!=null?C.get(k):null,config:Oe.layoutShiftCompensation,initialRect:He,measure:Q.draggable.measure});const G=hd(te,Q.draggable.measure,He),ze=hd(te?te.parentElement:null),_e=d.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=z.getNodeFor((n=_e.current.over)==null?void 0:n.id),xe=Xv({measure:Q.dragOverlay.measure}),Ye=(r=xe.nodeRef.current)!=null?r:te,ye=N?(s=xe.rect)!=null?s:G:null,Mt=!!(xe.nodeRef.current&&xe.rect),xn=Fv(Mt?null:G),q=Nh(Ye?dt(Ye):null),ce=Bv(N?Ze!=null?Ze:te:null),je=Vv(ce),Te=_h(v,{transform:{x:R.x-xn.x,y:R.y-xn.y,scaleX:1,scaleY:1},activatorEvent:se,active:E,activeNodeRect:G,containerNodeRect:ze,draggingNodeRect:ye,over:_e.current.over,overlayNodeRect:xe.rect,scrollableAncestors:ce,scrollableAncestorRects:je,windowRect:q}),_t=J?Tr(J,R):null,Ae=Uv(ce),Un=xd(Ae),M=xd(Ae,[G]),$=Tr(Te,Un),V=ye?pv(ye,Te):null,et=E&&V?p({active:E,collisionRect:V,droppableRects:pe,droppableContainers:Z,pointerCoordinates:_t}):null,L=iv(et,"id"),[ue,le]=d.useState(null),De=Mt?Te:Tr(Te,M),Tt=dv(De,(l=ue==null?void 0:ue.rect)!=null?l:null,G),nn=d.useRef(null),qo=d.useCallback((tt,yt)=>{let{sensor:vt,options:gn}=yt;if(U.current==null)return;const Dt=C.get(U.current);if(!Dt)return;const wt=tt.nativeEvent,Qt=new vt({active:U.current,activeNode:Dt,event:wt,options:gn,context:_e,onAbort(Qe){if(!C.get(Qe))return;const{onDragAbort:Gt}=H.current,rn={id:Qe};Gt==null||Gt(rn),m({type:"onDragAbort",event:rn})},onPending(Qe,yn,Gt,rn){if(!C.get(Qe))return;const{onDragPending:Gr}=H.current,vn={id:Qe,constraint:yn,initialCoordinates:Gt,offset:rn};Gr==null||Gr(vn),m({type:"onDragPending",event:vn})},onStart(Qe){const yn=U.current;if(yn==null)return;const Gt=C.get(yn);if(!Gt)return;const{onDragStart:rn}=H.current,Qr={activatorEvent:wt,active:{id:yn,data:Gt.data,rect:D}};jr.unstable_batchedUpdates(()=>{rn==null||rn(Qr),j(jn.Initializing),x({type:Fe.DragStart,initialCoordinates:Qe,active:yn}),m({type:"onDragStart",event:Qr}),ie(nn.current),I(wt)})},onMove(Qe){x({type:Fe.DragMove,coordinates:Qe})},onEnd:ar(Fe.DragEnd),onCancel:ar(Fe.DragCancel)});nn.current=Qt;function ar(Qe){return async function(){const{active:Gt,collisions:rn,over:Qr,scrollAdjustedTranslate:Gr}=_e.current;let vn=null;if(Gt&&Gr){const{cancelDrop:qr}=H.current;vn={activatorEvent:wt,active:Gt,collisions:rn,delta:Gr,over:Qr},Qe===Fe.DragEnd&&typeof qr=="function"&&await Promise.resolve(qr(vn))&&(Qe=Fe.DragCancel)}U.current=null,jr.unstable_batchedUpdates(()=>{x({type:Qe}),j(jn.Uninitialized),le(null),ie(null),I(null),nn.current=null;const qr=Qe===Fe.DragEnd?"onDragEnd":"onDragCancel";if(vn){const Zo=H.current[qr];Zo==null||Zo(vn),m({type:qr,event:vn})}})}}},[C]),Jo=d.useCallback((tt,yt)=>(vt,gn)=>{const Dt=vt.nativeEvent,wt=C.get(gn);if(U.current!==null||!wt||Dt.dndKit||Dt.defaultPrevented)return;const Qt={active:wt};tt(vt,yt.options,Qt)===!0&&(Dt.dndKit={capturedBy:yt.sensor},U.current=gn,qo(vt,yt))},[C,qo]),Ac=Iv(f,Jo);Hv(f),Kt(()=>{G&&S===jn.Initializing&&j(jn.Initialized)},[G,S]),d.useEffect(()=>{const{onDragMove:tt}=H.current,{active:yt,activatorEvent:vt,collisions:gn,over:Dt}=_e.current;if(!yt||!vt)return;const wt={active:yt,activatorEvent:vt,collisions:gn,delta:{x:$.x,y:$.y},over:Dt};jr.unstable_batchedUpdates(()=>{tt==null||tt(wt),m({type:"onDragMove",event:wt})})},[$.x,$.y]),d.useEffect(()=>{const{active:tt,activatorEvent:yt,collisions:vt,droppableContainers:gn,scrollAdjustedTranslate:Dt}=_e.current;if(!tt||U.current==null||!yt||!Dt)return;const{onDragOver:wt}=H.current,Qt=gn.get(L),ar=Qt&&Qt.rect.current?{id:Qt.id,rect:Qt.rect.current,data:Qt.data,disabled:Qt.disabled}:null,Qe={active:tt,activatorEvent:yt,collisions:vt,delta:{x:Dt.x,y:Dt.y},over:ar};jr.unstable_batchedUpdates(()=>{le(ar),wt==null||wt(Qe),m({type:"onDragOver",event:Qe})})},[L]),Kt(()=>{_e.current={activatorEvent:se,active:E,activeNode:te,collisionRect:V,collisions:et,droppableRects:pe,draggableNodes:C,draggingNode:Ye,draggingNodeRect:ye,droppableContainers:z,over:ue,scrollableAncestors:ce,scrollAdjustedTranslate:$},D.current={initial:ye,translated:V}},[E,te,et,V,C,Ye,ye,pe,z,ue,ce,$]),Dv({...Oe,delta:R,draggingRect:V,pointerCoordinates:_t,scrollableAncestors:ce,scrollableAncestorRects:je});const Xh=d.useMemo(()=>({active:E,activeNode:te,activeNodeRect:G,activatorEvent:se,collisions:et,containerNodeRect:ze,dragOverlay:xe,draggableNodes:C,droppableContainers:z,droppableRects:pe,over:ue,measureDroppableContainers:me,scrollableAncestors:ce,scrollableAncestorRects:je,measuringConfiguration:Q,measuringScheduled:Me,windowRect:q}),[E,te,G,se,et,ze,xe,C,z,pe,ue,me,ce,je,Q,Me,q]),Kh=d.useMemo(()=>({activatorEvent:se,activators:Ac,active:E,activeNodeRect:G,ariaDescribedById:{draggable:F},dispatch:x,draggableNodes:C,over:ue,measureDroppableContainers:me}),[se,Ac,E,G,x,F,C,ue,me]);return be.createElement(dh.Provider,{value:g},be.createElement(nl.Provider,{value:Kh},be.createElement(Mh.Provider,{value:Xh},be.createElement(Qo.Provider,{value:Tt},u)),be.createElement(Jv,{disabled:(i==null?void 0:i.restoreFocus)===!1})),be.createElement(rv,{...i,hiddenTextDescribedById:F}));function Yh(){const tt=(K==null?void 0:K.autoScrollEnabled)===!1,yt=typeof c=="object"?c.enabled===!1:c===!1,vt=N&&!tt&&!yt;return typeof c=="object"?{...c,enabled:vt}:{enabled:vt}}}),t1=d.createContext(null),yd="button",n1="Draggable";function r1(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const l=tl(n1),{activators:a,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:p,over:h}=d.useContext(nl),{role:v=yd,roleDescription:b="draggable",tabIndex:y=0}=s!=null?s:{},w=(c==null?void 0:c.id)===t,x=d.useContext(w?Qo:t1),[m,g]=ho(),[S,j]=ho(),N=Wv(a,t),k=Us(n);Kt(()=>(p.set(t,{id:t,key:l,node:m,activatorNode:S,data:k}),()=>{const R=p.get(t);R&&R.key===l&&p.delete(t)}),[p,t]);const C=d.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":w&&v===yd?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,v,y,w,b,f.draggable]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:C,isDragging:w,listeners:r?void 0:N,node:m,over:h,setNodeRef:g,setActivatorNodeRef:j,transform:x}}function Dh(){return d.useContext(Mh)}const s1="Droppable",l1={timeout:25};function o1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const l=tl(s1),{active:a,dispatch:i,over:c,measureDroppableContainers:u}=d.useContext(nl),f=d.useRef({disabled:n}),p=d.useRef(!1),h=d.useRef(null),v=d.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:w}={...l1,...s},x=Us(y!=null?y:r),m=d.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),v.current=null},w)},[w]),g=Yo({callback:m,disabled:b||!a}),S=d.useCallback((C,R)=>{g&&(R&&(g.unobserve(R),p.current=!1),C&&g.observe(C))},[g]),[j,N]=ho(S),k=Us(t);return d.useEffect(()=>{!g||!j.current||(g.disconnect(),p.current=!1,g.observe(j.current))},[j,g]),d.useEffect(()=>(i({type:Fe.RegisterDroppable,element:{id:r,key:l,disabled:n,node:j,rect:h,data:k}}),()=>i({type:Fe.UnregisterDroppable,key:l,id:r})),[r]),d.useEffect(()=>{n!==f.current.disabled&&(i({type:Fe.SetDroppableDisabled,id:r,key:l,disabled:n}),f.current.disabled=n)},[r,l,n,i]),{active:a,rect:h,isOver:(c==null?void 0:c.id)===r,node:j,over:c,setNodeRef:N}}function a1(e){let{animation:t,children:n}=e;const[r,s]=d.useState(null),[l,a]=d.useState(null),i=mo(n);return!n&&!r&&i&&s(i),Kt(()=>{if(!l)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,l)).then(()=>{s(null)})},[t,r,l]),be.createElement(be.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const i1={x:0,y:0,scaleX:1,scaleY:1};function c1(e){let{children:t}=e;return be.createElement(nl.Provider,{value:Eh},be.createElement(Qo.Provider,{value:i1},t))}const u1={position:"fixed",touchAction:"none"},d1=e=>Xo(e)?"transform 250ms ease":void 0,f1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:l,className:a,rect:i,style:c,transform:u,transition:f=d1}=e;if(!i)return null;const p=s?u:{...u,scaleX:1,scaleY:1},h={...u1,width:i.width,height:i.height,top:i.top,left:i.left,transform:hn.Transform.toString(p),transformOrigin:s&&r?lv(r,i):void 0,transition:typeof f=="function"?f(r):f,...c};return be.createElement(n,{className:a,style:h,ref:t},l)}),p1=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:l,className:a}=e;if(l!=null&&l.active)for(const[i,c]of Object.entries(l.active))c!==void 0&&(s[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,c));if(l!=null&&l.dragOverlay)for(const[i,c]of Object.entries(l.dragOverlay))c!==void 0&&r.node.style.setProperty(i,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},h1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:hn.Transform.toString(t)},{transform:hn.Transform.toString(n)}]},m1={duration:250,easing:"ease",keyframes:h1,sideEffects:p1({styles:{active:{opacity:"0"}}})};function x1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return Vo((l,a)=>{if(t===null)return;const i=n.get(l);if(!i)return;const c=i.node.current;if(!c)return;const u=Ch(a);if(!u)return;const{transform:f}=dt(a).getComputedStyle(a),p=mh(f);if(!p)return;const h=typeof t=="function"?t:g1(t);return kh(c,s.draggable.measure),h({active:{id:l,data:i.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:p})})}function g1(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...m1,...e};return l=>{let{active:a,dragOverlay:i,transform:c,...u}=l;if(!t)return;const f={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},p={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/i.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/i.rect.height:1},h={x:c.x-f.x,y:c.y-f.y,...p},v=s({...u,active:a,dragOverlay:i,transform:{initial:c,final:h}}),[b]=v,y=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const w=r==null?void 0:r({active:a,dragOverlay:i,...u}),x=i.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{w==null||w(),m()}})}}let vd=0;function y1(e){return d.useMemo(()=>{if(e!=null)return vd++,vd},[e])}const Rh=be.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:l,modifiers:a,wrapperElement:i="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:v,draggableNodes:b,droppableContainers:y,dragOverlay:w,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:S,windowRect:j}=Dh(),N=d.useContext(Qo),k=y1(p==null?void 0:p.id),C=_h(a,{activatorEvent:f,active:p,activeNodeRect:h,containerNodeRect:v,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:g,scrollableAncestorRects:S,transform:N,windowRect:j}),R=Lc(h),z=x1({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:m}),P=R?w.setRef:void 0;return be.createElement(c1,null,be.createElement(a1,{animation:z},p&&k?be.createElement(f1,{key:k,id:p.id,ref:P,as:i,activatorEvent:f,adjustScale:t,className:c,transition:l,rect:R,style:{zIndex:u,...s},transform:C},n):null))});function Go(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function v1(e,t){return e.reduce((n,r,s)=>{const l=t.get(r);return l&&(n[s]=l),n},Array(e.length))}function wl(e){return e!==null&&e>=0}function w1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const zh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const l=Go(t,r,n),a=t[s],i=l[s];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},bl={scaleX:1,scaleY:1},Ph=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:l,overIndex:a}=e;const i=(t=l[n])!=null?t:r;if(!i)return null;if(s===n){const u=l[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...bl}:null}const c=k1(l,s,n);return s>n&&s<=a?{x:0,y:-i.height-c,...bl}:s<n&&s>=a?{x:0,y:i.height+c,...bl}:{x:0,y:0,...bl}};function k1(e,t,n){const r=e[t],s=e[t-1],l=e[t+1];return r?n<t?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Ih="Sortable",Lh=be.createContext({activeIndex:-1,containerId:Ih,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zh,disabled:{draggable:!1,droppable:!1}});function Oh(e){let{children:t,id:n,items:r,strategy:s=zh,disabled:l=!1}=e;const{active:a,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:f}=Dh(),p=tl(Ih,n),h=i.rect!==null,v=d.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),b=a!=null,y=a?v.indexOf(a.id):-1,w=u?v.indexOf(u.id):-1,x=d.useRef(v),m=!w1(v,x.current),g=w!==-1&&y===-1||m,S=b1(l);Kt(()=>{m&&b&&f(v)},[m,v,b,f]),d.useEffect(()=>{x.current=v},[v]);const j=d.useMemo(()=>({activeIndex:y,containerId:p,disabled:S,disableTransforms:g,items:v,overIndex:w,useDragOverlay:h,sortedRects:v1(v,c),strategy:s}),[y,p,S.draggable,S.droppable,g,v,w,c,h,s]);return be.createElement(Lh.Provider,{value:j},t)}const j1=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Go(n,r,s).indexOf(t)},S1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:l,newIndex:a,previousItems:i,previousContainerId:c,transition:u}=e;return!u||!r||i!==l&&s===a?!1:n?!0:a!==s&&t===c},N1={duration:200,easing:"ease"},Ah="transform",C1=hn.Transition.toString({property:Ah,duration:0,easing:"linear"}),E1={roleDescription:"sortable"};function M1(e){let{disabled:t,index:n,node:r,rect:s}=e;const[l,a]=d.useState(null),i=d.useRef(n);return Kt(()=>{if(!t&&n!==i.current&&r.current){const c=s.current;if(c){const u=Yr(r.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&a(f)}}n!==i.current&&(i.current=n)},[t,n,r,s]),d.useEffect(()=>{l&&a(null)},[l]),l}function $h(e){let{animateLayoutChanges:t=S1,attributes:n,disabled:r,data:s,getNewIndex:l=j1,id:a,strategy:i,resizeObserverConfig:c,transition:u=N1}=e;const{items:f,containerId:p,activeIndex:h,disabled:v,disableTransforms:b,sortedRects:y,overIndex:w,useDragOverlay:x,strategy:m}=d.useContext(Lh),g=_1(r,v),S=f.indexOf(a),j=d.useMemo(()=>({sortable:{containerId:p,index:S,items:f},...s}),[p,s,S,f]),N=d.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:k,node:C,isOver:R,setNodeRef:z}=o1({id:a,data:j,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:P,activatorEvent:D,activeNodeRect:E,attributes:U,setNodeRef:K,listeners:ie,isDragging:se,over:I,setActivatorNodeRef:H,transform:F}=r1({id:a,data:j,attributes:{...E1,...n},disabled:g.draggable}),Z=Wy(z,K),Q=!!P,pe=Q&&!b&&wl(h)&&wl(w),me=!x&&se,Me=me&&pe?F:null,te=i!=null?i:m,J=pe?Me!=null?Me:te({rects:y,activeNodeRect:E,activeIndex:h,overIndex:w,index:S}):null,Oe=wl(h)&&wl(w)?l({id:a,items:f,activeIndex:h,overIndex:w}):S,He=P==null?void 0:P.id,G=d.useRef({activeId:He,items:f,newIndex:Oe,containerId:p}),ze=f!==G.current.items,_e=t({active:P,containerId:p,isDragging:se,isSorting:Q,id:a,index:S,items:f,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:G.current.activeId!=null}),Ze=M1({disabled:!_e,index:S,node:C,rect:k});return d.useEffect(()=>{Q&&G.current.newIndex!==Oe&&(G.current.newIndex=Oe),p!==G.current.containerId&&(G.current.containerId=p),f!==G.current.items&&(G.current.items=f)},[Q,Oe,p,f]),d.useEffect(()=>{if(He===G.current.activeId)return;if(He!=null&&G.current.activeId==null){G.current.activeId=He;return}const Ye=setTimeout(()=>{G.current.activeId=He},50);return()=>clearTimeout(Ye)},[He]),{active:P,activeIndex:h,attributes:U,data:j,rect:k,index:S,newIndex:Oe,items:f,isOver:R,isSorting:Q,isDragging:se,listeners:ie,node:C,overIndex:w,over:I,setNodeRef:Z,setActivatorNodeRef:H,setDroppableNodeRef:z,setDraggableNodeRef:K,transform:Ze!=null?Ze:J,transition:xe()};function xe(){if(Ze||ze&&G.current.newIndex===S)return C1;if(!(me&&!Xo(D)||!u)&&(Q||_e))return hn.Transition.toString({...u,property:Ah})}}function _1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}de.Down,de.Right,de.Up,de.Left;const fe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},wd={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"},message_mode:{label:"",color:"#6b7b9b",bg:"#e0e6f0"}};function Fh({activation:e}){const t=wd[e]||wd.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const kl=80;function T1({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(f,p)=>{const h=n.current,v=r.current;if(!h)return;const b="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=b,h.style.transform=f?`translateX(${f}px)`:"",v){const y=Math.min(1,Math.abs(f)/kl);v.style.transition=b,v.style.opacity=`${y}`}f||(h.style.willChange="auto"),s.current.current=f},a=()=>l(0),i=f=>{if(f.target.closest(".drag-handle"))return;const p=f.touches[0],h=s.current;h.startX=p.clientX,h.startY=p.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=f=>{const p=s.current;if(!p.dragging)return;const h=f.touches[0],v=h.clientX-p.startX,b=h.clientY-p.startY;if(!p.locked){if(Math.abs(v)<5&&Math.abs(b)<5)return;p.locked=!0,p.isH=Math.abs(v)>Math.abs(b),p.isH&&n.current&&(n.current.style.willChange="transform")}if(!p.isH){p.dragging=!1;return}f.preventDefault();const y=Math.max(-kl,Math.min(0,p.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/kl)}`),p.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-kl):l(0)};return o.jsxs("div",{className:"relative overflow-hidden rounded-[18px]",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function D1({book:e,onTap:t,onDelete:n}){var f;const{attributes:r,listeners:s,setNodeRef:l,transform:a,transition:i,isDragging:c}=$h({id:String(e.id)}),u={transform:hn.Transform.toString(a),transition:i,opacity:c?0:1};return o.jsx("div",{ref:l,style:u,className:"mb-3",children:o.jsx(T1,{onDelete:()=>n(e),children:o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:fe.bg,userSelect:"none"},children:[o.jsx("div",{...r,...s,className:"drag-handle shrink-0 cursor-grab touch-none px-1",style:{cursor:c?"grabbing":"grab"},children:o.jsx(Gs,{size:18,style:{color:fe.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>t(e),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:fe.text},children:e.name}),o.jsx(Fh,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:fe.textMuted},children:e.folder}),e.activation==="keyword"&&((f=e.keywords)==null?void 0:f.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((p,h)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:fe.accentDark},children:p},h)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:fe.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Ar,{size:16,style:{color:fe.textMuted,flexShrink:0},onClick:()=>t(e)})]})})})}function R1({folder:e,books:t,onDelete:n,onTap:r,onReorder:s}){const[l,a]=d.useState(!0),[i,c]=d.useState(null),u=fh(vo(Ko,{activationConstraint:{distance:5}}),vo(Ic,{activationConstraint:{delay:200,tolerance:5}})),f=({active:h,over:v})=>{if(c(null),!v||h.id===v.id)return;const b=t.findIndex(x=>String(x.id)===String(h.id)),y=t.findIndex(x=>String(x.id)===String(v.id));if(b<0||y<0)return;const w=Go(t,b,y);s(e,w)},p=i?t.find(h=>String(h.id)===String(i)):null;return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>a(!l),children:[l?o.jsx(Qs,{size:14,style:{color:fe.textMuted}}):o.jsx(Ar,{size:14,style:{color:fe.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:fe.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:fe.textMuted},children:t.length})]}),l&&o.jsxs(Th,{sensors:u,collisionDetection:ph,onDragStart:({active:h})=>c(h.id),onDragEnd:f,children:[o.jsx(Oh,{items:t.map(h=>String(h.id)),strategy:Ph,children:t.map(h=>o.jsx(D1,{book:h,onTap:r,onDelete:n},h.id))}),o.jsx(Rh,{children:p&&o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:fe.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx("div",{className:"shrink-0 px-1",children:o.jsx(Gs,{size:18,style:{color:fe.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:fe.text},children:p.name}),o.jsx(Fh,{activation:p.activation})]}),p.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:fe.textMuted},children:p.folder})]}),o.jsx(Ar,{size:16,style:{color:fe.textMuted,flexShrink:0}})]})})]})]})}function z1(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(null),u=y=>{c(y),setTimeout(()=>c(null),2e3)},f=()=>{s(!0),A("/api/world-books").then(y=>n(y.world_books||[])).catch(()=>u("")).finally(()=>s(!1))};d.useEffect(()=>{f()},[]);const p=async y=>{a(null);try{await A(`/api/world-books/${y.id}`,{method:"DELETE"}),n(w=>w.filter(x=>x.id!==y.id)),u("")}catch(w){u("")}},h=(y,w)=>{const x=y||"";n(m=>[...m.filter(S=>(S.folder||"")!==x),...w]),A("/api/world-books/reorder",{method:"PUT",body:{ordered_ids:w.map(m=>m.id)}}).catch(()=>u(""))},v={};for(const y of t){const w=y.folder||"";v[w]||(v[w]=[]),v[w].push(y)}const b=Object.keys(v).sort((y,w)=>y===""?1:w===""?-1:y.localeCompare(w));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:fe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:fe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:fe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Wr,{size:20,style:{color:fe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:fe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Gs,{size:36,style:{color:fe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:fe.textMuted},children:" + "})]}):b.map(y=>o.jsx(R1,{folder:y,books:v[y],onDelete:w=>a(w),onTap:w=>e(`/world-books/${w.id}`),onReorder:h},y))}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:fe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:y=>y.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:fe.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:fe.textMuted},children:["",l.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)",color:fe.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>p(l),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const Y={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function P1({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})}function I1({value:e,onChange:t,folders:n}){const[r,s]=d.useState(!1),l=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),s(!0)},onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}}),r&&l.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:l.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:Y.text},onMouseDown:()=>{t(a),s(!1)},children:a},a))})]})}function L1({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""},{value:"message_mode",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:Y.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?Y.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?Y.accentDark:Y.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}function O1({selected:e,onChange:t}){const n=[{value:"long",label:""},{value:"short",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:n.map(r=>{const s=e===r.value;return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>t(r.value),children:r.label},r.value)})})]})}const A1=[{value:"happy",label:""},{value:"sad",label:""},{value:"angry",label:""},{value:"anxious",label:""},{value:"tired",label:""},{value:"emo",label:""},{value:"flirty",label:""},{value:"proud",label:""},{value:"calm",label:""}];function $1({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(s=>s!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:A1.map(r=>{const s=e.includes(r.value);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:s?Y.accentDark:Y.bg,color:s?"white":Y.textMuted,boxShadow:s?"none":"var(--card-shadow-sm)"},onClick:()=>n(r.value),children:r.label},r.value)})})]})}function F1({keywords:e,onChange:t}){const[n,r]=d.useState(""),s=()=>{const l=n.trim();if(!l||e.includes(l)){r("");return}t([...e,l]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,minHeight:48},children:[e.map(l=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:Y.accentDark},children:[l,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==l)),children:o.jsx(Js,{size:10})})]},l)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),onKeyDown:l=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),s())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:Y.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:Y.accentDark},onClick:s,children:o.jsx(Wr,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:Y.textMuted},children:" Enter "})]})}function B1({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:Y.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx($r,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:Y.bg,color:Y.text},placeholder:"..."})]})}function bd(){const e=$t(),{id:t}=Zp(),n=!t,[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState("always"),[u,f]=d.useState([]),[p,h]=d.useState("long"),[v,b]=d.useState(""),[y,w]=d.useState(!1),[x,m]=d.useState(!n),[g,S]=d.useState(null),[j,N]=d.useState([]),[k,C]=d.useState(!1),R=d.useRef(null),z=E=>{var ie;const U=(ie=E.target.files)==null?void 0:ie[0];if(!U)return;const K=new FileReader;K.onload=se=>b(se.target.result||""),K.readAsText(U),E.target.value=""},P=E=>{S(E),setTimeout(()=>S(null),2e3)};d.useEffect(()=>{A("/api/world-books").then(E=>{const U=E.world_books||[];if(N([...new Set(U.map(K=>K.folder).filter(Boolean))]),!n){const K=U.find(ie=>String(ie.id)===String(t));K&&(s(K.name),a(K.folder||""),c(K.activation),f(K.keywords||[]),h(K.message_mode||"long"),b(K.content))}}).catch(()=>P("")).finally(()=>m(!1))},[t,n]);const D=async()=>{if(!r.trim()){P("");return}w(!0);try{const E={name:r.trim(),folder:l.trim()||null,activation:i,keywords:i==="keyword"||i==="mood"?u:[],message_mode:i==="message_mode"?p:null,content:v};n?(await A("/api/world-books",{method:"POST",body:E}),P("")):(await A(`/api/world-books/${t}`,{method:"PUT",body:E}),P(""))}catch(E){P(": "+E.message)}finally{w(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:Y.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Y.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:D,disabled:y,children:o.jsx(Ho,{size:18,style:{color:Y.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:x?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Y.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(P1,{label:"",value:r,onChange:s,placeholder:""}),o.jsx(I1,{value:l,onChange:a,folders:j}),o.jsx(L1,{value:i,onChange:c}),i==="keyword"&&o.jsx(F1,{keywords:u,onChange:f}),i==="mood"&&o.jsx($1,{selected:u,onChange:f}),i==="message_mode"&&o.jsx(O1,{selected:p,onChange:h})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:Y.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>{var E;return(E=R.current)==null?void 0:E.click()},title:"",children:o.jsx(Uo,{size:13,style:{color:Y.textMuted}})}),o.jsx("input",{ref:R,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:z}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:Y.bg},onClick:()=>C(!0),title:"",children:o.jsx(qs,{size:13,style:{color:Y.accentDark}})})]})]}),o.jsx("textarea",{value:v,onChange:E=>b(E.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text}})]})]})}),k&&o.jsx(B1,{value:v,onChange:b,onClose:()=>C(!1)}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const Pe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},jl=80;function U1({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),l=(f,p)=>{const h=n.current,v=r.current;if(!h)return;const b="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=b,h.style.transform=f?`translateX(${f}px)`:"",v){const y=Math.min(1,Math.abs(f)/jl);v.style.transition=b,v.style.opacity=`${y}`}f||(h.style.willChange="auto"),s.current.current=f},a=()=>l(0),i=f=>{const p=f.touches[0],h=s.current;h.startX=p.clientX,h.startY=p.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=f=>{const p=s.current;if(!p.dragging)return;const h=f.touches[0],v=h.clientX-p.startX,b=h.clientY-p.startY;if(!p.locked){if(Math.abs(v)<5&&Math.abs(b)<5)return;p.locked=!0,p.isH=Math.abs(v)>Math.abs(b),p.isH&&n.current&&(n.current.style.willChange="transform")}if(!p.isH){p.dragging=!1;return}f.preventDefault();const y=Math.max(-jl,Math.min(0,p.base+v));n.current&&(n.current.style.transform=`translateX(${y}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(y)/jl)}`),p.current=y},u=()=>{s.current.dragging=!1,s.current.current<-40?l(-jl):l(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function H1({assistant:e,localAvatar:t,onTap:n}){var s;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:Pe.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:Pe.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:Pe.accentDark},children:((s=e.name)==null?void 0:s[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:Pe.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:Pe.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Ar,{size:16,style:{color:Pe.textMuted,flexShrink:0}})]})}function W1(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState({}),[l,a]=d.useState(!0),[i,c]=d.useState(null),[u,f]=d.useState(null),p=b=>{f(b),setTimeout(()=>f(null),2e3)},h=()=>{a(!0),A("/api/assistants").then(async b=>{const y=b.assistants||[];n(y);const w={};await Promise.all(y.map(async x=>{const m=await Vr(`assistant-avatar-${x.id}`).catch(()=>null);m&&(w[x.id]=m)})),s(w)}).catch(()=>p("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const v=async b=>{c(null);try{await A(`/api/assistants/${b.id}`,{method:"DELETE"}),n(y=>y.filter(w=>w.id!==b.id)),p("")}catch(y){p("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Pe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:Pe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Pe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Wr,{size:20,style:{color:Pe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Pe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(sh,{size:36,style:{color:Pe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:Pe.textMuted},children:" + "})]}):t.map(b=>o.jsx(U1,{onDelete:()=>c(b),children:o.jsx(H1,{assistant:b,localAvatar:r[b.id],onTap:y=>e(`/assistants/${y.id}`)})},b.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>c(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:Pe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:b=>b.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:Pe.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:Pe.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:Pe.bg,boxShadow:"var(--card-shadow-sm)",color:Pe.text},onClick:()=>c(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>v(i),children:""})]})]})}),u&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:u})})]})}const _={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function kd({label:e,value:t,onChange:n,placeholder:r,rows:s,onExpand:l,onHistory:a}){const i=d.useRef(null),c=u=>{var h;const f=(h=u.target.files)==null?void 0:h[0];if(!f)return;const p=new FileReader;p.onload=v=>n(v.target.result||""),p.readAsText(f),u.target.value=""};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:_.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:_.bg},onClick:a,children:o.jsx(Ry,{size:13,style:{color:_.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:_.bg},onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},children:o.jsx(Uo,{size:13,style:{color:_.textMuted}})}),o.jsx("input",{ref:i,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:c}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:_.bg},onClick:l,children:o.jsx(qs,{size:13,style:{color:_.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:u=>n(u.target.value),placeholder:r,rows:s||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:_.bg,color:_.text}})]})}function Da({label:e,value:t,onChange:n,presets:r}){const[s,l]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:_.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:_.bg,color:_.text},onClick:()=>l(!s),children:[o.jsx("span",{style:{color:a?_.text:_.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:_.textMuted,transform:s?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:_.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:_.textMuted},onClick:()=>{n(null),l(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:_.text},onClick:()=>{n(i.id),l(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx(Bs,{size:14,style:{color:_.accentDark}})]},i.id))]})]})]})}function Ra({value:e,onChange:t,onClose:n,title:r,placeholder:s}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:_.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:_.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx($r,{size:18,style:{color:_.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:l=>t(l.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:_.bg,color:_.text},placeholder:s||""})]})}function V1({items:e,currentContent:t,onApply:n,onClose:r}){const[s,l]=d.useState("current"),[a,i]=d.useState(null),c=f=>f?new Date(f).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",u=async()=>{if(s==="current"){r();return}const f=e.find(p=>p.id===s);f&&await n(f.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:_.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:_.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx($r,{size:18,style:{color:_.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:_.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:_.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:_.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:_.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx($r,{size:18,style:{color:_.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:_.bg},children:[o.jsx("button",{onClick:()=>l("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s==="current"?_.accentDark:_.bg,boxShadow:s==="current"?"none":"var(--icon-inset)"},children:s==="current"&&o.jsx(Bs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:_.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:_.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:_.textMuted},children:""}),e.map(f=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:s===f.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:_.bg},children:[o.jsx("button",{onClick:()=>l(f.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:s===f.id?_.accentDark:_.bg,boxShadow:s===f.id?"none":"var(--icon-inset)"},children:s===f.id&&o.jsx(Bs,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(f),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:_.text},children:[" ",f.version]}),o.jsx("span",{className:"text-[10px]",style:{color:_.textMuted},children:c(f.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:_.textMuted},children:f.content})]})]},f.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:u,children:""})})]})}function Bh(e){return e==="always"?"":e==="keyword"?"":e==="message_mode"?"":""}function Uh(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function X1({item:e,book:t,position:n,sectionList:r,onRemove:s,onChangePosition:l}){const{attributes:a,listeners:i,setNodeRef:c,transform:u,transition:f,isDragging:p}=$h({id:String(e.id)}),h={transform:hn.Transform.toString(u),transition:f,opacity:p?0:1};return t?o.jsxs("div",{ref:c,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:p?"grabbing":"grab"},children:o.jsx(Gs,{size:14,style:{color:_.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:_.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:_.textMuted},children:[Bh(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:_.textMuted},onClick:()=>l(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>s(e.id),children:o.jsx(Js,{size:14,style:{color:_.textMuted}})})]}):null}function K1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[s,l]=d.useState(new Set(t)),a={};e.forEach(u=>{const f=u.folder||"";a[f]||(a[f]=[]),a[f].push(u)});const i=u=>{l(f=>{const p=new Set(f);return p.has(u)?p.delete(u):p.add(u),p})},c=u=>{const f=u.every(p=>s.has(p.id));l(p=>{const h=new Set(p);return f?u.forEach(v=>h.delete(v.id)):u.forEach(v=>h.add(v.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:_.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:_.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Js,{size:20,style:{color:_.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([u,f])=>{const p=f.every(h=>s.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:_.textMuted},children:u}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:p?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:p?_.accentDark:_.textMuted},onClick:()=>c(f),children:p?"":""})]}),o.jsx("div",{className:"space-y-2",children:f.map(h=>{const v=s.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:_.bg,boxShadow:v?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:v?_.accentDark:_.bg,boxShadow:v?"none":"var(--icon-inset)"},children:v&&o.jsx(Bs,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:v?_.accentDark:_.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:_.textMuted},children:Bh(h.activation)})]},h.id)})})]},u)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...s]),children:[" ",s.size,""]})})]})})}function Y1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,s]=d.useState(!1),[l,a]=d.useState(null),i=Uh(e),c=i.filter(j=>j.position==="before").sort((j,N)=>j.sort_order-N.sort_order),u=i.filter(j=>j.position==="after").sort((j,N)=>j.sort_order-N.sort_order),f=j=>n.find(N=>N.id===j||N.id===Number(j)),p=fh(vo(Ko,{activationConstraint:{distance:5}}),vo(Ic,{activationConstraint:{delay:150,tolerance:5}})),h=({active:j})=>a(j.id),v=({active:j,over:N})=>{if(!N)return;const k=i.find(R=>String(R.id)===String(j.id)),C=i.find(R=>String(R.id)===String(N.id));if(!(!k||!C)&&k.position!==C.position){const R=i.map(z=>String(z.id)===String(k.id)?{...z,position:C.position}:z);t(R)}},b=({active:j,over:N})=>{if(a(null),!N||j.id===N.id)return;const k=i.find(U=>String(U.id)===String(j.id)),C=i.find(U=>String(U.id)===String(N.id));if(!k||!C||k.position!==C.position)return;const R=k.position==="before"?[...c]:[...u],z=R.findIndex(U=>String(U.id)===String(j.id)),P=R.findIndex(U=>String(U.id)===String(N.id)),D=Go(R,z,P).map((U,K)=>({...U,sort_order:K})),E=i.filter(U=>U.position!==k.position);t([...E,...D])},y=j=>t(i.filter(N=>N.id!==j)),w=(j,N)=>{const C=(N==="before"?c:u).length;t(i.map(R=>R.id===j?{...R,position:N,sort_order:C}:R))},x=j=>{const N=i.map(P=>P.id),C=j.filter(P=>!N.includes(P)).map((P,D)=>({id:P,position:"after",sort_order:u.length+D})),R=new Set(N.filter(P=>!j.includes(P))),z=i.filter(P=>!R.has(P.id));t([...z,...C])},m=(j,N)=>j.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:_.textMuted},children:""}):o.jsx(Oh,{items:j.map(k=>String(k.id)),strategy:Ph,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)"},children:j.map((k,C)=>o.jsxs("div",{children:[C>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(X1,{item:k,book:f(k.id),position:N,sectionList:j,onRemove:y,onChangePosition:w})]},k.id))})}),g=l?i.find(j=>String(j.id)===String(l)):null,S=g?f(g.id):null;return o.jsxs(Th,{sensors:p,collisionDetection:ph,onDragStart:h,onDragOver:v,onDragEnd:b,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:_.textMuted},children:"System Prompt "}),m(c,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:_.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:_.textMuted},children:"System Prompt "}),m(u,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)",color:_.accentDark},onClick:()=>s(!0),children:[o.jsx(Wr,{size:16})," "]}),o.jsx(Rh,{children:S&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:_.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(Gs,{size:14,style:{color:_.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:_.accentDark},children:S.name})})]})}),r&&o.jsx(K1,{allBooks:n,mountedIds:i.map(j=>j.id),onClose:()=>s(!1),onConfirm:j=>{x(j),s(!1)}})]})}function jd(){const e=$t(),{id:t}=Zp(),n=!t,[r,s]=d.useState("basic"),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,f]=d.useState(""),[p,h]=d.useState(null),[v,b]=d.useState(null),[y,w]=d.useState(null),[x,m]=d.useState(""),[g,S]=d.useState(""),[j,N]=d.useState(null),[k,C]=d.useState(null),[R,z]=d.useState([]),[P,D]=d.useState([]),[E,U]=d.useState([]),[K,ie]=d.useState(!1),[se,I]=d.useState(!n),[H,F]=d.useState(null),[Z,Q]=d.useState(!1),[pe,me]=d.useState(!1),[Me,te]=d.useState(!1),[J,Oe]=d.useState(null),[He,G]=d.useState([]),ze=d.useRef(null),_e=d.useRef(null),Ze=q=>{var Te;const ce=(Te=q.target.files)==null?void 0:Te[0];if(!ce)return;const je=new FileReader;je.onload=_t=>f(_t.target.result||""),je.readAsText(ce),q.target.value=""},xe=q=>{F(q),setTimeout(()=>F(null),2500)},Ye=async q=>{const ce=q==="human"?j:k;if(!ce){xe("");return}try{const je=await A(`/api/core-blocks/${ce}/history`);G(je.history||[]),Oe(q)}catch(je){xe("")}};d.useEffect(()=>{(async()=>{const[ce,je]=await Promise.all([A("/api/presets").catch(()=>({presets:[]})),A("/api/world-books").catch(()=>({world_books:[]}))]);if(D(ce.presets||[]),U(je.world_books||[]),n)I(!1);else try{const[Te,_t]=await Promise.all([A(`/api/assistants/${t}`),A(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(Te.name||""),Vr(`assistant-avatar-${t}`).then(Ae=>{Ae&&c(Ae)}).catch(function(){}),f(Te.system_prompt||""),h(Te.model_preset_id||null),b(Te.summary_model_preset_id||null),w(Te.summary_fallback_preset_id||null),z(Te.rule_set_ids||[]);for(const Ae of _t.blocks||[])Ae.block_type==="human"?(m(Ae.content||""),N(Ae.id)):Ae.block_type==="persona"&&(S(Ae.content||""),C(Ae.id))}catch(Te){xe(": "+Te.message)}finally{I(!1)}})()},[t,n]);const ye=q=>{var Te;const ce=(Te=q.target.files)==null?void 0:Te[0];if(!ce)return;const je=new FileReader;je.onload=async _t=>{const Ae=_t.target.result,Un=`assistant-avatar-${t||"new"}`;try{await Ti(Un,Ae),c(Ae)}catch(M){xe("")}},je.readAsDataURL(ce),q.target.value=""},Mt=async()=>{if(!l.trim()){xe("");return}ie(!0);try{const q={name:l.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:u,model_preset_id:p,summary_model_preset_id:v,summary_fallback_preset_id:y,rule_set_ids:Uh(R)};let ce=t;if(n?(ce=(await A("/api/assistants",{method:"POST",body:{name:l.trim()}})).id,i&&(await Ti(`assistant-avatar-${ce}`,i),q.avatar_url=`assistant-avatar-${ce}`),await A(`/api/assistants/${ce}`,{method:"PUT",body:q})):await A(`/api/assistants/${t}`,{method:"PUT",body:q}),j)await A(`/api/core-blocks/${j}`,{method:"PUT",body:{content:x}});else if(x.trim()){const je=await A("/api/core-blocks",{method:"POST",body:{block_type:"human",assistant_id:Number(ce),content:x}});N(je.id)}if(k)await A(`/api/core-blocks/${k}`,{method:"PUT",body:{content:g}});else if(g.trim()){const je=await A("/api/core-blocks",{method:"POST",body:{block_type:"persona",assistant_id:Number(ce),content:g}});C(je.id)}xe("")}catch(q){xe(": "+q.message)}finally{ie(!1)}},xn=[{key:"basic",label:""},{key:"about",label:"Core Blocks"},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:_.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:_.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:_.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:_.bg,boxShadow:K?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Mt,disabled:K,children:o.jsx(Ho,{size:18,style:{color:_.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:xn.map(q=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===q.key?_.bg:"transparent",boxShadow:r===q.key?"var(--card-shadow-sm)":"none",color:r===q.key?_.accentDark:_.textMuted},onClick:()=>s(q.key),children:q.label},q.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:se?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:_.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var q;return(q=ze.current)==null?void 0:q.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:_.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:_.accentDark},children:(l==null?void 0:l[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:_.accentDark},children:o.jsx(lh,{size:9,color:"white"})})]}),o.jsx("input",{ref:ze,type:"file",accept:"image/*",className:"hidden",onChange:ye}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:_.textMuted},children:""}),o.jsx("input",{type:"text",value:l,onChange:q=>a(q.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:_.bg,color:_.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:_.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:_.bg},onClick:()=>{var q;return(q=_e.current)==null?void 0:q.click()},title:"",children:o.jsx(Uo,{size:13,style:{color:_.textMuted}})}),o.jsx("input",{ref:_e,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:Ze}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:_.bg},onClick:()=>Q(!0),title:"",children:o.jsx(qs,{size:13,style:{color:_.accentDark}})})]})]}),o.jsx("textarea",{value:u,onChange:q=>f(q.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:_.bg,color:_.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Da,{label:"",value:p,onChange:h,presets:P}),o.jsx(Da,{label:"",value:v,onChange:b,presets:P}),o.jsx(Da,{label:"",value:y,onChange:w,presets:P})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(kd,{label:"human block",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>me(!0),onHistory:()=>Ye("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(kd,{label:"persona block",value:g,onChange:S,placeholder:"AI ...",rows:7,onExpand:()=>te(!0),onHistory:()=>Ye("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:_.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(Y1,{ruleSetIds:R,onChange:z,allBooks:E})})]})}),Z&&o.jsx(Ra,{value:u,onChange:f,onClose:()=>Q(!1),title:"",placeholder:"..."}),pe&&o.jsx(Ra,{value:x,onChange:m,onClose:()=>me(!1),title:"human block",placeholder:" AI ..."}),Me&&o.jsx(Ra,{value:g,onChange:S,onClose:()=>te(!1),title:"persona block",placeholder:"AI ..."}),J&&o.jsx(V1,{items:He,currentContent:J==="human"?x:g,onApply:async q=>{const ce=J==="human"?j:k;try{await A(`/api/core-blocks/${ce}`,{method:"PUT",body:{content:q}}),J==="human"?m(q):S(q),xe("")}catch(je){xe("")}},onClose:()=>Oe(null)}),H&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:H})})]})}const ee={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function Q1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":ee.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Sd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:n})]}),o.jsx(Ar,{size:16,style:{color:ee.textMuted}})]})}function Nd(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function ur({value:e,onChange:t,min:n,max:r}){const[s,l]=d.useState(String(e));d.useEffect(()=>l(String(e)),[e]);const a=()=>{let i=parseInt(s);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),l(String(i)),t(i)};return o.jsx("input",{type:"number",value:s,onChange:i=>l(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:ee.bg,color:ee.text},min:n,max:r})}function G1(){const e=$t(),[t,n]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessage)||!1}),[r,s]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMin)||30}),[l,a]=d.useState(()=>{var k;return((k=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:k.autoMessageIntervalMax)||60}),[i,c]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[u,f]=d.useState(8),[p,h]=d.useState(8e3),[v,b]=d.useState(16e3),[y,w]=d.useState(!1),[x,m]=d.useState(!1),[g,S]=d.useState(null),j=k=>{S(k),setTimeout(()=>S(null),2e3)};d.useEffect(()=>{A("/api/settings/context-budget").then(k=>{h(k.retain_budget),b(k.trigger_threshold),w(!0)}).catch(()=>w(!0))},[]),d.useEffect(()=>{const k=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...k,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:l}))},[t,r,l]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),A("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]),d.useEffect(()=>{A("/api/settings/short-msg-max").then(k=>f(k.max_count||8)).catch(()=>{})},[]),d.useEffect(()=>{A("/api/settings/short-msg-max",{method:"PUT",body:{max_count:u}}).catch(()=>{})},[u]);const N=async()=>{m(!0);try{await A("/api/settings/context-budget",{method:"PUT",body:{retain_budget:p,trigger_threshold:v}}),j("")}catch(k){j("")}finally{m(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ee.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ee.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:ee.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ee.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Sd,{icon:o.jsx(Oy,{size:18,style:{color:ee.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(Nd,{}),o.jsx(Sd,{icon:o.jsx(Iy,{size:18,style:{color:ee.textMuted}}),label:"",hint:"",onClick:()=>j("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(Py,{size:18,style:{color:ee.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:" AI "})]}),o.jsx(Q1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:ee.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:ee.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ur,{value:r,onChange:s,min:1,max:999}),o.jsx("span",{style:{color:ee.textMuted},children:"~"}),o.jsx(ur,{value:l,onChange:a,min:1,max:999})]})]})})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(Fy,{size:18,style:{color:ee.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ur,{value:i,onChange:c,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:ee.textMuted},children:""})]})]}),o.jsx(Nd,{}),o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(Ty,{size:18,style:{color:ee.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:""})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ur,{value:u,onChange:f,min:2,max:20}),o.jsx("span",{className:"text-[12px]",style:{color:ee.textMuted},children:""})]})]})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:ee.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ee.bg},children:o.jsx(Ey,{size:18,style:{color:ee.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:ee.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:ee.textMuted},children:""})]})]}),y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ee.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:ee.textMuted},children:" token "})]}),o.jsx(ur,{value:p,onChange:h,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ee.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:ee.textMuted},children:""})]}),o.jsx(ur,{value:v,onChange:b,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:x?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:N,disabled:x,children:x?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:ee.accent,borderTopColor:"transparent"}})})]})]}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const O={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},q1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function J1(e){try{return new URL(e).hostname}catch(t){return e}}function Cd({label:e,value:t,onChange:n,placeholder:r,password:s,disabled:l}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s&&!a?"password":"text",value:t,onChange:c=>n(c.target.value),placeholder:r,disabled:l,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:l?O.textMuted:O.text,opacity:l?.5:1}}),s&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(_y,{size:16,style:{color:O.textMuted}}):o.jsx(My,{size:16,style:{color:O.textMuted}})})]})]})}function Z1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:O.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?O.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?O.accentDark:O.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function e0({value:e,onChange:t,options:n,placeholder:r}){const[s,l]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!s)return;const i=c=>{a.current&&!a.current.contains(c.target)&&l(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[s]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:e?O.text:O.textMuted},onClick:()=>l(!s),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx(Qs,{size:16,style:{color:O.textMuted,flexShrink:0,transform:s?"rotate(180deg)":"none"}})]}),s&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:O.text},onClick:()=>{t(i),l(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx(Bs,{size:12,style:{color:O.accentDark,flexShrink:0}})]},i))})]})}function t0({value:e,onChange:t}){const[n,r]=d.useState(!1),s=d.useRef(null);return d.useEffect(()=>{if(!n)return;const l=a=>{s.current&&!s.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]),o.jsxs("div",{className:"relative",ref:s,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:l=>t(l.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx(Qs,{size:16,style:{color:O.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:q1.map(l=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:O.text},onClick:()=>{t(l),r(!1)},children:l},l))})]})}function za({value:e,onChange:t,min:n,max:r,step:s}){const[l,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let c=parseFloat(l);isNaN(c)&&(c=n),c=Math.max(n,Math.min(r,c)),c=Math.round(c/s)*s,c=parseFloat(c.toFixed(4)),a(String(c)),t(c)};return o.jsx("input",{type:"number",value:l,onChange:c=>a(c.target.value),onBlur:i,onKeyDown:c=>c.key==="Enter"&&i(),step:s,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}})}function Ed({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":O.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Pa({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:e})}function n0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState([]),[l,a]=d.useState(!0),[i,c]=d.useState(""),[u,f]=d.useState(""),[p,h]=d.useState("api_key"),[v,b]=d.useState(""),[y,w]=d.useState([]),[x,m]=d.useState(!1),[g,S]=d.useState(1),[j,N]=d.useState(!1),[k,C]=d.useState(1),[R,z]=d.useState(!1),[P,D]=d.useState(4096),[E,U]=d.useState(null),[K,ie]=d.useState(null),[se,I]=d.useState(!1),[H,F]=d.useState(!1),[Z,Q]=d.useState(""),[pe,me]=d.useState(!1),[Me,te]=d.useState(!1),[J,Oe]=d.useState(null),[He,G]=d.useState(null),[ze,_e]=d.useState(""),Ze=d.useRef(null),xe=d.useRef(!1),Ye=d.useRef({});Ye.current={baseUrl:i,apiKey:u,authType:p,modelName:v,temperature:g,tempEnabled:j,topP:k,topPEnabled:R,maxTokens:P,editingPreset:E,providers:t};const ye=d.useCallback(L=>{ie(L),setTimeout(()=>ie(null),2500)},[]),Mt=d.useCallback(async()=>{try{const[L,ue]=await Promise.all([A("/api/providers"),A("/api/presets")]);n(L.providers||[]),s(ue.presets||[])}catch(L){ye(": "+L.message)}finally{a(!1)}},[ye]);d.useEffect(()=>{Mt()},[Mt]);const xn=L=>{var le,De;U(L),b(L.model_name),N(L.temperature!=null),S((le=L.temperature)!=null?le:1),z(L.top_p!=null),C((De=L.top_p)!=null?De:1),D(L.max_tokens);const ue=t.find(Tt=>Tt.id===L.api_provider_id);ue&&(c(ue.base_url),f(ue.api_key),h(ue.auth_type||"api_key"))},q=()=>{U(null),c(""),f(""),h("api_key"),b(""),S(1),N(!1),C(1),z(!1),D(4096),w([])},ce=async()=>{if(!i.trim()||!u.trim()){ye(" API  Key");return}m(!0);try{const L=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${u.trim()}`}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const le=((await L.json()).data||[]).map(De=>De.id).sort();w(le),ye(le.length?` ${le.length} `:"")}catch(L){ye(": "+L.message)}finally{m(!1)}},je=async()=>{var L;if(!i.trim()||!u.trim()||!v.trim()){ye(" API Key ");return}I(!0);try{const ue=i.trim().replace(/\/+$/,""),le={"Content-Type":"application/json",Authorization:`Bearer ${u.trim()}`};p==="oauth_token"&&(le["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",le["anthropic-dangerous-direct-browser-access"]="true",le["x-app"]="cli");const De=await fetch(`${ue}/chat/completions`,{method:"POST",headers:le,body:JSON.stringify({model:v.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!De.ok){const Tt=await De.json().catch(()=>({}));throw new Error(((L=Tt.error)==null?void 0:L.message)||`HTTP ${De.status}`)}ye(" ")}catch(ue){ye(": "+ue.message)}finally{I(!1)}},Te=async L=>{const ue=Ye.current,le=ue.baseUrl.trim(),De=ue.apiKey.trim(),Tt=ue.authType,nn=L.find(Jo=>Jo.base_url===le);return nn?((nn.api_key!==De||nn.auth_type!==Tt)&&await A(`/api/providers/${nn.id}`,{method:"PUT",body:{api_key:De,auth_type:Tt}}),nn.id):(await A("/api/providers",{method:"POST",body:{name:J1(le),base_url:le,api_key:De,auth_type:Tt}})).id},_t=async(L,ue)=>{const le=Ye.current;if(!le.baseUrl.trim()||!le.apiKey.trim()||!le.modelName.trim()){ye("");return}te(!0);try{const De=await Te(le.providers),Tt={name:L,model_name:le.modelName.trim(),temperature:le.tempEnabled?le.temperature:null,top_p:le.topPEnabled?le.topP:null,max_tokens:Number(le.maxTokens)||4096,api_provider_id:De};le.editingPreset&&!ue?(await A(`/api/presets/${le.editingPreset.id}`,{method:"PUT",body:Tt}),ye("")):(await A("/api/presets",{method:"POST",body:Tt}),ye("")),await Mt()}catch(De){ye(": "+De.message)}finally{te(!1)}},Ae=()=>{const L=Z.trim();L&&(F(!1),_t(L,pe))},Un=()=>{E&&_t(E.name,!1)},M=async()=>{if(J){try{await A(`/api/presets/${J.id}`,{method:"DELETE"}),ye(""),(E==null?void 0:E.id)===J.id&&q(),Mt()}catch(L){ye(": "+L.message)}Oe(null)}},$=async()=>{const L=ze.trim();if(!(!L||!He)){try{await A(`/api/presets/${He.id}`,{method:"PUT",body:{name:L}}),ye(""),Mt()}catch(ue){ye("")}G(null)}},V=(L,ue)=>{xe.current=!1,L.touches?L.touches[0].clientX:L.clientX,L.touches?L.touches[0].clientY:L.clientY,Ze.current=setTimeout(()=>{xe.current=!0,Oe(ue)},600)},et=()=>clearTimeout(Ze.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:O.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:O.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:O.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:l?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:O.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Pa,{children:[o.jsx(Cd,{label:"API ",value:i,onChange:c,placeholder:"https://api.openai.com/v1",disabled:p==="oauth_token"}),o.jsx(Cd,{label:"API Key",value:u,onChange:f,placeholder:p==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),o.jsx(Z1,{value:p,onChange:L=>{h(L),L==="oauth_token"&&c("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Pa,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),p==="oauth_token"?o.jsx(t0,{value:v,onChange:b}):o.jsx(e0,{value:v,onChange:b,options:y})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:je,disabled:se,children:[se?o.jsx(sd,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text,opacity:p==="oauth_token"?.4:1},onClick:ce,disabled:x||p==="oauth_token",children:[x?o.jsx(sd,{size:14,className:"animate-spin"}):o.jsx(_c,{size:14}),""]})]})]}),o.jsxs(Pa,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:O.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:O.textMuted},children:""})]}),o.jsx(Ed,{on:j,onToggle:()=>N(!j)})]}),j&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(za,{value:g,onChange:S,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Top P (0-1)"}),o.jsx(Ed,{on:R,onToggle:()=>z(!R)})]}),R&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(za,{value:k,onChange:C,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Max Tokens"}),o.jsx(za,{value:P,onChange:D,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[E?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Un,disabled:Me,children:[o.jsx(Ho,{size:14}),Me?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>{me(!0),Q(""),F(!0)},disabled:Me,children:[o.jsx(Cy,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{me(!0),Q(""),F(!0)},disabled:Me,children:[o.jsx(Wr,{size:14}),""]}),E&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:O.textMuted},onClick:q,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:O.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:O.bg,boxShadow:"var(--card-shadow)",color:O.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(L=>{var ue,le;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:O.bg,boxShadow:(E==null?void 0:E.id)===L.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{xe.current||xn(L)},onTouchStart:De=>V(De,L),onTouchEnd:et,onMouseDown:De=>V(De,L),onMouseUp:et,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(E==null?void 0:E.id)===L.id?O.accentDark:O.text},children:L.name}),o.jsx(oh,{size:12,style:{color:O.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:O.textMuted},children:L.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:O.textMuted},children:["T: ",(ue=L.temperature)!=null?ue:""," | Top-P: ",(le=L.top_p)!=null?le:""," | Max: ",L.max_tokens]})]},L.id)})})]})]})}),H&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>F(!1),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{type:"text",value:Z,onChange:L=>Q(L.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},autoFocus:!0,onKeyDown:L=>L.key==="Enter"&&Ae()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>F(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:Z.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Ae,disabled:!Z.trim(),children:""})]})]})}),J&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Oe(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:O.textMuted},children:["",J.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>Oe(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:M,children:""})]})]})}),He&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>G(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:ze,onChange:L=>_e(L.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},onKeyDown:L=>L.key==="Enter"&&$()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>G(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:$,children:""})]})]})}),K&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:K})})]})}const oe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Hh={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},r0=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],s0=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}],Md=300,Sl=80;function l0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:oe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:oe.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:oe.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)",color:oe.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function o0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";u.style.transition=p,u.style.transform=i?`translateX(${i}px)`:"",f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/Sl)}`),i||(u.style.willChange="auto"),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p),c.horiz&&n.current&&(n.current.style.willChange="transform")}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Sl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Sl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Sl:0,!0)},children:e})]})}function a0({block_type:e}){const t=Hh[e]||{bg:"rgba(136,136,160,0.1)",color:oe.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function i0({content:e}){const[t,n]=d.useState(!1),r=e.length>Md;return o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:oe.text},children:r&&!t?e.slice(0,Md)+"...":e}),r&&o.jsx("div",{className:"mt-1.5 flex justify-center",children:o.jsx("button",{className:"rounded-full px-3 py-0.5 text-[11px]",style:{color:oe.accentDark,background:"rgba(232,160,191,0.12)"},onClick:s=>{s.stopPropagation(),n(!t)},children:t?"":""})})]})}function c0({avatarUrl:e}){return o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full overflow-hidden",style:{boxShadow:"var(--icon-inset)",background:oe.bg},children:e?o.jsx("img",{src:e,alt:"",className:"h-full w-full object-cover"}):o.jsx("span",{style:{fontSize:16},children:""})})}function _d(e){return e?e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e):"0"}function u0({prompt:e,completion:t}){return!e&&!t?null:o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold whitespace-nowrap",style:{background:"rgba(80,160,120,0.12)",color:"#3a8a5f"},children:["",_d(e)]}),o.jsxs("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold whitespace-nowrap",style:{background:"rgba(160,100,220,0.12)",color:"#8a5abf"},children:["",_d(t)]})]})}function d0({item:e,expanded:t,onToggle:n,live:r,avatarUrl:s}){const l=e.rounds.map(a=>({...a,blocks:a.blocks.filter(i=>i.block_type!=="text"&&i.block_type!=="usage")})).filter(a=>a.blocks.length>0);return o.jsxs("div",{className:"rounded-[18px] overflow-hidden",style:{background:oe.bg},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx(c0,{avatarUrl:s}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:oe.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx(u0,{prompt:e.prompt_tokens||0,completion:e.completion_tokens||0}),o.jsx("span",{className:"text-[10px]",style:{color:oe.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:oe.text},children:e.preview||"()"})]}),t?o.jsx(Ny,{size:16,style:{color:oe.textMuted,flexShrink:0}}):o.jsx(Qs,{size:16,style:{color:oe.textMuted,flexShrink:0}})]}),t&&l.length>0&&o.jsx("div",{className:"px-4 pb-4",children:l.map(a=>o.jsxs("div",{className:"mb-3",children:[l.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:oe.textMuted},children:[" ",a.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),a.blocks.map((i,c)=>{const u=Hh[i.block_type]||{bg:"rgba(136,136,160,0.08)",color:oe.textMuted,label:i.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:u.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(a0,{block_type:i.block_type}),i.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:u.color},children:i.tool_name})]}),o.jsx(i0,{content:i.content})]},c)})]},a.round_index))})]})}function f0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,a]=d.useState(null),[i,c]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[u,f]=d.useState(!1),[p,h]=d.useState(new Set),[v,b]=d.useState(null),[y,w]=d.useState(null),[x,m]=d.useState(null),g=d.useRef(null),[S,j]=d.useState(null),[N,k]=d.useState(!1),C=d.useRef(null),R=()=>{s(!0),b(null),A("/api/cot?limit=30").then(D=>{n(Array.isArray(D)?D:[])}).catch(D=>{console.error("COT load error:",D),b(D.message||"")}).finally(()=>s(!1))};d.useEffect(()=>{R()},[]),d.useEffect(()=>{A("/api/sessions?limit=1").then(D=>{var U;const E=(U=D.sessions)==null?void 0:U[0];E!=null&&E.assistant_id&&Vr(`assistant-avatar-${E.assistant_id}`).then(K=>{K&&m(K)}).catch(()=>{})}).catch(()=>{})},[]),d.useEffect(()=>{A("/api/settings/mood").then(D=>j(D.mood||"calm")).catch(()=>j("calm"))},[]),d.useEffect(()=>{if(!N)return;const D=E=>{C.current&&!C.current.contains(E.target)&&k(!1)};return document.addEventListener("pointerdown",D),()=>document.removeEventListener("pointerdown",D)},[N]),d.useEffect(()=>{const D=localStorage.getItem("whisper_token");if(!D)return;const U=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(D)}`;let K,ie,se=!1;const I=()=>{se||(K=new WebSocket(U),g.current=K,K.onopen=()=>f(!0),K.onmessage=H=>{try{const F=JSON.parse(H.data);if(F.type==="done"){h(te=>{const J=new Set(te);return J.delete(F.request_id),J}),(F.prompt_tokens||F.completion_tokens)&&n(te=>te.map(J=>J.request_id===F.request_id?{...J,prompt_tokens:F.prompt_tokens||0,completion_tokens:F.completion_tokens||0}:J));return}const{request_id:Z,round_index:Q,block_type:pe,content:me,tool_name:Me}=F;n(te=>{const J=te.findIndex(G=>G.request_id===Z);if(J>=0){const G={...te[J]},ze=[...G.rounds],_e=ze.findIndex(xe=>xe.round_index===Q);_e>=0?ze[_e]={...ze[_e],blocks:[...ze[_e].blocks,{block_type:pe,content:me,tool_name:Me}]}:(ze.push({round_index:Q,blocks:[{block_type:pe,content:me,tool_name:Me}]}),ze.sort((xe,Ye)=>xe.round_index-Ye.round_index)),G.rounds=ze,pe==="tool_use"&&(G.has_tool_calls=!0),pe==="text"&&!G.preview&&(G.preview=me.slice(0,80));const Ze=[...te];return Ze[J]=G,Ze}return[{request_id:Z,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:pe==="text"?me.slice(0,80):"",has_tool_calls:pe==="tool_use",rounds:[{round_index:Q,blocks:[{block_type:pe,content:me,tool_name:Me}]}]},...te]}),h(te=>new Set(te).add(Z)),a(Z)}catch(F){}},K.onclose=()=>{f(!1),g.current=null,se||(ie=setTimeout(I,3e3))},K.onerror=()=>K.close())};return I(),()=>{se=!0,clearTimeout(ie),g.current&&(g.current.onclose=null,g.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const D=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...D,shortMode:i==="short",theaterMode:i==="theater"})),A("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const z=D=>{j(D),k(!1),A("/api/settings/mood",{method:"PUT",body:{mood:D}}).catch(()=>{})},P=D=>{w({message:" COT ",action:async()=>{try{await A(`/api/cot/${D.request_id}`,{method:"DELETE"}),n(E=>E.filter(U=>U.request_id!==D.request_id))}catch(E){console.error("Delete COT failed:",E)}}})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:oe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:oe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:oe.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:oe.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:R,disabled:r,children:o.jsx(_c,{size:16,style:{color:oe.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:C,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:oe.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>S&&k(!N),children:S?o.jsx("img",{src:`/miniapp/assets/mood/${S}.png`,alt:S,className:"h-6 w-6",style:{imageRendering:"pixelated"}}):o.jsx("div",{className:"h-6 w-6"})}),N&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:oe.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:s0.map((D,E)=>{const U=Math.floor(E/3),K=E%3,ie=S===D.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:ie?"rgba(232,160,191,0.18)":"transparent",boxShadow:[K<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",U<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>z(D.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${D.key}.png`,alt:D.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:ie?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:ie?"#d48aab":oe.textMuted},children:D.label})]},D.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:oe.bg,width:240},children:r0.map(D=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===D.key?oe.bg:"transparent",boxShadow:i===D.key?"var(--card-shadow-sm)":"none",color:i===D.key?oe.accentDark:oe.textMuted},onClick:()=>c(D.key),children:D.label},D.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:oe.accent,borderTopColor:"transparent"}})}):v?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(rd,{size:36,style:{color:"#ef4444",opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:"#ef4444"},children:v})]}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(rd,{size:36,style:{color:oe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:oe.textMuted},children:" COT "})]}):t.map(D=>o.jsx(o0,{onDelete:()=>P(D),children:o.jsx(d0,{item:D,expanded:l===D.request_id,onToggle:()=>a(l===D.request_id?null:D.request_id),live:p.has(D.request_id),avatarUrl:x})},D.request_id))}),y&&o.jsx(l0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(D){console.error(D)}w(null)},onCancel:()=>w(null)})]})}const We={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Nl=80;function p0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";if(u.style.transition=p,u.style.transform=i?`translateX(${i}px)`:"",f){const h=Math.min(1,Math.abs(i)/Nl);f.style.transition=p,f.style.opacity=`${h}`}i||(u.style.willChange="auto"),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{},onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p),c.horiz&&n.current&&(n.current.style.willChange="transform")}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Nl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Nl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Nl:0,!0)},children:e})]})}function h0({msg:e,roleLabel:t,roleColor:n,fmtTime:r,onDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e.content,l]),o.jsx(p0,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:We.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:n(e.role)},children:t(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:We.textMuted},children:r(e.created_at)})]}),o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:We.text}:{color:We.text,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:e.content}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:"#d48aab",background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})})]})})}function m0(){const e=$t(),[t,n]=d.useState([]),[r,s]=d.useState(null),[l,a]=d.useState(!0),[i,c]=d.useState(!1),u=async()=>{var y;a(!0);try{const x=(y=(await A("/api/sessions?limit=1")).sessions)==null?void 0:y[0];if(!x){a(!1);return}s(x.id);const m=await A(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),c(m.has_more||!1)}catch(w){console.error(w)}a(!1)};d.useEffect(()=>{u()},[]);const f=async y=>{if(r)try{await A(`/api/sessions/${r}/messages/${y}`,{method:"DELETE"}),n(w=>w.filter(x=>x.id!==y))}catch(w){console.error("Delete failed",w)}},p=async()=>{if(!r||!i||l)return;const y=t[t.length-1];if(y){a(!0);try{const w=await A(`/api/sessions/${r}/messages?limit=50&before_id=${y.id}`),x=(w.messages||[]).reverse();n(m=>[...m,...x]),c(w.has_more||!1)}catch(w){console.error(w)}a(!1)}},h=y=>{if(!y)return"";const w=new Date(y),x=new Date;return w.toDateString()===x.toDateString()?w.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):w.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},v=y=>y==="user"?"":y==="assistant"?"AI":"",b=y=>y==="user"?We.accentDark:y==="assistant"?"#3a9b5c":We.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:We.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:We.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:We.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:l?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:u,disabled:l,children:o.jsx(_c,{size:16,style:{color:We.accentDark},className:l?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:We.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:l&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:We.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:We.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(y=>o.jsx(h0,{msg:y,roleLabel:v,roleColor:b,fmtTime:h,onDelete:()=>f(y.id)},y.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)",color:We.accentDark},onClick:p,disabled:l,children:l?"...":""})]})})]})}const W={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},x0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],Cl=80,Td={identity:{color:"#7b5ea7",bg:"#ede4f7"},relationship:{color:"#c26a8a",bg:"#f7e0ea"},bond:{color:"#d48aab",bg:"#fce8f0"},conflict:{color:"#b5454a",bg:"#f5dede"},fact:{color:"#4a8ab5",bg:"#deedf5"},preference:{color:"#9b7a3b",bg:"#f0ebd8"},health:{color:"#4a9b6e",bg:"#ddf0e5"},task:{color:"#6b7b9b",bg:"#e0e6f0"},ephemeral:{color:"#9b9b9b",bg:"#ececec"},other:{color:"#8a7a6a",bg:"#efe8df"}};function bo(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function Oc({text:e,keyword:t}){if(!t||!e)return o.jsx(o.Fragment,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),s=[];let l=0,a=n.indexOf(r,l);for(;a!==-1;)a>l&&s.push(o.jsx("span",{children:e.slice(l,a)},l)),s.push(o.jsx("span",{style:{color:W.accentDark,fontWeight:600},children:e.slice(a,a+r.length)},`h${a}`)),l=a+r.length,a=n.indexOf(r,l);return l<e.length&&s.push(o.jsx("span",{children:e.slice(l)},l)),o.jsx(o.Fragment,{children:s})}function g0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:W.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:W.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function y0({initialText:e,onSave:t,onCancel:n}){const[r,s]=d.useState(e);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-5 w-full max-w-[340px] rounded-[18px] p-4",style:{background:W.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsx("textarea",{className:"w-full rounded-[12px] p-3 text-[12px] leading-relaxed resize-none outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text,minHeight:140,maxHeight:280},value:r,onChange:l=>s(l.target.value),autoFocus:!0}),o.jsxs("div",{className:"mt-3 flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:()=>t(r),disabled:!r.trim(),children:""})]})]})})}function Wh({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all .25s ease":"none";u.style.transition=p,u.style.transform=i?`translateX(${i}px)`:"",f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/Cl)}`),i||(u.style.willChange="auto"),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p),c.horiz&&n.current&&(n.current.style.willChange="transform")}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Cl,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Cl)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-Cl:0,!0)},children:e})]})}function Dd({children:e,time:t,badge:n,keyword:r,onSwipeDelete:s,onEdit:l}){const[a,i]=d.useState(!1),[c,u]=d.useState(!1),f=d.useRef(null),p=typeof e=="string"?e:"",h=!!s;d.useLayoutEffect(()=>{const b=f.current;b&&!a&&u(b.scrollHeight>b.clientHeight+1)},[p,a]);const v=o.jsxs("div",{className:h?"rounded-[18px] p-3":"mb-3 rounded-[18px] p-3",style:{background:W.bg,boxShadow:h?"none":"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[n,o.jsx("div",{ref:f,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:a?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>i(!a),children:o.jsx(Oc,{text:p,keyword:r})})]}),l&&o.jsx("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:b=>{b.stopPropagation(),l()},children:o.jsx(oh,{size:11,style:{color:W.accentDark}})})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t||""}),(c||a)&&o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:b=>{b.stopPropagation(),i(!a)},children:a?"":""})]})]});return s?o.jsx(Wh,{onDelete:s,children:v}):v}function v0({content:e,deletedAt:t,keyword:n,onRestore:r,onPermanentDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e,l]),o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:o.jsx(Oc,{text:e,keyword:n})}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:t?` ${bo(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:r,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:s,children:""})]})]})]})}function w0({msg:e,keyword:t,roleLabel:n,roleColor:r,onDelete:s}){const[l,a]=d.useState(!1),[i,c]=d.useState(!1),u=d.useRef(null);return d.useLayoutEffect(()=>{const f=u.current;f&&!l&&c(f.scrollHeight>f.clientHeight+1)},[e.content,l]),o.jsx(Wh,{onDelete:s,children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:W.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:r(e.role)},children:n(e.role)}),o.jsx("span",{className:"text-[10px]",style:{color:W.textMuted},children:bo(e.created_at)})]}),o.jsx("div",{ref:u,className:"text-[12px] leading-relaxed break-words cursor-pointer",style:l?{color:W.text}:{color:W.text,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden"},onClick:()=>a(!l),children:o.jsx(Oc,{text:e.content,keyword:t})}),(i||l)&&o.jsx("div",{className:"mt-1 flex justify-center",children:o.jsx("button",{className:"rounded-full px-2 py-0.5 text-[10px]",style:{color:W.accentDark,background:"rgba(232,160,191,0.1)"},onClick:f=>{f.stopPropagation(),a(!l)},children:l?"":""})})]})})}function b0(){const e=$t(),[t,n]=d.useState("memories"),[r,s]=d.useState(!1),[l,a]=d.useState(null),[i,c]=d.useState([]),[u,f]=d.useState(null),[p,h]=d.useState(""),[v,b]=d.useState(null),[y,w]=d.useState(null),[x,m]=d.useState([]),[g,S]=d.useState([]),[j,N]=d.useState([]),[k,C]=d.useState([]),[R,z]=d.useState([]),[P,D]=d.useState(!0),[E,U]=d.useState(!1),[K,ie]=d.useState(!1),[se,I]=d.useState(!1);d.useEffect(()=>{A("/api/sessions?limit=50").then(M=>{const $=M.sessions||[];c($),$.length>0&&!l&&a($[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{l&&A(`/api/sessions/${l}/info`).then(M=>f(M.assistant_name||null)).catch(()=>f(null))},[l]);const H=50,F=d.useRef(""),Z=d.useRef(null);d.useEffect(()=>{l&&pe()},[l,r]),d.useEffect(()=>{l&&!r&&pe()},[t]),d.useEffect(()=>(Z.current&&clearTimeout(Z.current),Z.current=setTimeout(()=>{const M=p.trim();M!==F.current&&(F.current=M,l&&pe(M))},400),()=>{Z.current&&clearTimeout(Z.current)}),[p]);const Q=M=>{const $=(M!=null?M:F.current||"").trim();return $?`&search=${encodeURIComponent($)}`:""},pe=async M=>{if(!l)return;D(!0);const $=Q(M);try{if(r){const[V,et]=await Promise.all([A("/api/memories/trash?limit=100"),A(`/api/sessions/${l}/summaries/trash`)]);C(V.memories||[]),z(et.summaries||[])}else if(t==="memories"){const V=await A(`/api/memories?limit=${H}&offset=0${$}`);m(V.memories||[]),U((V.total||0)>(V.memories||[]).length)}else if(t==="summaries"){const V=await A(`/api/sessions/${l}/summaries?limit=${H}&offset=0${$}`);S(V.summaries||[]),ie((V.total||0)>(V.summaries||[]).length)}else{const V=await A(`/api/sessions/${l}/messages?limit=50${$}`);N((V.messages||[]).reverse()),I(V.has_more||!1)}}catch(V){console.error(V)}D(!1)},me=async()=>{if(!E||P)return;D(!0);const M=Q();try{const $=await A(`/api/memories?limit=${H}&offset=${x.length}${M}`),V=$.memories||[];m(et=>[...et,...V]),U(($.total||0)>x.length+V.length)}catch($){console.error($)}D(!1)},Me=async()=>{if(!l||!K||P)return;D(!0);const M=Q();try{const $=await A(`/api/sessions/${l}/summaries?limit=${H}&offset=${g.length}${M}`),V=$.summaries||[];S(et=>[...et,...V]),ie(($.total||0)>g.length+V.length)}catch($){console.error($)}D(!1)},te=async()=>{if(!l||!se||P)return;const M=j[j.length-1];if(!M)return;D(!0);const $=Q();try{const V=await A(`/api/sessions/${l}/messages?limit=50&before_id=${M.id}${$}`);N(et=>[...et,...(V.messages||[]).reverse()]),I(V.has_more||!1)}catch(V){console.error(V)}D(!1)},J=p.trim(),Oe=d.useMemo(()=>J?k.filter(M=>M.content.toLowerCase().includes(J.toLowerCase())):k,[k,J]),He=d.useMemo(()=>J?R.filter(M=>(M.summary_content||"").toLowerCase().includes(J.toLowerCase())):R,[R,J]),G=(M,$)=>b({message:M,action:$}),ze=M=>G("",async()=>{await A(`/api/memories/${M}`,{method:"DELETE"}),m($=>$.filter(V=>V.id!==M))}),_e=M=>G("",async()=>{await A(`/api/sessions/${l}/summaries/${M}`,{method:"DELETE"}),S($=>$.filter(V=>V.id!==M))}),Ze=M=>G("",async()=>{await A(`/api/sessions/${l}/messages/${M}`,{method:"DELETE"}),N($=>$.filter(V=>V.id!==M))}),xe=async M=>{await A(`/api/memories/${M}/restore`,{method:"POST"}),C($=>$.filter(V=>V.id!==M))},Ye=M=>G("",async()=>{await A(`/api/memories/${M}/permanent`,{method:"DELETE"}),C($=>$.filter(V=>V.id!==M))}),ye=async M=>{await A(`/api/sessions/${l}/summaries/${M}/restore`,{method:"POST"}),z($=>$.filter(V=>V.id!==M))},Mt=M=>G("",async()=>{await A(`/api/sessions/${l}/summaries/${M}/permanent`,{method:"DELETE"}),z($=>$.filter(V=>V.id!==M))}),xn=async M=>{if(y){try{y.type==="memory"?(await A(`/api/memories/${y.id}`,{method:"PUT",body:{content:M}}),m($=>$.map(V=>V.id===y.id?{...V,content:M}:V))):(await A(`/api/sessions/${l}/summaries/${y.id}`,{method:"PATCH",body:{summary_content:M}}),S($=>$.map(V=>V.id===y.id?{...V,summary_content:M}:V)))}catch($){console.error($)}w(null)}},q=M=>M==="user"?"":M==="assistant"?u||"":"",ce=M=>M==="user"?W.accentDark:M==="assistant"?"#8d68c4":W.textMuted,Un=r?(()=>{if(P)return o.jsx(El,{});const M=t==="memories"?Oe:He;return M.length===0?o.jsx(Ml,{text:J?"":""}):M.map($=>o.jsx(v0,{content:$.content||$.summary_content||"()",deletedAt:$.deleted_at,keyword:J,onRestore:()=>t==="memories"?xe($.id):ye($.id),onPermanentDelete:()=>t==="memories"?Ye($.id):Mt($.id)},$.id))})():t==="memories"?P&&x.length===0?o.jsx(El,{}):x.length===0?o.jsx(Ml,{text:J?"":""}):o.jsxs(o.Fragment,{children:[x.map(M=>o.jsx(Dd,{time:bo(M.created_at),keyword:J,onSwipeDelete:()=>ze(M.id),onEdit:()=>w({type:"memory",id:M.id,text:M.content}),badge:(()=>{const $=Td[M.klass]||Td.other;return o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:$.bg,color:$.color},children:M.klass})})(),children:M.content},M.id)),E&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:me,disabled:P,children:P?"...":""})]}):t==="summaries"?P&&g.length===0?o.jsx(El,{}):g.length===0?o.jsx(Ml,{text:J?"":""}):o.jsxs(o.Fragment,{children:[g.map(M=>o.jsx(Dd,{time:bo(M.created_at),keyword:J,onSwipeDelete:()=>_e(M.id),onEdit:()=>w({type:"summary",id:M.id,text:M.summary_content}),badge:M.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:W.accentDark},children:M.mood_tag}):null,children:M.summary_content||"()"},M.id)),K&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:Me,disabled:P,children:P?"...":""})]}):P&&j.length===0?o.jsx(El,{}):j.length===0?o.jsx(Ml,{text:J?"":""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:W.textMuted},children:""}),j.map(M=>o.jsx(w0,{msg:M,keyword:J,roleLabel:q,roleColor:ce,onDelete:()=>Ze(M.id)},M.id)),se&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark},onClick:te,disabled:P,children:P?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:W.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:W.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:W.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:W.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>s(!r),children:o.jsx(or,{size:16,style:{color:r?"#ef4444":W.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:W.bg,boxShadow:"var(--inset-shadow)"},children:x0.map(M=>{const $=r&&M.key==="messages",V=t===M.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:$?{color:W.textMuted,opacity:.35,cursor:"default"}:V?{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.accentDark}:{color:W.textMuted},disabled:$,onClick:()=>!$&&n(M.key),children:M.label},M.key)})})}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",style:{width:"33%"},children:[o.jsx("select",{className:"w-full appearance-none rounded-[12px] py-2 pl-3 pr-7 text-[11px] font-medium outline-none truncate",style:{background:W.bg,boxShadow:"var(--card-shadow-sm)",color:W.text,WebkitAppearance:"none"},value:l!=null?l:"",onChange:M=>a(Number(M.target.value)),children:i.map(M=>o.jsxs("option",{value:M.id,children:["#",M.id," ",M.title||""]},M.id))}),o.jsx(Qs,{size:12,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",style:{color:W.textMuted}})]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ly,{size:13,className:"absolute left-2.5 top-1/2 -translate-y-1/2",style:{color:W.textMuted}}),o.jsx("input",{className:"w-full rounded-[12px] py-2 pl-8 pr-7 text-[11px] outline-none",style:{background:W.bg,boxShadow:"var(--inset-shadow)",color:W.text},placeholder:"...",value:p,onChange:M=>h(M.target.value)}),p&&o.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>h(""),children:o.jsx(Js,{size:13,style:{color:W.textMuted}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:Un}),v&&o.jsx(g0,{message:v.message,onConfirm:async()=>{try{await v.action()}catch(M){console.error(M)}b(null)},onCancel:()=>b(null)}),y&&o.jsx(y0,{initialText:y.text,onSave:xn,onCancel:()=>w(null)})]})}function El(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:W.accent,borderTopColor:"transparent"}})})}function Ml({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:W.textMuted},children:e})}const X={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},k0=[{key:"theirs",label:""},{key:"mine",label:""}],_l=80;function Vh(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),l=`${r}:${s}`;return n-t<864e5&&t.toDateString()===n.toDateString()?l:`${t.getMonth()+1}/${t.getDate()} ${l}`}function j0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:X.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:X.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function S0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),s=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),l=d.useCallback((i,c)=>{const u=n.current,f=r.current;if(!u)return;const p=c?"all 0.25s cubic-bezier(.4,0,.2,1)":"none";u.style.transition=p,u.style.transform=i?`translateX(${i}px)`:"",f&&(f.style.transition=p,f.style.opacity=`${Math.min(1,Math.abs(i)/_l)}`),i||(u.style.willChange="auto"),s.current.cur=i},[]),a=d.useCallback(()=>l(0,!0),[l]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(or,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",onTouchStart:i=>{const c=i.touches[0],u=s.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=s.current;if(!c.drag)return;const u=i.touches[0],f=u.clientX-c.sx,p=u.clientY-c.sy;if(!c.locked){if(Math.abs(f)<5&&Math.abs(p)<5)return;c.locked=!0,c.horiz=Math.abs(f)>Math.abs(p),c.horiz&&n.current&&(n.current.style.willChange="transform")}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-_l,Math.min(0,c.base+f));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/_l)}`),c.cur=h},onTouchEnd:()=>{s.current.drag=!1,l(s.current.cur<-40?-_l:0,!0)},children:e})]})}function N0({unlockAt:e}){const[t,n]=d.useState(Date.now());d.useEffect(()=>{const u=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(u)},[]);const r=new Date(e).getTime()-t;if(r<=0)return null;const s=Math.floor(r/864e5),l=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);let c="";return s>0&&(c+=`${s}`),(l>0||s>0)&&(c+=`${l}`),c+=`${a}${i}`,o.jsxs("div",{className:"flex items-center gap-1.5 text-[12px]",style:{color:X.accentDark},children:[o.jsx(zy,{size:12}),o.jsx("span",{children:c})]})}function C0({assistants:e,avatarMap:t,currentId:n,onSelect:r,onClose:s}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:s,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-5",style:{background:X.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{onClick:s,children:o.jsx(Js,{size:18,style:{color:X.textMuted}})})]}),o.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(l=>{var i;const a=t[l.id]||l.avatar_url;return o.jsxs("button",{className:"mb-2 flex w-full items-center gap-3 rounded-[14px] p-3 text-left",style:{background:X.bg,boxShadow:l.id===n?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{r(l.id),s()},children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:36,height:36,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:2},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:X.bg},children:a?o.jsx("img",{src:a,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:X.accentDark},children:((i=l.name)==null?void 0:i[0])||"?"})})}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:X.text},children:l.name})]},l.id)})})]})})}function E0({diary:e,onBack:t,onMarkRead:n}){return d.useEffect(()=>{e&&!e.is_read&&e.author==="assistant"&&(!e.unlock_at||new Date(e.unlock_at)<=new Date)&&n(e.id)},[e]),o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:t,children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[15px] font-bold truncate max-w-[60%]",style:{color:X.text},children:e.title||""}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:o.jsxs("div",{className:"rounded-[18px] p-5",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{className:"mb-3 text-[10px]",style:{color:X.textMuted},children:Vh(e.created_at)}),o.jsx("div",{className:"text-[13px] leading-[28px]",style:{color:X.text},children:e.content.split(`
`).map((r,s)=>o.jsx("div",{style:{borderBottom:"1px solid rgba(0,0,0,0.06)",minHeight:28},children:r||""},s))})]})})]})}function M0({assistantId:e,onSave:t,onCancel:n}){const[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(!1),[u,f]=d.useState(""),[p,h]=d.useState(!1),[v,b]=d.useState(!1),y=async()=>{if(!(!l.trim()||p)){h(!0);try{const w={assistant_id:e,author:"user",title:r.trim(),content:l.trim()};i&&u&&(w.unlock_at=new Date(u).toISOString()),await t(w)}finally{h(!1)}}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[15px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:l.trim()?"var(--card-shadow-sm)":"var(--inset-shadow)"},onClick:y,disabled:!l.trim()||p,children:o.jsx("span",{className:"text-[12px] font-bold",style:{color:l.trim()?X.accentDark:X.textMuted},children:""})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[!v&&o.jsx("input",{className:"mb-3 w-full rounded-[12px] px-3 py-2.5 text-[13px] font-medium outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text},placeholder:"",value:r,onChange:w=>s(w.target.value)}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx("textarea",{className:"w-full rounded-[14px] p-3 text-[13px] leading-[28px] resize-none outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text,minHeight:v?"calc(100vh - 120px)":200,backgroundImage:"repeating-linear-gradient(transparent, transparent 27px, rgba(0,0,0,0.05) 27px, rgba(0,0,0,0.05) 28px)",backgroundPositionY:9},placeholder:"...",value:l,onChange:w=>a(w.target.value),autoFocus:!0}),o.jsx("button",{className:"absolute top-2 right-2 flex h-7 w-7 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>b(!v),children:v?o.jsx($r,{size:13,style:{color:X.accentDark}}):o.jsx(qs,{size:13,style:{color:X.accentDark}})})]}),!v&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between rounded-[14px] px-4 py-3",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[13px] font-medium",style:{color:X.text},children:""}),o.jsx("p",{className:"text-[10px]",style:{color:X.textMuted},children:""})]}),o.jsx("button",{className:"relative h-7 w-12 rounded-full transition-colors",style:{background:i?X.accent:"rgba(0,0,0,0.1)"},onClick:()=>{if(!i&&!u){const w=new Date;w.setDate(w.getDate()+1),w.setHours(9,0,0,0);const x=m=>String(m).padStart(2,"0");f(`${w.getFullYear()}-${x(w.getMonth()+1)}-${x(w.getDate())}T${x(w.getHours())}:${x(w.getMinutes())}`)}c(!i)},children:o.jsx("div",{className:"absolute top-0.5 h-6 w-6 rounded-full transition-transform",style:{background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transform:i?"translateX(22px)":"translateX(2px)"}})})]}),i&&o.jsxs("div",{className:"rounded-[14px] px-4 py-3",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("p",{className:"mb-2 text-[12px] font-medium",style:{color:X.text},children:""}),o.jsx("input",{type:"datetime-local",className:"w-full rounded-[10px] px-3 py-2 text-[13px] outline-none",style:{background:X.bg,boxShadow:"var(--inset-shadow)",color:X.text},value:u,onChange:w=>f(w.target.value)})]})]})]})]})}function _0(){var D;const e=$t(),[t,n]=d.useState("theirs"),[r,s]=d.useState([]),[l,a]=d.useState({}),[i,c]=d.useState(null),[u,f]=d.useState(!1),[p,h]=d.useState([]),[v,b]=d.useState(!0),[y,w]=d.useState(null),[x,m]=d.useState(null),[g,S]=d.useState(!1);d.useEffect(()=>{A("/api/assistants").then(async E=>{const U=E.assistants||[];s(U),U.length>0&&!i&&c(U[0].id);const K={};await Promise.all(U.map(async ie=>{const se=await Vr(`assistant-avatar-${ie.id}`).catch(()=>null);se&&(K[ie.id]=se)})),a(K)}).catch(()=>{})},[]);const j=r.find(E=>E.id===i),N=i&&l[i]||(j==null?void 0:j.avatar_url);d.useEffect(()=>{i!=null&&k()},[i,t]);const k=async()=>{b(!0);try{const U=await A(`/api/diary?assistant_id=${i}&author=${t==="theirs"?"assistant":"user"}&limit=100`);h(U.diary||[])}catch(E){console.error(E)}b(!1)},C=E=>{w({message:"",action:async()=>{await A(`/api/diary/${E}`,{method:"DELETE"}),h(U=>U.filter(K=>K.id!==E))}})},R=async E=>{try{await A(`/api/diary/${E}/read`,{method:"POST"}),h(U=>U.map(K=>K.id===E?{...K,is_read:!0}:K))}catch(U){console.error(U)}},z=async E=>{await A("/api/diary",{method:"POST",body:E}),S(!1),k()},P=E=>{E.unlock_at&&new Date(E.unlock_at)>new Date||m(E)};return x?o.jsx(E0,{diary:x,onBack:()=>{m(null),k()},onMarkRead:R}):g?o.jsx(M0,{assistantId:i,onSave:z,onCancel:()=>S(!1)}):o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{border:"2px solid #e8a0bf",padding:2},onClick:()=>f(!0),children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:X.bg},children:N?o.jsx("img",{src:N,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:X.accentDark},children:((D=j==null?void 0:j.name)==null?void 0:D[0])||"?"})})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:X.bg,boxShadow:"var(--inset-shadow)"},children:k0.map(E=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:t===E.key?{background:X.bg,boxShadow:"var(--card-shadow-sm)",color:X.accentDark}:{color:X.textMuted},onClick:()=>n(E.key),children:E.label},E.key))})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:v?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:X.accent,borderTopColor:"transparent"}})}):p.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:X.textMuted},children:t==="theirs"?"":""}):p.map(E=>{const U=E.unlock_at&&new Date(E.unlock_at)>new Date;return o.jsx(S0,{onDelete:()=>C(E.id),children:o.jsxs("div",{className:"p-4 rounded-[18px]",style:{background:X.bg,userSelect:"none"},onClick:()=>P(E),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[!E.is_read&&E.author==="assistant"&&!U&&o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{background:"#ef4444"}}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:X.text},children:E.title||""})]}),o.jsx("span",{className:"text-[10px] shrink-0 ml-2",style:{color:X.textMuted},children:Vh(E.created_at)})]}),U?o.jsx(N0,{unlockAt:E.unlock_at}):o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:X.textMuted,maxHeight:40,overflow:"hidden"},children:E.content.length>60?E.content.slice(0,60)+"...":E.content})]})},E.id)})}),t==="mine"&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center",style:{zIndex:30},children:o.jsx("button",{className:"flex h-12 w-12 items-center justify-center rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",boxShadow:"0 4px 14px rgba(232,160,191,0.4)"},onClick:()=>S(!0),children:o.jsx(Wr,{size:22,color:"white"})})}),u&&o.jsx(C0,{assistants:r,avatarMap:l,currentId:i,onSelect:c,onClose:()=>f(!1)}),y&&o.jsx(j0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(E){console.error(E)}w(null)},onCancel:()=>w(null)})]})}const he={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function T0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:he.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:he.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:he.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx($r,{size:18,style:{color:he.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:he.bg,color:he.text},placeholder:"..."})]})}function D0(){const e=$t(),[t,n]=d.useState(""),[r,s]=d.useState(""),[l,a]=d.useState(""),[i,c]=d.useState(""),[u,f]=d.useState(!1),[p,h]=d.useState(!0),[v,b]=d.useState(null),[y,w]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=k=>{b(k),setTimeout(()=>b(null),2e3)};d.useEffect(()=>{A("/api/user/profile").then(k=>{n(k.nickname||""),s(k.background_url||""),a(k.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Vr("user-avatar").then(k=>{k&&c(k)}).catch(function(){})},[]);const S=k=>{var z;const C=(z=k.target.files)==null?void 0:z[0];if(!C)return;const R=new FileReader;R.onload=async P=>{const D=P.target.result;try{await Ti("user-avatar",D),c(D)}catch(E){g("")}},R.readAsDataURL(C),k.target.value=""},j=k=>{var z;const C=(z=k.target.files)==null?void 0:z[0];if(!C)return;const R=new FileReader;R.onload=P=>a(P.target.result||""),R.readAsText(C),k.target.value=""},N=async()=>{f(!0);try{const k={nickname:t.trim()||null,background_url:r||null,basic_info:l||null,avatar_url:i?"user-avatar":null};await A("/api/user/profile",{method:"PUT",body:k});try{const C=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...C,...k}))}catch(C){}g("")}catch(k){g("")}finally{f(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:he.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:he.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Et,{size:22,style:{color:he.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:he.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:he.bg,boxShadow:u?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:N,disabled:u,children:o.jsx(Ho,{size:18,style:{color:he.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:p?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:he.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:he.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:he.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:he.accentDark},children:o.jsx(lh,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:S}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:he.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:k=>n(k.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:he.bg,color:he.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:he.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:he.bg,color:he.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:he.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:he.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:he.bg},onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},title:"",children:o.jsx(Uo,{size:13,style:{color:he.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:j}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:he.bg},onClick:()=>w(!0),title:"",children:o.jsx(qs,{size:13,style:{color:he.accentDark}})})]})]}),o.jsx("textarea",{value:l,onChange:k=>a(k.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:he.bg,color:he.text}})]})]})}),y&&o.jsx(T0,{value:l,onChange:a,onClose:()=>w(!1)}),v&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:v})})]})}function R0(){return d.useEffect(()=>{var n;const e=(n=window.Telegram)==null?void 0:n.WebApp;if(e){e.ready(),window.location.hash.startsWith("#/cot")||e.expand();return}const t=()=>{document.documentElement.style.setProperty("--tg-viewport-height",window.innerHeight+"px")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),o.jsx(yy,{children:o.jsxs(my,{children:[o.jsx(ot,{path:"/",element:o.jsx(Hy,{})}),o.jsx(ot,{path:"/profile",element:o.jsx(D0,{})}),o.jsx(ot,{path:"/world-books",element:o.jsx(z1,{})}),o.jsx(ot,{path:"/world-books/new",element:o.jsx(bd,{})}),o.jsx(ot,{path:"/world-books/:id",element:o.jsx(bd,{})}),o.jsx(ot,{path:"/assistants",element:o.jsx(W1,{})}),o.jsx(ot,{path:"/assistants/new",element:o.jsx(jd,{})}),o.jsx(ot,{path:"/assistants/:id",element:o.jsx(jd,{})}),o.jsx(ot,{path:"/settings",element:o.jsx(G1,{})}),o.jsx(ot,{path:"/settings/api",element:o.jsx(n0,{})}),o.jsx(ot,{path:"/cot",element:o.jsx(f0,{})}),o.jsx(ot,{path:"/memories",element:o.jsx(b0,{})}),o.jsx(ot,{path:"/diary",element:o.jsx(_0,{})}),o.jsx(ot,{path:"/messages",element:o.jsx(m0,{})})]})})}Ia.createRoot(document.getElementById("root")).render(o.jsx(be.StrictMode,{children:o.jsx(R0,{})}));
