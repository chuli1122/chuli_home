function Oh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jd={exports:{}},yo={},Nd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),$h=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),Ic=Symbol.iterator;function Qh(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var Cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Md={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Cd}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Td(){}Td.prototype=Lr.prototype;function Ti(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Cd}var Di=Ti.prototype=new Td;Di.constructor=Ti;Ed(Di,Lr.prototype);Di.isPureReactComponent=!0;var Lc=Array.isArray,Dd=Object.prototype.hasOwnProperty,_i={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Dd.call(t,r)&&!_d.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Ul,type:e,key:s,ref:a,props:l,_owner:_i.current}}function Gh(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ri(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function Jh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oc=/\/+/g;function Qo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jh(""+e.key):t.toString(36)}function Ms(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ul:case $h:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Qo(a,0):r,Lc(l)?(n="",e!=null&&(n=e.replace(Oc,"$&/")+"/"),Ms(l,t,n,"",function(u){return u})):l!=null&&(Ri(l)&&(l=Gh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Oc,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Lc(e))for(var i=0;i<e.length;i++){s=e[i];var c=r+Qo(s,i);a+=Ms(s,t,n,c,l)}else if(c=Qh(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=r+Qo(s,i++),a+=Ms(s,t,n,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ns(e,t,n){if(e==null)return e;var r=[],l=0;return Ms(e,r,"","",function(s){return t.call(n,s,l++)}),r}function qh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Ts={transition:null},Zh={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:_i};function zd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!Ri(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Lr;Z.Fragment=Fh;Z.Profiler=Uh;Z.PureComponent=Ti;Z.StrictMode=Bh;Z.Suspense=Xh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh;Z.act=zd;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ed({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=_i.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Dd.call(t,c)&&!_d.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Ul,type:e.type,key:l,ref:s,props:r,_owner:a}};Z.createContext=function(e){return e={$$typeof:Wh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hh,_context:e},e.Consumer=e};Z.createElement=Rd;Z.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Vh,render:e}};Z.isValidElement=Ri;Z.lazy=function(e){return{$$typeof:Yh,_payload:{_status:-1,_result:e},_init:qh}};Z.memo=function(e,t){return{$$typeof:Kh,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ts.transition;Ts.transition={};try{e()}finally{Ts.transition=t}};Z.unstable_act=zd;Z.useCallback=function(e,t){return nt.current.useCallback(e,t)};Z.useContext=function(e){return nt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return nt.current.useEffect(e,t)};Z.useId=function(){return nt.current.useId()};Z.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return nt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};Z.useRef=function(e){return nt.current.useRef(e)};Z.useState=function(e){return nt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return nt.current.useTransition()};Z.version="18.3.1";Nd.exports=Z;var d=Nd.exports;const ve=Ah(d),em=Oh({__proto__:null,default:ve},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=d,nm=Symbol.for("react.element"),rm=Symbol.for("react.fragment"),lm=Object.prototype.hasOwnProperty,sm=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,om={key:!0,ref:!0,__self:!0,__source:!0};function Pd(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)lm.call(t,r)&&!om.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:nm,type:e,key:s,ref:a,props:l,_owner:sm.current}}yo.Fragment=rm;yo.jsx=Pd;yo.jsxs=Pd;jd.exports=yo;var o=jd.exports,Da={},Id={exports:{}},kt={},Ld={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,A){var B=z.length;z.push(A);e:for(;0<B;){var ee=B-1>>>1,Q=z[ee];if(0<l(Q,A))z[ee]=A,z[B]=Q,B=ee;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var A=z[0],B=z.pop();if(B!==A){z[0]=B;e:for(var ee=0,Q=z.length,re=Q>>>1;ee<re;){var ie=2*(ee+1)-1,be=z[ie],oe=ie+1,he=z[oe];if(0>l(be,B))oe<Q&&0>l(he,be)?(z[ee]=he,z[oe]=B,ee=oe):(z[ee]=be,z[ie]=B,ee=ie);else if(oe<Q&&0>l(he,B))z[ee]=he,z[oe]=B,ee=oe;else break e}}return A}function l(z,A){var B=z.sortIndex-A.sortIndex;return B!==0?B:z.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],p=1,f=null,h=3,y=!1,k=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(z){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=z)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(z){if(v=!1,g(z),!k)if(n(c)!==null)k=!0,se(w);else{var A=n(u);A!==null&&W(j,A.startTime-z)}}function w(z,A){k=!1,v&&(v=!1,x(E),E=-1),y=!0;var B=h;try{for(g(A),f=n(c);f!==null&&(!(f.expirationTime>A)||z&&!P());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Q=ee(f.expirationTime<=A);A=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),g(A)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ie=n(u);ie!==null&&W(j,ie.startTime-A),re=!1}return re}finally{f=null,h=B,y=!1}}var C=!1,S=null,E=-1,_=5,R=-1;function P(){return!(e.unstable_now()-R<_)}function G(){if(S!==null){var z=e.unstable_now();R=z;var A=!0;try{A=S(!0,z)}finally{A?T():(C=!1,S=null)}}else C=!1}var T;if(typeof m=="function")T=function(){m(G)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=G,T=function(){Y.postMessage(null)}}else T=function(){b(G,0)};function se(z){S=z,C||(C=!0,T())}function W(z,A){E=b(function(){z(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,se(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var B=h;h=A;try{return z()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=h;h=z;try{return A()}finally{h=B}},e.unstable_scheduleCallback=function(z,A,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,z={id:p++,callback:A,priorityLevel:z,startTime:B,expirationTime:Q,sortIndex:-1},B>ee?(z.sortIndex=B,t(u,z),n(c)===null&&z===n(u)&&(v?(x(E),E=-1):v=!0,W(j,B-ee))):(z.sortIndex=Q,t(c,z),k||y||(k=!0,se(w))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var A=h;return function(){var B=h;h=A;try{return z.apply(this,arguments)}finally{h=B}}}})(Od);Ld.exports=Od;var am=Ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=d,wt=am;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,wl={};function er(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(wl[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var an=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),_a=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ac={},$c={};function um(e){return _a.call($c,e)?!0:_a.call(Ac,e)?!1:cm.test(e)?$c[e]=!0:(Ac[e]=!0,!1)}function dm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fm(e,t,n,r){if(t===null||typeof t=="undefined"||dm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zi=/[\-:]([a-z])/g;function Pi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zi,Pi);Ke[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zi,Pi);Ke[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zi,Pi);Ke[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ii(e,t,n,r){var l=Ke.hasOwnProperty(t)?Ke[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fm(t,n,l,r)&&(n=null),r||l===null?um(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),ar=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Li=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Oi=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),Ai=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),Bd=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Go;function ll(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Jo=!1;function qo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,i=s.length-1;1<=a&&0<=i&&l[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==s[i]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ll(e):""}function pm(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=qo(e.type,!1),e;case 11:return e=qo(e.type.render,!1),e;case 1:return e=qo(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case ar:return"Portal";case Ra:return"Profiler";case Li:return"StrictMode";case za:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case Oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ai:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return Ia(e(t))}catch(n){}}return null}function hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Li?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mm(e){var t=Ud(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=mm(e))}function Hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ud(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function La(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Bc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=In(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wd(e,t){t=t.checked,t!=null&&Ii(e,"checked",t,!1)}function Oa(e,t){Wd(e,t);var n=In(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Aa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Aa(e,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Aa(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sl=Array.isArray;function wr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+In(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function $a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(sl(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:In(n)}}function Vd(e,t){var n=In(t.value),r=In(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,Kd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xm=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){xm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});function Yd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||il.hasOwnProperty(e)&&il[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Yd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var gm=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,t){if(t){if(gm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=null;function $i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,kr=null,br=null;function Vc(e){if(e=Vl(e)){if(typeof Wa!="function")throw Error(D(280));var t=e.stateNode;t&&(t=jo(t),Wa(e.stateNode,e.type,t))}}function Gd(e){kr?br?br.push(e):br=[e]:kr=e}function Jd(){if(kr){var e=kr,t=br;if(br=kr=null,Vc(e),t)for(e=0;e<t.length;e++)Vc(t[e])}}function qd(e,t){return e(t)}function Zd(){}var Zo=!1;function ef(e,t,n){if(Zo)return e(t,n);Zo=!0;try{return qd(e,t,n)}finally{Zo=!1,(kr!==null||br!==null)&&(Zd(),Jd())}}function bl(e,t){var n=e.stateNode;if(n===null)return null;var r=jo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Va=!1;if(an)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch(e){Va=!1}function vm(e,t,n,r,l,s,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var cl=!1,Hs=null,Ws=!1,Xa=null,ym={onError:function(e){cl=!0,Hs=e}};function wm(e,t,n,r,l,s,a,i,c){cl=!1,Hs=null,vm.apply(ym,arguments)}function km(e,t,n,r,l,s,a,i,c){if(wm.apply(this,arguments),cl){if(cl){var u=Hs;cl=!1,Hs=null}else throw Error(D(198));Ws||(Ws=!0,Xa=u)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(tr(e)!==e)throw Error(D(188))}function bm(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Xc(l),e;if(s===r)return Xc(l),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function nf(e){return e=bm(e),e!==null?rf(e):null}function rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rf(e);if(t!==null)return t;e=e.sibling}return null}var lf=wt.unstable_scheduleCallback,Kc=wt.unstable_cancelCallback,Sm=wt.unstable_shouldYield,jm=wt.unstable_requestPaint,De=wt.unstable_now,Nm=wt.unstable_getCurrentPriorityLevel,Fi=wt.unstable_ImmediatePriority,sf=wt.unstable_UserBlockingPriority,Vs=wt.unstable_NormalPriority,Cm=wt.unstable_LowPriority,of=wt.unstable_IdlePriority,wo=null,Gt=null;function Em(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(wo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Ft=Math.clz32?Math.clz32:Dm,Mm=Math.log,Tm=Math.LN2;function Dm(e){return e>>>=0,e===0?32:31-(Mm(e)/Tm|0)|0}var os=64,as=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=ol(i):(s&=a,s!==0&&(r=ol(s)))}else a=n&~l,a!==0?r=ol(a):s!==0&&(r=ol(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),l=1<<n,r|=e[n],t&=~l;return r}function _m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ft(s),i=1<<a,c=l[a];c===-1?(!(i&n)||i&r)&&(l[a]=_m(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function af(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ft(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Bi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var de=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,Ui,df,ff,pf,Ya=!1,is=[],En=null,Mn=null,Tn=null,Sl=new Map,jl=new Map,bn=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Jr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Vl(t),t!==null&&Ui(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Im(e,t,n,r,l){switch(t){case"focusin":return En=Jr(En,e,t,n,r,l),!0;case"dragenter":return Mn=Jr(Mn,e,t,n,r,l),!0;case"mouseover":return Tn=Jr(Tn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Sl.set(s,Jr(Sl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,jl.set(s,Jr(jl.get(s)||null,e,t,n,r,l)),!0}return!1}function hf(e){var t=Hn(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=tf(n),t!==null){e.blockedOn=t,pf(e.priority,function(){df(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ha=r,n.target.dispatchEvent(r),Ha=null}else return t=Vl(n),t!==null&&Ui(t),e.blockedOn=n,!1;t.shift()}return!0}function Qc(e,t,n){Ds(e)&&n.delete(t)}function Lm(){Ya=!1,En!==null&&Ds(En)&&(En=null),Mn!==null&&Ds(Mn)&&(Mn=null),Tn!==null&&Ds(Tn)&&(Tn=null),Sl.forEach(Qc),jl.forEach(Qc)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ya||(Ya=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Lm)))}function Nl(e){function t(l){return qr(l,e)}if(0<is.length){qr(is[0],e);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&qr(En,e),Mn!==null&&qr(Mn,e),Tn!==null&&qr(Tn,e),Sl.forEach(t),jl.forEach(t),n=0;n<bn.length;n++)r=bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)hf(n),n.blockedOn===null&&bn.shift()}var Sr=fn.ReactCurrentBatchConfig,Ks=!0;function Om(e,t,n,r){var l=de,s=Sr.transition;Sr.transition=null;try{de=1,Hi(e,t,n,r)}finally{de=l,Sr.transition=s}}function Am(e,t,n,r){var l=de,s=Sr.transition;Sr.transition=null;try{de=4,Hi(e,t,n,r)}finally{de=l,Sr.transition=s}}function Hi(e,t,n,r){if(Ks){var l=Qa(e,t,n,r);if(l===null)ua(e,t,r,Ys,n),Yc(e,r);else if(Im(l,e,t,n,r))r.stopPropagation();else if(Yc(e,r),t&4&&-1<Pm.indexOf(e)){for(;l!==null;){var s=Vl(l);if(s!==null&&uf(s),s=Qa(e,t,n,r),s===null&&ua(e,t,r,Ys,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else ua(e,t,r,null,n)}}var Ys=null;function Qa(e,t,n,r){if(Ys=null,e=$i(r),e=Hn(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case Fi:return 1;case sf:return 4;case Vs:case Cm:return 16;case of:return 536870912;default:return 16}default:return 16}}var jn=null,Wi=null,_s=null;function xf(){if(_s)return _s;var e,t=Wi,n=t.length,r,l="value"in jn?jn.value:jn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return _s=l.slice(e,1<r?1-r:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Gc(){return!1}function bt(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cs:Gc,this.isPropagationStopped=Gc,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=bt(Or),Wl=Ne({},Or,{view:0,detail:0}),$m=bt(Wl),ta,na,Zr,ko=Ne({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(ta=e.screenX-Zr.screenX,na=e.screenY-Zr.screenY):na=ta=0,Zr=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Jc=bt(ko),Fm=Ne({},ko,{dataTransfer:0}),Bm=bt(Fm),Um=Ne({},Wl,{relatedTarget:0}),ra=bt(Um),Hm=Ne({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=bt(Hm),Vm=Ne({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xm=bt(Vm),Km=Ne({},Or,{data:0}),qc=bt(Km),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gm[e])?!!t[e]:!1}function Xi(){return Jm}var qm=Ne({},Wl,{key:function(e){if(e.key){var t=Ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zm=bt(qm),ex=Ne({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=bt(ex),tx=Ne({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),nx=bt(tx),rx=Ne({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),lx=bt(rx),sx=Ne({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ox=bt(sx),ax=[9,13,27,32],Ki=an&&"CompositionEvent"in window,ul=null;an&&"documentMode"in document&&(ul=document.documentMode);var ix=an&&"TextEvent"in window&&!ul,gf=an&&(!Ki||ul&&8<ul&&11>=ul),eu=" ",tu=!1;function vf(e,t){switch(e){case"keyup":return ax.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function cx(e,t){switch(e){case"compositionend":return yf(t);case"keypress":return t.which!==32?null:(tu=!0,eu);case"textInput":return e=t.data,e===eu&&tu?null:e;default:return null}}function ux(e,t){if(cr)return e==="compositionend"||!Ki&&vf(e,t)?(e=xf(),_s=Wi=jn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gf&&t.locale!=="ko"?null:t.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dx[e.type]:t==="textarea"}function wf(e,t,n,r){Gd(r),t=Qs(t,"onChange"),0<t.length&&(n=new Vi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,Cl=null;function fx(e){_f(e,0)}function bo(e){var t=fr(e);if(Hd(t))return e}function px(e,t){if(e==="change")return t}var kf=!1;if(an){var la;if(an){var sa="oninput"in document;if(!sa){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),sa=typeof ru.oninput=="function"}la=sa}else la=!1;kf=la&&(!document.documentMode||9<document.documentMode)}function lu(){dl&&(dl.detachEvent("onpropertychange",bf),Cl=dl=null)}function bf(e){if(e.propertyName==="value"&&bo(Cl)){var t=[];wf(t,Cl,e,$i(e)),ef(fx,t)}}function hx(e,t,n){e==="focusin"?(lu(),dl=t,Cl=n,dl.attachEvent("onpropertychange",bf)):e==="focusout"&&lu()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(Cl)}function xx(e,t){if(e==="click")return bo(t)}function gx(e,t){if(e==="input"||e==="change")return bo(t)}function vx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:vx;function El(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!_a.call(t,l)||!Ut(e[l],t[l]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ou(e,t){var n=su(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=su(n)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yx(e){var t=jf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sf(n.ownerDocument.documentElement,n)){if(r!==null&&Yi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=ou(n,s);var a=ou(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wx=an&&"documentMode"in document&&11>=document.documentMode,ur=null,Ga=null,fl=null,Ja=!1;function au(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ja||ur==null||ur!==Us(r)||(r=ur,"selectionStart"in r&&Yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&El(fl,r)||(fl=r,r=Qs(Ga,"onSelect"),0<r.length&&(t=new Vi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},oa={},Nf={};an&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function So(e){if(oa[e])return oa[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nf)return oa[e]=t[n];return e}var Cf=So("animationend"),Ef=So("animationiteration"),Mf=So("animationstart"),Tf=So("transitionend"),Df=new Map,iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Df.set(e,t),er(t,[e])}for(var aa=0;aa<iu.length;aa++){var ia=iu[aa],kx=ia.toLowerCase(),bx=ia[0].toUpperCase()+ia.slice(1);An(kx,"on"+bx)}An(Cf,"onAnimationEnd");An(Ef,"onAnimationIteration");An(Mf,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Tf,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function cu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,km(r,t,void 0,e),e.currentTarget=null}function _f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&l.isPropagationStopped())break e;cu(l,i,u),s=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&l.isPropagationStopped())break e;cu(l,i,u),s=c}}}if(Ws)throw e=Xa,Ws=!1,Xa=null,e}function ge(e,t){var n=t[ni];n===void 0&&(n=t[ni]=new Set);var r=e+"__bubble";n.has(r)||(Rf(t,e,2,!1),n.add(r))}function ca(e,t,n){var r=0;t&&(r|=4),Rf(n,e,r,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ml(e){if(!e[ds]){e[ds]=!0,Ad.forEach(function(n){n!=="selectionchange"&&(Sx.has(n)||ca(n,!1,e),ca(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,ca("selectionchange",!1,t))}}function Rf(e,t,n,r){switch(mf(t)){case 1:var l=Om;break;case 4:l=Am;break;default:l=Hi}n=l.bind(null,t,n,e),l=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ua(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Hn(i),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}i=i.parentNode}}r=r.return}ef(function(){var u=s,p=$i(n),f=[];e:{var h=Df.get(e);if(h!==void 0){var y=Vi,k=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":y=Zm;break;case"focusin":k="focus",y=ra;break;case"focusout":k="blur",y=ra;break;case"beforeblur":case"afterblur":y=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=nx;break;case Cf:case Ef:case Mf:y=Wm;break;case Tf:y=lx;break;case"scroll":y=$m;break;case"wheel":y=ox;break;case"copy":case"cut":case"paste":y=Xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zc}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=bl(m,x),j!=null&&v.push(Tl(m,j,g)))),b)break;m=m.return}0<v.length&&(h=new y(h,k,null,n,p),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Ha&&(k=n.relatedTarget||n.fromElement)&&(Hn(k)||k[cn]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=u,k=k?Hn(k):null,k!==null&&(b=tr(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=u),y!==k)){if(v=Jc,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zc,j="onPointerLeave",x="onPointerEnter",m="pointer"),b=y==null?h:fr(y),g=k==null?h:fr(k),h=new v(j,m+"leave",y,n,p),h.target=b,h.relatedTarget=g,j=null,Hn(p)===u&&(v=new v(x,m+"enter",k,n,p),v.target=g,v.relatedTarget=b,j=v),b=j,y&&k)t:{for(v=y,x=k,m=0,g=v;g;g=sr(g))m++;for(g=0,j=x;j;j=sr(j))g++;for(;0<m-g;)v=sr(v),m--;for(;0<g-m;)x=sr(x),g--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=sr(v),x=sr(x)}v=null}else v=null;y!==null&&uu(f,h,y,v,!1),k!==null&&b!==null&&uu(f,b,k,v,!0)}}e:{if(h=u?fr(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=px;else if(nu(h))if(kf)w=gx;else{w=mx;var C=hx}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=xx);if(w&&(w=w(e,u))){wf(f,w,n,p);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Aa(h,"number",h.value)}switch(C=u?fr(u):window,e){case"focusin":(nu(C)||C.contentEditable==="true")&&(ur=C,Ga=u,fl=null);break;case"focusout":fl=Ga=ur=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,au(f,n,p);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":au(f,n,p)}var S;if(Ki)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cr?vf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(gf&&n.locale!=="ko"&&(cr||E!=="onCompositionStart"?E==="onCompositionEnd"&&cr&&(S=xf()):(jn=p,Wi="value"in jn?jn.value:jn.textContent,cr=!0)),C=Qs(u,E),0<C.length&&(E=new qc(E,e,null,n,p),f.push({event:E,listeners:C}),S?E.data=S:(S=yf(n),S!==null&&(E.data=S)))),(S=ix?cx(e,n):ux(e,n))&&(u=Qs(u,"onBeforeInput"),0<u.length&&(p=new qc("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=S))}_f(f,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=bl(e,n),s!=null&&r.unshift(Tl(e,s,l)),s=bl(e,t),s!=null&&r.push(Tl(e,s,l))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uu(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,l?(c=bl(n,s),c!=null&&a.unshift(Tl(n,c,i))):l||(c=bl(n,s),c!=null&&a.push(Tl(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var jx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function du(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Nx,"")}function fs(e,t,n){if(t=du(t),du(e)!==t&&n)throw Error(D(425))}function Gs(){}var qa=null,Za=null;function ei(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ti=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof fu!="undefined"?function(e){return fu.resolve(null).then(e).catch(Mx)}:ti;function Mx(e){setTimeout(function(){throw e})}function da(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Nl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Nl(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ar,Dl="__reactProps$"+Ar,cn="__reactContainer$"+Ar,ni="__reactEvents$"+Ar,Tx="__reactListeners$"+Ar,Dx="__reactHandles$"+Ar;function Hn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pu(e);e!==null;){if(n=e[Qt])return n;e=pu(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){return e=e[Qt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function jo(e){return e[Dl]||null}var ri=[],pr=-1;function $n(e){return{current:e}}function ye(e){0>pr||(e.current=ri[pr],ri[pr]=null,pr--)}function xe(e,t){pr++,ri[pr]=e.current,e.current=t}var Ln={},qe=$n(Ln),ct=$n(!1),Qn=Ln;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function Js(){ye(ct),ye(qe)}function hu(e,t,n){if(qe.current!==Ln)throw Error(D(168));xe(qe,t),xe(ct,n)}function zf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(D(108,hm(e)||"Unknown",l));return Ne({},n,r)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Qn=qe.current,xe(qe,e),xe(ct,ct.current),!0}function mu(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=zf(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,ye(ct),ye(qe),xe(qe,e)):ye(ct),xe(ct,n)}var rn=null,No=!1,fa=!1;function Pf(e){rn===null?rn=[e]:rn.push(e)}function _x(e){No=!0,Pf(e)}function Fn(){if(!fa&&rn!==null){fa=!0;var e=0,t=de;try{var n=rn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,No=!1}catch(l){throw rn!==null&&(rn=rn.slice(e+1)),lf(Fi,Fn),l}finally{de=t,fa=!1}}return null}var hr=[],mr=0,Zs=null,eo=0,Et=[],Mt=0,Gn=null,ln=1,sn="";function Bn(e,t){hr[mr++]=eo,hr[mr++]=Zs,Zs=e,eo=t}function If(e,t,n){Et[Mt++]=ln,Et[Mt++]=sn,Et[Mt++]=Gn,Gn=e;var r=ln;e=sn;var l=32-Ft(r)-1;r&=~(1<<l),n+=1;var s=32-Ft(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,ln=1<<32-Ft(t)+l|n<<l|r,sn=s+e}else ln=1<<s|n<<l|r,sn=e}function Qi(e){e.return!==null&&(Bn(e,1),If(e,1,0))}function Gi(e){for(;e===Zs;)Zs=hr[--mr],hr[mr]=null,eo=hr[--mr],hr[mr]=null;for(;e===Gn;)Gn=Et[--Mt],Et[Mt]=null,sn=Et[--Mt],Et[Mt]=null,ln=Et[--Mt],Et[Mt]=null}var yt=null,vt=null,ke=!1,$t=null;function Lf(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:ln,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function li(e){return(e.mode&1)!==0&&(e.flags&128)===0}function si(e){if(ke){var t=vt;if(t){var n=t;if(!xu(e,t)){if(li(e))throw Error(D(418));t=Dn(n.nextSibling);var r=yt;t&&xu(e,t)?Lf(r,n):(e.flags=e.flags&-4097|2,ke=!1,yt=e)}}else{if(li(e))throw Error(D(418));e.flags=e.flags&-4097|2,ke=!1,yt=e}}}function gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function ps(e){if(e!==yt)return!1;if(!ke)return gu(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ei(e.type,e.memoizedProps)),t&&(t=vt)){if(li(e))throw Of(),Error(D(418));for(;t;)Lf(e,t),t=Dn(t.nextSibling)}if(gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?Dn(e.stateNode.nextSibling):null;return!0}function Of(){for(var e=vt;e;)e=Dn(e.nextSibling)}function Tr(){vt=yt=null,ke=!1}function Ji(e){$t===null?$t=[e]:$t.push(e)}var Rx=fn.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=l.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vu(e){var t=e._init;return t(e._payload)}function Af(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Pn(x,m),x.index=0,x.sibling=null,x}function s(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,j){return m===null||m.tag!==6?(m=ya(g,x.mode,j),m.return=x,m):(m=l(m,g),m.return=x,m)}function c(x,m,g,j){var w=g.type;return w===ir?p(x,m,g.props.children,j,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yn&&vu(w)===m.type)?(j=l(m,g.props),j.ref=el(x,m,g),j.return=x,j):(j=$s(g.type,g.key,g.props,null,x.mode,j),j.ref=el(x,m,g),j.return=x,j)}function u(x,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=wa(g,x.mode,j),m.return=x,m):(m=l(m,g.children||[]),m.return=x,m)}function p(x,m,g,j,w){return m===null||m.tag!==7?(m=Kn(g,x.mode,j,w),m.return=x,m):(m=l(m,g),m.return=x,m)}function f(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ya(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rs:return g=$s(m.type,m.key,m.props,null,x.mode,g),g.ref=el(x,null,m),g.return=x,g;case ar:return m=wa(m,x.mode,g),m.return=x,m;case yn:var j=m._init;return f(x,j(m._payload),g)}if(sl(m)||Qr(m))return m=Kn(m,x.mode,g,null),m.return=x,m;hs(x,m)}return null}function h(x,m,g,j){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:i(x,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return g.key===w?c(x,m,g,j):null;case ar:return g.key===w?u(x,m,g,j):null;case yn:return w=g._init,h(x,m,w(g._payload),j)}if(sl(g)||Qr(g))return w!==null?null:p(x,m,g,j,null);hs(x,g)}return null}function y(x,m,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,i(m,x,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rs:return x=x.get(j.key===null?g:j.key)||null,c(m,x,j,w);case ar:return x=x.get(j.key===null?g:j.key)||null,u(m,x,j,w);case yn:var C=j._init;return y(x,m,g,C(j._payload),w)}if(sl(j)||Qr(j))return x=x.get(g)||null,p(m,x,j,w,null);hs(m,j)}return null}function k(x,m,g,j){for(var w=null,C=null,S=m,E=m=0,_=null;S!==null&&E<g.length;E++){S.index>E?(_=S,S=null):_=S.sibling;var R=h(x,S,g[E],j);if(R===null){S===null&&(S=_);break}e&&S&&R.alternate===null&&t(x,S),m=s(R,m,E),C===null?w=R:C.sibling=R,C=R,S=_}if(E===g.length)return n(x,S),ke&&Bn(x,E),w;if(S===null){for(;E<g.length;E++)S=f(x,g[E],j),S!==null&&(m=s(S,m,E),C===null?w=S:C.sibling=S,C=S);return ke&&Bn(x,E),w}for(S=r(x,S);E<g.length;E++)_=y(S,x,E,g[E],j),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?E:_.key),m=s(_,m,E),C===null?w=_:C.sibling=_,C=_);return e&&S.forEach(function(P){return t(x,P)}),ke&&Bn(x,E),w}function v(x,m,g,j){var w=Qr(g);if(typeof w!="function")throw Error(D(150));if(g=w.call(g),g==null)throw Error(D(151));for(var C=w=null,S=m,E=m=0,_=null,R=g.next();S!==null&&!R.done;E++,R=g.next()){S.index>E?(_=S,S=null):_=S.sibling;var P=h(x,S,R.value,j);if(P===null){S===null&&(S=_);break}e&&S&&P.alternate===null&&t(x,S),m=s(P,m,E),C===null?w=P:C.sibling=P,C=P,S=_}if(R.done)return n(x,S),ke&&Bn(x,E),w;if(S===null){for(;!R.done;E++,R=g.next())R=f(x,R.value,j),R!==null&&(m=s(R,m,E),C===null?w=R:C.sibling=R,C=R);return ke&&Bn(x,E),w}for(S=r(x,S);!R.done;E++,R=g.next())R=y(S,x,E,R.value,j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=s(R,m,E),C===null?w=R:C.sibling=R,C=R);return e&&S.forEach(function(G){return t(x,G)}),ke&&Bn(x,E),w}function b(x,m,g,j){if(typeof g=="object"&&g!==null&&g.type===ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:e:{for(var w=g.key,C=m;C!==null;){if(C.key===w){if(w=g.type,w===ir){if(C.tag===7){n(x,C.sibling),m=l(C,g.props.children),m.return=x,x=m;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yn&&vu(w)===C.type){n(x,C.sibling),m=l(C,g.props),m.ref=el(x,C,g),m.return=x,x=m;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===ir?(m=Kn(g.props.children,x.mode,j,g.key),m.return=x,x=m):(j=$s(g.type,g.key,g.props,null,x.mode,j),j.ref=el(x,m,g),j.return=x,x=j)}return a(x);case ar:e:{for(C=g.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=l(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=wa(g,x.mode,j),m.return=x,x=m}return a(x);case yn:return C=g._init,b(x,m,C(g._payload),j)}if(sl(g))return k(x,m,g,j);if(Qr(g))return v(x,m,g,j);hs(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=l(m,g),m.return=x,x=m):(n(x,m),m=ya(g,x.mode,j),m.return=x,x=m),a(x)):n(x,m)}return b}var Dr=Af(!0),$f=Af(!1),to=$n(null),no=null,xr=null,qi=null;function Zi(){qi=xr=no=null}function ec(e){var t=to.current;ye(to),e._currentValue=t}function oi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jr(e,t){no=e,qi=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(no===null)throw Error(D(308));xr=e,no.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var Wn=null;function tc(e){Wn===null?Wn=[e]:Wn.push(e)}function Ff(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,tc(t)):(n.next=l.next,l.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,un(e,n)}return l=r.interleaved,l===null?(t.next=t,tc(r)):(t.next=l.next,l.next=t),r.interleaved=t,un(e,n)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bi(e,n)}}function yu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ro(e,t,n,r){var l=e.updateQueue;wn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(s!==null){var f=l.baseState;a=0,p=u=c=null,i=s;do{var h=i.lane,y=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(h=t,y=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){f=k.call(y,f,h);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,h=typeof k=="function"?k.call(y,f,h):k,h==null)break e;f=Ne({},f,h);break e;case 2:wn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else y={eventTime:y,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=y,c=f):p=p.next=y,a|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(c=f),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);qn|=a,e.lanes=a,e.memoizedState=f}}function wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(D(191,l));l.call(r)}}}var Xl={},Jt=$n(Xl),_l=$n(Xl),Rl=$n(Xl);function Vn(e){if(e===Xl)throw Error(D(174));return e}function rc(e,t){switch(xe(Rl,t),xe(_l,e),xe(Jt,Xl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fa(t,e)}ye(Jt),xe(Jt,t)}function _r(){ye(Jt),ye(_l),ye(Rl)}function Uf(e){Vn(Rl.current);var t=Vn(Jt.current),n=Fa(t,e.type);t!==n&&(xe(_l,e),xe(Jt,n))}function lc(e){_l.current===e&&(ye(Jt),ye(_l))}var Se=$n(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function sc(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Ps=fn.ReactCurrentDispatcher,ha=fn.ReactCurrentBatchConfig,Jn=0,je=null,ze=null,Ae=null,so=!1,pl=!1,zl=0,zx=0;function Qe(){throw Error(D(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function ac(e,t,n,r,l,s){if(Jn=s,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ps.current=e===null||e.memoizedState===null?Ox:Ax,e=n(r,l),pl){s=0;do{if(pl=!1,zl=0,25<=s)throw Error(D(301));s+=1,Ae=ze=null,t.updateQueue=null,Ps.current=$x,e=n(r,l)}while(pl)}if(Ps.current=oo,t=ze!==null&&ze.next!==null,Jn=0,Ae=ze=je=null,so=!1,t)throw Error(D(300));return e}function ic(){var e=zl!==0;return zl=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Rt(){if(ze===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ae===null?je.memoizedState:Ae.next;if(t!==null)Ae=t,ze=e;else{if(e===null)throw Error(D(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Pl(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=Rt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=ze,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var i=a=null,c=null,u=s;do{var p=u.lane;if((Jn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,a=r):c=c.next=f,je.lanes|=p,qn|=p}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=i,Ut(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,je.lanes|=s,qn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Rt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Ut(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Hf(){}function Wf(e,t){var n=je,r=Rt(),l=t(),s=!Ut(r.memoizedState,l);if(s&&(r.memoizedState=l,it=!0),r=r.queue,cc(Kf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Il(9,Xf.bind(null,n,r,l,t),void 0,null),Fe===null)throw Error(D(349));Jn&30||Vf(n,t,l)}return l}function Vf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xf(e,t,n,r){t.value=n,t.getSnapshot=r,Yf(t)&&Qf(e)}function Kf(e,t,n){return n(function(){Yf(t)&&Qf(e)})}function Yf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch(r){return!0}}function Qf(e){var t=un(e,1);t!==null&&Bt(t,e,1,-1)}function ku(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=Lx.bind(null,je,e),[t.memoizedState,e]}function Il(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gf(){return Rt().memoizedState}function Is(e,t,n,r){var l=Yt();je.flags|=e,l.memoizedState=Il(1|t,n,void 0,r===void 0?null:r)}function Co(e,t,n,r){var l=Rt();r=r===void 0?null:r;var s=void 0;if(ze!==null){var a=ze.memoizedState;if(s=a.destroy,r!==null&&oc(r,a.deps)){l.memoizedState=Il(t,n,s,r);return}}je.flags|=e,l.memoizedState=Il(1|t,n,s,r)}function bu(e,t){return Is(8390656,8,e,t)}function cc(e,t){return Co(2048,8,e,t)}function Jf(e,t){return Co(4,2,e,t)}function qf(e,t){return Co(4,4,e,t)}function Zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,n){return n=n!=null?n.concat([e]):null,Co(4,4,Zf.bind(null,t,e),n)}function uc(){}function tp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function np(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rp(e,t,n){return Jn&21?(Ut(n,t)||(n=af(),je.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Px(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{de=n,ha.transition=r}}function lp(){return Rt().memoizedState}function Ix(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sp(e))op(t,n);else if(n=Ff(e,t,n,r),n!==null){var l=tt();Bt(n,e,r,l),ap(n,t,r)}}function Lx(e,t,n){var r=zn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sp(e))op(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,n);if(l.hasEagerState=!0,l.eagerState=i,Ut(i,a)){var c=t.interleaved;c===null?(l.next=l,tc(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch(u){}finally{}n=Ff(e,t,l,r),n!==null&&(l=tt(),Bt(n,e,r,l),ap(n,t,r))}}function sp(e){var t=e.alternate;return e===je||t!==null&&t===je}function op(e,t){pl=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ap(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bi(e,n)}}var oo={readContext:_t,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Ox={readContext:_t,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:bu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Is(4194308,4,Zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ix.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:ku,useDebugValue:uc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=ku(!1),t=e[0];return e=Px.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,l=Yt();if(ke){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Fe===null)throw Error(D(349));Jn&30||Vf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,bu(Kf.bind(null,r,s,e),[e]),r.flags|=2048,Il(9,Xf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Fe.identifierPrefix;if(ke){var n=sn,r=ln;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ax={readContext:_t,useCallback:tp,useContext:_t,useEffect:cc,useImperativeHandle:ep,useInsertionEffect:Jf,useLayoutEffect:qf,useMemo:np,useReducer:ma,useRef:Gf,useState:function(){return ma(Pl)},useDebugValue:uc,useDeferredValue:function(e){var t=Rt();return rp(t,ze.memoizedState,e)},useTransition:function(){var e=ma(Pl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:lp,unstable_isNewReconciler:!1},$x={readContext:_t,useCallback:tp,useContext:_t,useEffect:cc,useImperativeHandle:ep,useInsertionEffect:Jf,useLayoutEffect:qf,useMemo:np,useReducer:xa,useRef:Gf,useState:function(){return xa(Pl)},useDebugValue:uc,useDeferredValue:function(e){var t=Rt();return ze===null?t.memoizedState=e:rp(t,ze.memoizedState,e)},useTransition:function(){var e=xa(Pl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:lp,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ai(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),l=zn(e),s=on(r,l);s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,l),t!==null&&(Bt(t,e,l,r),zs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),l=zn(e),s=on(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,l),t!==null&&(Bt(t,e,l,r),zs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=zn(e),l=on(n,r);l.tag=2,t!=null&&(l.callback=t),t=_n(e,l,r),t!==null&&(Bt(t,e,r,n),zs(t,e,r))}};function Su(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!El(n,r)||!El(l,s):!0}function ip(e,t,n){var r=!1,l=Ln,s=t.contextType;return typeof s=="object"&&s!==null?s=_t(s):(l=ut(t)?Qn:qe.current,r=t.contextTypes,s=(r=r!=null)?Mr(e,l):Ln),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function ju(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},nc(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=_t(s):(s=ut(t)?Qn:qe.current,l.context=Mr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ai(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Eo.enqueueReplaceState(l,l.state,null),ro(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=pm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ci(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fx=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){io||(io=!0,yi=r),ci(e,t)},n}function up(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ci(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ci(e,t),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Nu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fx;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=eg.bind(null,e,t,n),t.then(e,e))}function Cu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Bx=fn.ReactCurrentOwner,it=!1;function et(e,t,n,r){t.child=e===null?$f(t,null,n,r):Dr(t,e.child,n,r)}function Mu(e,t,n,r,l){n=n.render;var s=t.ref;return jr(t,l),r=ac(e,t,n,r,s,l),n=ic(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dn(e,t,l)):(ke&&n&&Qi(t),t.flags|=1,et(e,t,r,l),t.child)}function Tu(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!vc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dp(e,t,s,r,l)):(e=$s(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(a,r)&&e.ref===t.ref)return dn(e,t,l)}return t.flags|=1,e=Pn(s,r),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(El(s,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,dn(e,t,l)}return ui(e,t,n,r,l)}function fp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(vr,gt),gt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(vr,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(vr,gt),gt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xe(vr,gt),gt|=r;return et(e,t,l,n),t.child}function pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ui(e,t,n,r,l){var s=ut(n)?Qn:qe.current;return s=Mr(t,s),jr(t,l),n=ac(e,t,n,r,s,l),r=ic(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dn(e,t,l)):(ke&&r&&Qi(t),t.flags|=1,et(e,t,n,l),t.child)}function Du(e,t,n,r,l){if(ut(n)){var s=!0;qs(t)}else s=!1;if(jr(t,l),t.stateNode===null)Ls(e,t),ip(t,n,r),ii(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=ut(n)?Qn:qe.current,u=Mr(t,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&ju(t,a,r,u),wn=!1;var h=t.memoizedState;a.state=h,ro(t,r,a,l),c=t.memoizedState,i!==r||h!==c||ct.current||wn?(typeof p=="function"&&(ai(t,n,p,r),c=t.memoizedState),(i=wn||Su(t,n,i,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bf(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Ot(t.type,i),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=ut(n)?Qn:qe.current,c=Mr(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==c)&&ju(t,a,r,c),wn=!1,h=t.memoizedState,a.state=h,ro(t,r,a,l);var k=t.memoizedState;i!==f||h!==k||ct.current||wn?(typeof y=="function"&&(ai(t,n,y,r),k=t.memoizedState),(u=wn||Su(t,n,u,r,h,k,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return di(e,t,n,r,s,l)}function di(e,t,n,r,l,s){pp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&mu(t,n,!1),dn(e,t,s);r=t.stateNode,Bx.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Dr(t,e.child,null,s),t.child=Dr(t,null,i,s)):et(e,t,i,s),t.memoizedState=r.state,l&&mu(t,n,!0),t.child}function hp(e){var t=e.stateNode;t.pendingContext?hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hu(e,t.context,!1),rc(e,t.containerInfo)}function _u(e,t,n,r,l){return Tr(),Ji(l),t.flags|=256,et(e,t,n,r),t.child}var fi={dehydrated:null,treeContext:null,retryLane:0};function pi(e){return{baseLanes:e,cachePool:null,transitions:null}}function mp(e,t,n){var r=t.pendingProps,l=Se.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(Se,l&1),e===null)return si(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Do(a,r,0,null),e=Kn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=pi(n),t.memoizedState=fi,e):dc(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Ux(e,t,a,r,i,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=Pn(i,s):(s=Kn(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?pi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=fi,r}return s=e.child,e=s.sibling,r=Pn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dc(e,t){return t=Do({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,n,r){return r!==null&&Ji(r),Dr(t,e.child,null,n),e=dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ux(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ga(Error(D(422))),ms(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Do({mode:"visible",children:r.children},l,0,null),s=Kn(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Dr(t,e.child,null,a),t.child.memoizedState=pi(a),t.memoizedState=fi,s);if(!(t.mode&1))return ms(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(D(419)),r=ga(s,r,void 0),ms(e,t,a,r)}if(i=(a&e.childLanes)!==0,it||i){if(r=Fe,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,un(e,l),Bt(r,e,l,-1))}return gc(),r=ga(Error(D(421))),ms(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=tg.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,vt=Dn(l.nextSibling),yt=t,ke=!0,$t=null,e!==null&&(Et[Mt++]=ln,Et[Mt++]=sn,Et[Mt++]=Gn,ln=e.id,sn=e.overflow,Gn=t),t=dc(t,r.children),t.flags|=4096,t)}function Ru(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oi(e.return,t,n)}function va(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function xp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(et(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ru(e,n,t);else if(e.tag===19)Ru(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&lo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),va(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&lo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}va(t,!0,n,null,s);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hx(e,t,n){switch(t.tag){case 3:hp(t),Tr();break;case 5:Uf(t);break;case 1:ut(t.type)&&qs(t);break;case 4:rc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;xe(to,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?mp(e,t,n):(xe(Se,Se.current&1),e=dn(e,t,n),e!==null?e.sibling:null);xe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,fp(e,t,n)}return dn(e,t,n)}var gp,hi,vp,yp;gp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hi=function(){};vp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Vn(Jt.current);var s=null;switch(n){case"input":l=La(e,l),r=La(e,r),s=[];break;case"select":l=Ne({},l,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":l=$a(e,l),r=$a(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gs)}Ba(n,r);var a;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(i=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ge("scroll",e),s||i===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};yp=function(e,t,n,r){n!==r&&(t.flags|=4)};function tl(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wx(e,t,n){var r=t.pendingProps;switch(Gi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ut(t.type)&&Js(),Ge(t),null;case 3:return r=t.stateNode,_r(),ye(ct),ye(qe),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(bi($t),$t=null))),hi(e,t),Ge(t),null;case 5:lc(t);var l=Vn(Rl.current);if(n=t.type,e!==null&&t.stateNode!=null)vp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ge(t),null}if(e=Vn(Jt.current),ps(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qt]=t,r[Dl]=s,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(l=0;l<al.length;l++)ge(al[l],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Bc(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":Hc(r,s),ge("invalid",r)}Ba(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&fs(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&fs(r.textContent,i,e),l=["children",""+i]):wl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ge("scroll",r)}switch(n){case"input":ls(r),Uc(r,s,!0);break;case"textarea":ls(r),Wc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Qt]=t,e[Dl]=r,gp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ua(n,r),n){case"dialog":ge("cancel",e),ge("close",e),l=r;break;case"iframe":case"object":case"embed":ge("load",e),l=r;break;case"video":case"audio":for(l=0;l<al.length;l++)ge(al[l],e);l=r;break;case"source":ge("error",e),l=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),l=r;break;case"details":ge("toggle",e),l=r;break;case"input":Bc(e,r),l=La(e,r),ge("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ne({},r,{value:void 0}),ge("invalid",e);break;case"textarea":Hc(e,r),l=$a(e,r),ge("invalid",e);break;default:l=r}Ba(n,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?Qd(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kd(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ge("scroll",e):c!=null&&Ii(e,s,c,a))}switch(n){case"input":ls(e),Uc(e,r,!1);break;case"textarea":ls(e),Wc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+In(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?wr(e,!!r.multiple,s,!1):r.defaultValue!=null&&wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)yp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Vn(Rl.current),Vn(Jt.current),ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(s=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Ge(t),null;case 13:if(ye(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&vt!==null&&t.mode&1&&!(t.flags&128))Of(),Tr(),t.flags|=98560,s=!1;else if(s=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Qt]=t}else Tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),s=!1}else $t!==null&&(bi($t),$t=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ie===0&&(Ie=3):gc())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return _r(),hi(e,t),e===null&&Ml(t.stateNode.containerInfo),Ge(t),null;case 10:return ec(t.type._context),Ge(t),null;case 17:return ut(t.type)&&Js(),Ge(t),null;case 19:if(ye(Se),s=t.memoizedState,s===null)return Ge(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)tl(s,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=lo(e),a!==null){for(t.flags|=128,tl(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Se,Se.current&1|2),t.child}e=e.sibling}s.tail!==null&&De()>zr&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(e=lo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ke)return Ge(t),null}else 2*De()-s.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=De(),t.sibling=null,n=Se.current,xe(Se,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return xc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Vx(e,t){switch(Gi(t),t.tag){case 1:return ut(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),ye(ct),ye(qe),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(ye(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Se),null;case 4:return _r(),null;case 10:return ec(t.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var xs=!1,Je=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,$=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function mi(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var zu=!1;function Kx(e,t){if(qa=Ks,e=jf(),Yi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var a=0,i=-1,c=-1,u=0,p=0,f=e,h=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(i=a+l),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===l&&(i=a),h===s&&++p===r&&(c=a),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Za={focusedElem:e,selectionRange:n},Ks=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,b=k.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ot(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ee(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return k=zu,zu=!1,k}function hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&mi(t,n,s)}l=l.next}while(l!==r)}}function Mo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Dl],delete t[ni],delete t[Tx],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kp(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gs));else if(r!==4&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}function vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vi(e,t,n),e=e.sibling;e!==null;)vi(e,t,n),e=e.sibling}var Ve=null,At=!1;function vn(e,t,n){for(n=n.child;n!==null;)bp(e,t,n),n=n.sibling}function bp(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(wo,n)}catch(i){}switch(n.tag){case 5:Je||gr(n,t);case 6:var r=Ve,l=At;Ve=null,vn(e,t,n),Ve=r,At=l,Ve!==null&&(At?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(At?(e=Ve,n=n.stateNode,e.nodeType===8?da(e.parentNode,n):e.nodeType===1&&da(e,n),Nl(e)):da(Ve,n.stateNode));break;case 4:r=Ve,l=At,Ve=n.stateNode.containerInfo,At=!0,vn(e,t,n),Ve=r,At=l;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mi(n,t,a),l=l.next}while(l!==r)}vn(e,t,n);break;case 1:if(!Je&&(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ee(n,t,i)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,vn(e,t,n),Je=r):vn(e,t,n);break;default:vn(e,t,n)}}function Iu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xx),t.forEach(function(r){var l=ng.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ve=i.stateNode,At=!1;break e;case 3:Ve=i.stateNode.containerInfo,At=!0;break e;case 4:Ve=i.stateNode.containerInfo,At=!0;break e}i=i.return}if(Ve===null)throw Error(D(160));bp(s,a,l),Ve=null,At=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Ee(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sp(t,e),t=t.sibling}function Sp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Kt(e),r&4){try{hl(3,e,e.return),Mo(3,e)}catch(v){Ee(e,e.return,v)}try{hl(5,e,e.return)}catch(v){Ee(e,e.return,v)}}break;case 1:Lt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return);break;case 5:if(Lt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return),e.flags&32){var l=e.stateNode;try{kl(l,"")}catch(v){Ee(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Wd(l,s),Ua(i,a);var u=Ua(i,s);for(a=0;a<c.length;a+=2){var p=c[a],f=c[a+1];p==="style"?Qd(l,f):p==="dangerouslySetInnerHTML"?Kd(l,f):p==="children"?kl(l,f):Ii(l,p,f,u)}switch(i){case"input":Oa(l,s);break;case"textarea":Vd(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?wr(l,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?wr(l,!!s.multiple,s.defaultValue,!0):wr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Dl]=s}catch(v){Ee(e,e.return,v)}}break;case 6:if(Lt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(D(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(v){Ee(e,e.return,v)}}break;case 3:if(Lt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(v){Ee(e,e.return,v)}break;case 4:Lt(t,e),Kt(e);break;case 13:Lt(t,e),Kt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(hc=De())),r&4&&Iu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||p,Lt(t,e),Je=u):Lt(t,e),Kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(f=$=p;$!==null;){switch(h=$,y=h.child,h.tag){case 0:case 11:case 14:case 15:hl(4,h,h.return);break;case 1:gr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){Ee(r,n,v)}}break;case 5:gr(h,h.return);break;case 22:if(h.memoizedState!==null){Ou(f);continue}}y!==null?(y.return=h,$=y):Ou(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,u?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Yd("display",a))}catch(v){Ee(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ee(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Kt(e),r&4&&Iu(e);break;case 21:break;default:Lt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(kl(l,""),r.flags&=-33);var s=Pu(e);vi(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Pu(e);gi(e,i,a);break;default:throw Error(D(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yx(e,t,n){$=e,jp(e)}function jp(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var l=$,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||xs;if(!a){var i=l.alternate,c=i!==null&&i.memoizedState!==null||Je;i=xs;var u=Je;if(xs=a,(Je=c)&&!u)for($=l;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?Au(l):c!==null?(c.return=a,$=c):Au(l);for(;s!==null;)$=s,jp(s),s=s.sibling;$=l,xs=i,Je=u}Lu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,$=s):Lu(e)}}function Lu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Mo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&wu(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wu(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Je||t.flags&512&&xi(t)}catch(h){Ee(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Ou(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Au(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mo(4,t)}catch(c){Ee(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Ee(t,l,c)}}var s=t.return;try{xi(t)}catch(c){Ee(t,s,c)}break;case 5:var a=t.return;try{xi(t)}catch(c){Ee(t,a,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){$=null;break}var i=t.sibling;if(i!==null){i.return=t.return,$=i;break}$=t.return}}var Qx=Math.ceil,ao=fn.ReactCurrentDispatcher,fc=fn.ReactCurrentOwner,Dt=fn.ReactCurrentBatchConfig,le=0,Fe=null,Re=null,Xe=0,gt=0,vr=$n(0),Ie=0,Ll=null,qn=0,To=0,pc=0,ml=null,at=null,hc=0,zr=1/0,nn=null,io=!1,yi=null,Rn=null,gs=!1,Nn=null,co=0,xl=0,wi=null,Os=-1,As=0;function tt(){return le&6?De():Os!==-1?Os:Os=De()}function zn(e){return e.mode&1?le&2&&Xe!==0?Xe&-Xe:Rx.transition!==null?(As===0&&(As=af()),As):(e=de,e!==0||(e=window.event,e=e===void 0?16:mf(e.type)),e):1}function Bt(e,t,n,r){if(50<xl)throw xl=0,wi=null,Error(D(185));Hl(e,n,r),(!(le&2)||e!==Fe)&&(e===Fe&&(!(le&2)&&(To|=n),Ie===4&&Sn(e,Xe)),dt(e,r),n===1&&le===0&&!(t.mode&1)&&(zr=De()+500,No&&Fn()))}function dt(e,t){var n=e.callbackNode;Rm(e,t);var r=Xs(e,e===Fe?Xe:0);if(r===0)n!==null&&Kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kc(n),t===1)e.tag===0?_x($u.bind(null,e)):Pf($u.bind(null,e)),Ex(function(){!(le&6)&&Fn()}),n=null;else{switch(cf(r)){case 1:n=Fi;break;case 4:n=sf;break;case 16:n=Vs;break;case 536870912:n=of;break;default:n=Vs}n=Rp(n,Np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Np(e,t){if(Os=-1,As=0,le&6)throw Error(D(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var r=Xs(e,e===Fe?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uo(e,r);else{t=r;var l=le;le|=2;var s=Ep();(Fe!==e||Xe!==t)&&(nn=null,zr=De()+500,Xn(e,t));do try{qx();break}catch(i){Cp(e,i)}while(!0);Zi(),ao.current=s,le=l,Re!==null?t=0:(Fe=null,Xe=0,t=Ie)}if(t!==0){if(t===2&&(l=Ka(e),l!==0&&(r=l,t=ki(e,l))),t===1)throw n=Ll,Xn(e,0),Sn(e,r),dt(e,De()),n;if(t===6)Sn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Gx(l)&&(t=uo(e,r),t===2&&(s=Ka(e),s!==0&&(r=s,t=ki(e,s))),t===1))throw n=Ll,Xn(e,0),Sn(e,r),dt(e,De()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Un(e,at,nn);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=hc+500-De(),10<t)){if(Xs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ti(Un.bind(null,e,at,nn),t);break}Un(e,at,nn);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Ft(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qx(r/1960))-r,10<r){e.timeoutHandle=ti(Un.bind(null,e,at,nn),r);break}Un(e,at,nn);break;case 5:Un(e,at,nn);break;default:throw Error(D(329))}}}return dt(e,De()),e.callbackNode===n?Np.bind(null,e):null}function ki(e,t){var n=ml;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=at,at=n,t!==null&&bi(t)),e}function bi(e){at===null?at=e:at.push.apply(at,e)}function Gx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ut(s(),l))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~pc,t&=~To,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function $u(e){if(le&6)throw Error(D(327));Nr();var t=Xs(e,0);if(!(t&1))return dt(e,De()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var r=Ka(e);r!==0&&(t=r,n=ki(e,r))}if(n===1)throw n=Ll,Xn(e,0),Sn(e,t),dt(e,De()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,at,nn),dt(e,De()),null}function mc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(zr=De()+500,No&&Fn())}}function Zn(e){Nn!==null&&Nn.tag===0&&!(le&6)&&Nr();var t=le;le|=1;var n=Dt.transition,r=de;try{if(Dt.transition=null,de=1,e)return e()}finally{de=r,Dt.transition=n,le=t,!(le&6)&&Fn()}}function xc(){gt=vr.current,ye(vr)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cx(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Gi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Js();break;case 3:_r(),ye(ct),ye(qe),sc();break;case 5:lc(r);break;case 4:_r();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:ec(r.type._context);break;case 22:case 23:xc()}n=n.return}if(Fe=e,Re=e=Pn(e.current,null),Xe=gt=t,Ie=0,Ll=null,pc=To=qn=0,at=ml=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}Wn=null}return e}function Cp(e,t){do{var n=Re;try{if(Zi(),Ps.current=oo,so){for(var r=je.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}so=!1}if(Jn=0,Ae=ze=je=null,pl=!1,zl=0,fc.current=null,n===null||n.return===null){Ie=1,Ll=t,Re=null;break}e:{var s=e,a=n.return,i=n,c=t;if(t=Xe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Cu(a);if(y!==null){y.flags&=-257,Eu(y,a,i,s,t),y.mode&1&&Nu(s,u,t),t=y,c=u;var k=t.updateQueue;if(k===null){var v=new Set;v.add(c),t.updateQueue=v}else k.add(c);break e}else{if(!(t&1)){Nu(s,u,t),gc();break e}c=Error(D(426))}}else if(ke&&i.mode&1){var b=Cu(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Eu(b,a,i,s,t),Ji(Rr(c,i));break e}}s=c=Rr(c,i),Ie!==4&&(Ie=2),ml===null?ml=[s]:ml.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=cp(s,c,t);yu(s,x);break e;case 1:i=c;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rn===null||!Rn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=up(s,i,t);yu(s,j);break e}}s=s.return}while(s!==null)}Tp(n)}catch(w){t=w,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Ep(){var e=ao.current;return ao.current=oo,e===null?oo:e}function gc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Fe===null||!(qn&268435455)&&!(To&268435455)||Sn(Fe,Xe)}function uo(e,t){var n=le;le|=2;var r=Ep();(Fe!==e||Xe!==t)&&(nn=null,Xn(e,t));do try{Jx();break}catch(l){Cp(e,l)}while(!0);if(Zi(),le=n,ao.current=r,Re!==null)throw Error(D(261));return Fe=null,Xe=0,Ie}function Jx(){for(;Re!==null;)Mp(Re)}function qx(){for(;Re!==null&&!Sm();)Mp(Re)}function Mp(e){var t=_p(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Tp(e):Re=t,fc.current=null}function Tp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vx(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Re=null;return}}else if(n=Wx(n,t,gt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ie===0&&(Ie=5)}function Un(e,t,n){var r=de,l=Dt.transition;try{Dt.transition=null,de=1,Zx(e,t,n,r)}finally{Dt.transition=l,de=r}return null}function Zx(e,t,n,r){do Nr();while(Nn!==null);if(le&6)throw Error(D(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zm(e,s),e===Fe&&(Re=Fe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,Rp(Vs,function(){return Nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var a=de;de=1;var i=le;le|=4,fc.current=null,Kx(e,n),Sp(n,e),yx(Za),Ks=!!qa,Za=qa=null,e.current=n,Yx(n),jm(),le=i,de=a,Dt.transition=s}else e.current=n;if(gs&&(gs=!1,Nn=e,co=l),s=e.pendingLanes,s===0&&(Rn=null),Em(n.stateNode),dt(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(io)throw io=!1,e=yi,yi=null,e;return co&1&&e.tag!==0&&Nr(),s=e.pendingLanes,s&1?e===wi?xl++:(xl=0,wi=e):xl=0,Fn(),null}function Nr(){if(Nn!==null){var e=cf(co),t=Dt.transition,n=de;try{if(Dt.transition=null,de=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,co=0,le&6)throw Error(D(331));var l=le;for(le|=4,$=e.current;$!==null;){var s=$,a=s.child;if($.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for($=u;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:hl(8,p,s)}var f=p.child;if(f!==null)f.return=p,$=f;else for(;$!==null;){p=$;var h=p.sibling,y=p.return;if(wp(p),p===u){$=null;break}if(h!==null){h.return=y,$=h;break}$=y}}}var k=s.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}$=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,$=a;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,$=x;break e}$=s.return}}var m=e.current;for($=m;$!==null;){a=$;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,$=g;else e:for(a=m;$!==null;){if(i=$,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Mo(9,i)}}catch(w){Ee(i,i.return,w)}if(i===a){$=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,$=j;break e}$=i.return}}if(le=l,Fn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(wo,e)}catch(w){}r=!0}return r}finally{de=n,Dt.transition=t}}return!1}function Fu(e,t,n){t=Rr(n,t),t=cp(e,t,1),e=_n(e,t,1),t=tt(),e!==null&&(Hl(e,1,t),dt(e,t))}function Ee(e,t,n){if(e.tag===3)Fu(e,e,n);else for(;t!==null;){if(t.tag===3){Fu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){e=Rr(n,e),e=up(t,e,1),t=_n(t,e,1),e=tt(),t!==null&&(Hl(t,1,e),dt(t,e));break}}t=t.return}}function eg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Xe&n)===n&&(Ie===4||Ie===3&&(Xe&130023424)===Xe&&500>De()-hc?Xn(e,0):pc|=n),dt(e,t)}function Dp(e,t){t===0&&(e.mode&1?(t=as,as<<=1,!(as&130023424)&&(as=4194304)):t=1);var n=tt();e=un(e,t),e!==null&&(Hl(e,t,n),dt(e,n))}function tg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dp(e,n)}function ng(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Dp(e,n)}var _p;_p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,Hx(e,t,n);it=!!(e.flags&131072)}else it=!1,ke&&t.flags&1048576&&If(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var l=Mr(t,qe.current);jr(t,n),l=ac(null,t,r,e,l,n);var s=ic();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(s=!0,qs(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,nc(t),l.updater=Eo,t.stateNode=l,l._reactInternals=t,ii(t,r,e,n),t=di(null,t,r,!0,s,n)):(t.tag=0,ke&&s&&Qi(t),et(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=lg(r),e=Ot(r,e),l){case 0:t=ui(null,t,r,e,n);break e;case 1:t=Du(null,t,r,e,n);break e;case 11:t=Mu(null,t,r,e,n);break e;case 14:t=Tu(null,t,r,Ot(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ot(r,l),ui(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ot(r,l),Du(e,t,r,l,n);case 3:e:{if(hp(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Bf(e,t),ro(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Rr(Error(D(423)),t),t=_u(e,t,r,n,l);break e}else if(r!==l){l=Rr(Error(D(424)),t),t=_u(e,t,r,n,l);break e}else for(vt=Dn(t.stateNode.containerInfo.firstChild),yt=t,ke=!0,$t=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tr(),r===l){t=dn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return Uf(t),e===null&&si(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,ei(r,l)?a=null:s!==null&&ei(r,s)&&(t.flags|=32),pp(e,t),et(e,t,a,n),t.child;case 6:return e===null&&si(t),null;case 13:return mp(e,t,n);case 4:return rc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ot(r,l),Mu(e,t,r,l,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,xe(to,r._currentValue),r._currentValue=a,s!==null)if(Ut(s.value,a)){if(s.children===l.children&&!ct.current){t=dn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=on(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),oi(s.return,n,t),i.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(D(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),oi(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}et(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,jr(t,n),l=_t(l),r=r(l),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,l=Ot(r,t.pendingProps),l=Ot(r.type,l),Tu(e,t,r,l,n);case 15:return dp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ot(r,l),Ls(e,t),t.tag=1,ut(r)?(e=!0,qs(t)):e=!1,jr(t,n),ip(t,r,l),ii(t,r,l,n),di(null,t,r,!0,e,n);case 19:return xp(e,t,n);case 22:return fp(e,t,n)}throw Error(D(156,t.tag))};function Rp(e,t){return lf(e,t)}function rg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new rg(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lg(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oi)return 11;if(e===Ai)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")vc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ir:return Kn(n.children,l,s,t);case Li:a=8,l|=8;break;case Ra:return e=Tt(12,n,t,l|2),e.elementType=Ra,e.lanes=s,e;case za:return e=Tt(13,n,t,l),e.elementType=za,e.lanes=s,e;case Pa:return e=Tt(19,n,t,l),e.elementType=Pa,e.lanes=s,e;case Bd:return Do(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:a=10;break e;case Fd:a=9;break e;case Oi:a=11;break e;case Ai:a=14;break e;case yn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Tt(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Kn(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Do(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Bd,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function wa(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function yc(e,t,n,r,l,s,a,i,c){return e=new sg(e,t,n,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(s),e}function og(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zp(e){if(!e)return Ln;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(ut(n))return zf(e,n,t)}return t}function Pp(e,t,n,r,l,s,a,i,c){return e=yc(n,r,!0,e,l,s,a,i,c),e.context=zp(null),n=e.current,r=tt(),l=zn(n),s=on(r,l),s.callback=t!=null?t:null,_n(n,s,l),e.current.lanes=l,Hl(e,l,r),dt(e,r),e}function _o(e,t,n,r){var l=t.current,s=tt(),a=zn(l);return n=zp(n),t.context===null?t.context=n:t.pendingContext=n,t=on(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(l,t,a),e!==null&&(Bt(e,l,a,s),zs(e,l,a)),a}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wc(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function ag(){return null}var Ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function kc(e){this._internalRoot=e}Ro.prototype.render=kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));_o(e,t,null,null)};Ro.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){_o(null,e,null,null)}),t[cn]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=ff();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bn.length&&t!==0&&t<bn[n].priority;n++);bn.splice(n,0,e),n===0&&hf(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function ig(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var u=fo(a);s.call(u)}}var a=Pp(t,r,e,0,null,!1,!1,"",Uu);return e._reactRootContainer=a,e[cn]=a.current,Ml(e.nodeType===8?e.parentNode:e),Zn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var u=fo(c);i.call(u)}}var c=yc(e,0,!1,null,null,!1,!1,"",Uu);return e._reactRootContainer=c,e[cn]=c.current,Ml(e.nodeType===8?e.parentNode:e),Zn(function(){_o(t,c,n,r)}),c}function Po(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var i=l;l=function(){var c=fo(a);i.call(c)}}_o(t,a,e,l)}else a=ig(n,t,e,l,r);return fo(a)}uf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ol(t.pendingLanes);n!==0&&(Bi(t,n|1),dt(t,De()),!(le&6)&&(zr=De()+500,Fn()))}break;case 13:Zn(function(){var r=un(e,1);if(r!==null){var l=tt();Bt(r,e,1,l)}}),wc(e,1)}};Ui=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=tt();Bt(t,e,134217728,n)}wc(e,134217728)}};df=function(e){if(e.tag===13){var t=zn(e),n=un(e,t);if(n!==null){var r=tt();Bt(n,e,t,r)}wc(e,t)}};ff=function(){return de};pf=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Wa=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=jo(r);if(!l)throw Error(D(90));Hd(r),Oa(r,l)}}}break;case"textarea":Vd(e,n);break;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}};qd=mc;Zd=Zn;var cg={usingClientEntryPoint:!1,Events:[Vl,fr,jo,Gd,Jd,mc]},nl={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ug={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nf(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{wo=vs.inject(ug),Gt=vs}catch(e){}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(t))throw Error(D(200));return og(e,t,null,n)};kt.createRoot=function(e,t){if(!bc(e))throw Error(D(299));var n=!1,r="",l=Ip;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=yc(e,1,!1,null,null,n,!1,r,l),e[cn]=t.current,Ml(e.nodeType===8?e.parentNode:e),new kc(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=nf(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return Zn(e)};kt.hydrate=function(e,t,n){if(!zo(t))throw Error(D(200));return Po(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!bc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=Ip;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Pp(t,null,e,1,n!=null?n:null,l,!1,s,a),e[cn]=t.current,Ml(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ro(t)};kt.render=function(e,t,n){if(!zo(t))throw Error(D(200));return Po(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!zo(e))throw Error(D(40));return e._reactRootContainer?(Zn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};kt.unstable_batchedUpdates=mc;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zo(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Po(e,t,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Id.exports=kt;var yr=Id.exports,Hu=yr;Da.createRoot=Hu.createRoot,Da.hydrateRoot=Hu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}var Cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cn||(Cn={}));const Wu="popstate";function dg(e){e===void 0&&(e={});function t(l,s){let{pathname:a="/",search:i="",hash:c=""}=nr(l.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Si("",{pathname:a,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let a=l.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let c=l.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof s=="string"?s:Op(s))}function r(l,s){Io(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return pg(t,n,r,e)}function Le(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Io(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function fg(){return Math.random().toString(36).substr(2,8)}function Vu(e,t){return{usr:e.state,key:e.key,idx:t}}function Si(e,t,n,r){return n===void 0&&(n=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||fg()})}function Op(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pg(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,i=Cn.Pop,c=null,u=p();u==null&&(u=0,a.replaceState(Ol({},a.state,{idx:u}),""));function p(){return(a.state||{idx:null}).idx}function f(){i=Cn.Pop;let b=p(),x=b==null?null:b-u;u=b,c&&c({action:i,location:v.location,delta:x})}function h(b,x){i=Cn.Push;let m=Si(v.location,b,x);n&&n(m,b),u=p()+1;let g=Vu(m,u),j=v.createHref(m);try{a.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(j)}s&&c&&c({action:i,location:v.location,delta:1})}function y(b,x){i=Cn.Replace;let m=Si(v.location,b,x);n&&n(m,b),u=p();let g=Vu(m,u),j=v.createHref(m);a.replaceState(g,"",j),s&&c&&c({action:i,location:v.location,delta:0})}function k(b){let x=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof b=="string"?b:Op(b);return m=m.replace(/ $/,"%20"),Le(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return i},get location(){return e(l,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Wu,f),c=b,()=>{l.removeEventListener(Wu,f),c=null}},createHref(b){return t(l,b)},createURL:k,encodeLocation(b){let x=k(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(b){return a.go(b)}};return v}var Xu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xu||(Xu={}));function hg(e,t,n){return n===void 0&&(n="/"),mg(e,t,n)}function mg(e,t,n,r){let l=typeof t=="string"?nr(t):t,s=Fp(l.pathname||"/",n);if(s==null)return null;let a=Ap(e);xg(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=Mg(s);i=Ng(a[c],u)}return i}function Ap(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,i)=>{let c={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Yn([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ap(s.children,t,p,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Sg(u,s.index),routesMeta:p})};return e.forEach((s,a)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))l(s,a);else for(let c of $p(s.path))l(s,a,c)}),t}function $p(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=$p(r.join("/")),i=[];return i.push(...a.map(c=>c===""?s:[s,c].join("/"))),l&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function xg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gg=/^:[\w-]+$/,vg=3,yg=2,wg=1,kg=10,bg=-2,Ku=e=>e==="*";function Sg(e,t){let n=e.split("/"),r=n.length;return n.some(Ku)&&(r+=bg),t&&(r+=yg),n.filter(l=>!Ku(l)).reduce((l,s)=>l+(gg.test(s)?vg:s===""?wg:kg),r)}function jg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Ng(e,t,n){let{routesMeta:r}=e,l={},s="/",a=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=Cg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),h=c.route;if(!f)return null;Object.assign(l,f.params),a.push({params:l,pathname:Yn([s,f.pathname]),pathnameBase:Ig(Yn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Yn([s,f.pathnameBase]))}return a}function Cg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Eg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((u,p,f)=>{let{paramName:h,isOptional:y}=p;if(h==="*"){let v=i[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const k=i[f];return y&&!k?u[h]=void 0:u[h]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Eg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Io(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Mg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Io(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=e=>Tg.test(e);function _g(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?nr(e):e,s;if(n)if(Dg(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Io(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Yu(n.substring(1),"/"):s=Yu(n,t)}else s=t;return{pathname:s,search:Lg(r),hash:Og(l)}}function Yu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ka(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zg(e,t){let n=Rg(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pg(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=nr(e):(l=Ol({},e),Le(!l.pathname||!l.pathname.includes("?"),ka("?","pathname","search",l)),Le(!l.pathname||!l.pathname.includes("#"),ka("#","pathname","hash",l)),Le(!l.search||!l.search.includes("#"),ka("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=_g(l,i),u=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),Ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Og=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ag(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bp=["post","put","patch","delete"];new Set(Bp);const $g=["get",...Bp];new Set($g);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}const Sc=d.createContext(null),Fg=d.createContext(null),Lo=d.createContext(null),Oo=d.createContext(null),rr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Up=d.createContext(null);function Ao(){return d.useContext(Oo)!=null}function Hp(){return Ao()||Le(!1),d.useContext(Oo).location}function Wp(e){d.useContext(Lo).static||d.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=d.useContext(rr);return e?Zg():Bg()}function Bg(){Ao()||Le(!1);let e=d.useContext(Sc),{basename:t,future:n,navigator:r}=d.useContext(Lo),{matches:l}=d.useContext(rr),{pathname:s}=Hp(),a=JSON.stringify(zg(l,n.v7_relativeSplatPath)),i=d.useRef(!1);return Wp(()=>{i.current=!0}),d.useCallback(function(u,p){if(p===void 0&&(p={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=Pg(u,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,a,s,e])}function Vp(){let{matches:e}=d.useContext(rr),t=e[e.length-1];return t?t.params:{}}function Ug(e,t){return Hg(e,t)}function Hg(e,t,n,r){Ao()||Le(!1);let{navigator:l}=d.useContext(Lo),{matches:s}=d.useContext(rr),a=s[s.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Hp(),p;if(t){var f;let b=typeof t=="string"?nr(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Le(!1),p=b}else p=u;let h=p.pathname||"/",y=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=hg(e,{pathname:y}),v=Yg(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Yn([c,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Yn([c,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&v?d.createElement(Oo.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Cn.Pop}},v):v}function Wg(){let e=qg(),t=Ag(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const Vg=d.createElement(Wg,null);class Xg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(rr.Provider,{value:this.props.routeContext},d.createElement(Up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kg(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(Sc);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(rr.Provider,{value:t},r)}function Yg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||Le(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:h,errors:y}=n,k=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||k){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((p,f,h)=>{let y,k=!1,v=null,b=null;n&&(y=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||Vg,c&&(u<0&&h===0?(ev("route-fallback"),k=!0,b=null):u===h&&(k=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return y?g=v:k?g=b:f.route.Component?g=d.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,d.createElement(Kg,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Xg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Xp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xp||{}),Kp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kp||{});function Qg(e){let t=d.useContext(Sc);return t||Le(!1),t}function Gg(e){let t=d.useContext(Fg);return t||Le(!1),t}function Jg(e){let t=d.useContext(rr);return t||Le(!1),t}function Yp(e){let t=Jg(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function qg(){var e;let t=d.useContext(Up),n=Gg(),r=Yp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Zg(){let{router:e}=Qg(Xp.UseNavigateStable),t=Yp(Kp.UseNavigateStable),n=d.useRef(!1);return Wp(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Al({fromRouteId:t},s)))},[e,t])}const Qu={};function ev(e,t,n){Qu[e]||(Qu[e]=!0)}function tv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ze(e){Le(!1)}function nv(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Cn.Pop,navigator:s,static:a=!1,future:i}=e;Ao()&&Le(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:s,static:a,future:Al({v7_relativeSplatPath:!1},i)}),[c,i,s,a]);typeof r=="string"&&(r=nr(r));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:k="default"}=r,v=d.useMemo(()=>{let b=Fp(p,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:k},navigationType:l}},[c,p,f,h,y,k,l]);return v==null?null:d.createElement(Lo.Provider,{value:u},d.createElement(Oo.Provider,{children:n,value:v}))}function rv(e){let{children:t,location:n}=e;return Ug(ji(t),n)}new Promise(()=>{});function ji(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,ji(r.props.children,s));return}r.type!==Ze&&Le(!1),!r.props.index||!r.props.children||Le(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ji(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lv="6";try{window.__reactRouterVersion=lv}catch(e){}const sv="startTransition",Gu=em[sv];function ov(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=dg({window:l,v5Compat:!0}));let a=s.current,[i,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},p=d.useCallback(f=>{u&&Gu?Gu(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>a.listen(p),[a,p]),d.useEffect(()=>tv(r),[r]),d.createElement(nv,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var Ju;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ju||(Ju={}));var qu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qu||(qu={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:a,...i},c)=>d.createElement("svg",{ref:c,...iv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Qp("lucide",l),...i},[...a.map(([u,p])=>d.createElement(u,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(e,t)=>{const n=d.forwardRef(({className:r,...l},s)=>d.createElement(cv,{ref:s,iconNode:t,className:Qp(`lucide-${av(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=q("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=q("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=q("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=q("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=q("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=q("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=q("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nh="";async function ed(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${nh}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function F(e,t={}){let n=await ed();const r=`${nh}${e}`,l=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let s=await l(n);if(s.status===401&&(localStorage.removeItem("whisper_token"),n=await ed(),s=await l(n)),s.status===204)return null;if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.detail||` (${s.status})`)}return s.json()}const Tv="WhisperMiniDB",Dv=1,Ir="avatars",rh=()=>new Promise((e,t)=>{const n=indexedDB.open(Tv,Dv);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Ir)||r.createObjectStore(Ir,{keyPath:"key"})}}),Ni=async(e,t)=>{const n=await rh();return new Promise((r,l)=>{const s=n.transaction([Ir],"readwrite");s.objectStore(Ir).put({key:e,base64:t}),s.oncomplete=()=>r(),s.onerror=()=>l(s.error)})},Gl=async e=>{const t=await rh();return new Promise((n,r)=>{const s=t.transaction([Ir],"readonly").objectStore(Ir).get(e);s.onsuccess=()=>{var a;return n(((a=s.result)==null?void 0:a.base64)||null)},s.onerror=()=>r(s.error)})},ot={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function or({icon:e,label:t,desc:n,disabled:r,onClick:l,badge:s}){const[a,i]=d.useState(!1),c=()=>!r&&i(!0),u=()=>{i(!1),r||l==null||l()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:ot.bg,boxShadow:a?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:a?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:c,onTouchEnd:u,onMouseDown:c,onMouseUp:u,onMouseLeave:()=>i(!1),children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),s&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full",style:{background:"#ef4444",border:"2px solid var(--bg)"}})]}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:ot.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:ot.textMuted},children:n})]})]})}function td({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:ot.textMuted},children:e})}function _v(){const e=zt(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(u){return null}}),[r,l]=d.useState(null),[s,a]=d.useState(!1);d.useEffect(()=>{F("/api/user/profile").then(u=>{n(u),localStorage.setItem("whisper_profile",JSON.stringify(u))}).catch(()=>{}),Gl("user-avatar").then(u=>{u&&l(u)}).catch(function(){}),F("/api/diary/unread-count").then(u=>{u.count>0&&a(!0)}).catch(()=>{})},[]);const i=(t==null?void 0:t.nickname)||"",c=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:ot.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:ot.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:ot.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ot.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:ot.text},children:["@",i]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:ot.textMuted},children:['"',c,'"']})]}),o.jsx(Kl,{size:16,style:{color:ot.textMuted,flexShrink:0}})]}),o.jsx(td,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(or,{icon:o.jsx(dv,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(or,{icon:o.jsx(fv,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(or,{icon:o.jsx(Gp,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(or,{icon:o.jsx(Nv,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(td,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(or,{icon:o.jsx(uv,{size:18,color:"white"}),label:"",desc:"",badge:s,onClick:()=>e("/diary")}),o.jsx(or,{icon:o.jsx(Cv,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:ot.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(yv,{size:32,fill:ot.accent,style:{color:ot.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const pe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},nd={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"}};function Rv({activation:e}){const t=nd[e]||nd.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const ys=80;function zv({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/ys);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-ys,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/ys)}`),f.current=v},u=()=>{l.current.dragging=!1,l.current.current<-40?s(-ys):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Br,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Pv({book:e,onTap:t}){var n;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:pe.bg,userSelect:"none"},onClick:()=>t(e),children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:pe.bg},children:o.jsx(qp,{size:18,style:{color:pe.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:pe.text},children:e.name}),o.jsx(Rv,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:pe.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,l)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:pe.accentDark},children:r},l)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:pe.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Kl,{size:16,style:{color:pe.textMuted,flexShrink:0}})]})}function Iv({folder:e,books:t,onDelete:n,onTap:r}){const[l,s]=d.useState(!0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>s(!l),children:[l?o.jsx($r,{size:14,style:{color:pe.textMuted}}):o.jsx(Kl,{size:14,style:{color:pe.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:pe.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:pe.textMuted},children:t.length})]}),l&&t.map(a=>o.jsx(zv,{onDelete:()=>n(a),children:o.jsx(Pv,{book:a,onTap:r})},a.id))]})}function Lv(){const e=zt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,c]=d.useState(null),u=k=>{c(k),setTimeout(()=>c(null),2e3)},p=()=>{l(!0),F("/api/world-books").then(k=>n(k.world_books||[])).catch(()=>u("")).finally(()=>l(!1))};d.useEffect(()=>{p()},[]);const f=async k=>{a(null);try{await F(`/api/world-books/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),u("")}catch(v){u("")}},h={};for(const k of t){const v=k.folder||"";h[v]||(h[v]=[]),h[v].push(k)}const y=Object.keys(h).sort((k,v)=>k===""?1:v===""?-1:k.localeCompare(v));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:pe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:pe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:pe.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Fr,{size:20,style:{color:pe.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:pe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(qp,{size:36,style:{color:pe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:pe.textMuted},children:" + "})]}):y.map(k=>o.jsx(Iv,{folder:k,books:h[k],onDelete:v=>a(v),onTap:v=>e(`/world-books/${v.id}`)},k))}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:pe.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:pe.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:pe.textMuted},children:["",s.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:pe.bg,boxShadow:"var(--card-shadow-sm)",color:pe.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>f(s),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const X={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function Ov({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:X.bg,color:X.text}})]})}function Av({value:e,onChange:t,folders:n}){const[r,l]=d.useState(!1),s=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:X.bg,color:X.text}}),r&&s.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:X.bg,boxShadow:"var(--card-shadow)"},children:s.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:X.text},onMouseDown:()=>{t(a),l(!1)},children:a},a))})]})}function $v({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""},{value:"message_mode",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:X.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?X.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?X.accentDark:X.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}function Fv({selected:e,onChange:t}){const n=[{value:"long",label:""},{value:"short",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:X.bg,minHeight:48},children:n.map(r=>{const l=e===r.value;return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:l?X.accentDark:X.bg,color:l?"white":X.textMuted,boxShadow:l?"none":"var(--card-shadow-sm)"},onClick:()=>t(r.value),children:r.label},r.value)})})]})}const Bv=[{value:"happy",label:""},{value:"sad",label:""},{value:"angry",label:""},{value:"anxious",label:""},{value:"tired",label:""},{value:"emo",label:""},{value:"flirty",label:""},{value:"proud",label:""},{value:"calm",label:""}];function Uv({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(l=>l!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:X.bg,minHeight:48},children:Bv.map(r=>{const l=e.includes(r.value);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:l?X.accentDark:X.bg,color:l?"white":X.textMuted,boxShadow:l?"none":"var(--card-shadow-sm)"},onClick:()=>n(r.value),children:r.label},r.value)})})]})}function Hv({keywords:e,onChange:t}){const[n,r]=d.useState(""),l=()=>{const s=n.trim();if(!s||e.includes(s)){r("");return}t([...e,s]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:X.bg,minHeight:48},children:[e.map(s=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:X.accentDark},children:[s,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==s)),children:o.jsx(Ql,{size:10})})]},s)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),onKeyDown:s=>{(s.key==="Enter"||s.key===",")&&(s.preventDefault(),l())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:X.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:X.accentDark},onClick:l,children:o.jsx(Fr,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:X.textMuted},children:" Enter "})]})}function Wv({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:X.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Pr,{size:18,style:{color:X.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:X.bg,color:X.text},placeholder:"..."})]})}function rd(){const e=zt(),{id:t}=Vp(),n=!t,[r,l]=d.useState(""),[s,a]=d.useState(""),[i,c]=d.useState("always"),[u,p]=d.useState([]),[f,h]=d.useState("long"),[y,k]=d.useState(""),[v,b]=d.useState(!1),[x,m]=d.useState(!n),[g,j]=d.useState(null),[w,C]=d.useState([]),[S,E]=d.useState(!1),_=d.useRef(null),R=T=>{var se;const U=(se=T.target.files)==null?void 0:se[0];if(!U)return;const Y=new FileReader;Y.onload=W=>k(W.target.result||""),Y.readAsText(U),T.target.value=""},P=T=>{j(T),setTimeout(()=>j(null),2e3)};d.useEffect(()=>{F("/api/world-books").then(T=>{const U=T.world_books||[];if(C([...new Set(U.map(Y=>Y.folder).filter(Boolean))]),!n){const Y=U.find(se=>String(se.id)===String(t));Y&&(l(Y.name),a(Y.folder||""),c(Y.activation),p(Y.keywords||[]),h(Y.message_mode||"long"),k(Y.content))}}).catch(()=>P("")).finally(()=>m(!1))},[t,n]);const G=async()=>{if(!r.trim()){P("");return}b(!0);try{const T={name:r.trim(),folder:s.trim()||null,activation:i,keywords:i==="keyword"||i==="mood"?u:[],message_mode:i==="message_mode"?f:null,content:y};n?(await F("/api/world-books",{method:"POST",body:T}),P("")):(await F(`/api/world-books/${t}`,{method:"PUT",body:T}),P(""))}catch(T){P(": "+T.message)}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:X.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(St,{size:22,style:{color:X.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:X.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:X.bg,boxShadow:v?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:G,disabled:v,children:o.jsx(Fo,{size:18,style:{color:X.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:x?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:X.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:X.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Ov,{label:"",value:r,onChange:l,placeholder:""}),o.jsx(Av,{value:s,onChange:a,folders:w}),o.jsx($v,{value:i,onChange:c}),i==="keyword"&&o.jsx(Hv,{keywords:u,onChange:p}),i==="mood"&&o.jsx(Uv,{selected:u,onChange:p}),i==="message_mode"&&o.jsx(Fv,{selected:f,onChange:h})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:X.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:X.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:X.bg},onClick:()=>{var T;return(T=_.current)==null?void 0:T.click()},title:"",children:o.jsx($o,{size:13,style:{color:X.textMuted}})}),o.jsx("input",{ref:_,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:R}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:X.bg},onClick:()=>E(!0),title:"",children:o.jsx(Yl,{size:13,style:{color:X.accentDark}})})]})]}),o.jsx("textarea",{value:y,onChange:T=>k(T.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:X.bg,color:X.text}})]})]})}),S&&o.jsx(Wv,{value:y,onChange:k,onClose:()=>E(!1)}),g&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:g})})]})}const Te={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},ws=80;function Vv({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/ws);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},c=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-ws,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/ws)}`),f.current=v},u=()=>{l.current.dragging=!1,l.current.current<-40?s(-ws):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Te.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Br,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:c,onTouchEnd:u,children:e})]})}function Xv({assistant:e,localAvatar:t,onTap:n}){var l;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:Te.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:Te.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:Te.accentDark},children:((l=e.name)==null?void 0:l[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:Te.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:Te.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Kl,{size:16,style:{color:Te.textMuted,flexShrink:0}})]})}function Kv(){const e=zt(),[t,n]=d.useState([]),[r,l]=d.useState({}),[s,a]=d.useState(!0),[i,c]=d.useState(null),[u,p]=d.useState(null),f=k=>{p(k),setTimeout(()=>p(null),2e3)},h=()=>{a(!0),F("/api/assistants").then(async k=>{const v=k.assistants||[];n(v);const b={};await Promise.all(v.map(async x=>{const m=await Gl(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),l(b)}).catch(()=>f("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const y=async k=>{c(null);try{await F(`/api/assistants/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),f("")}catch(v){f("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Te.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Te.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:Te.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Te.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Te.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Fr,{size:20,style:{color:Te.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Te.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Gp,{size:36,style:{color:Te.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:Te.textMuted},children:" + "})]}):t.map(k=>o.jsx(Vv,{onDelete:()=>c(k),children:o.jsx(Xv,{assistant:k,localAvatar:r[k.id],onTap:v=>e(`/assistants/${v.id}`)})},k.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>c(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:Te.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:Te.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:Te.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:Te.bg,boxShadow:"var(--card-shadow-sm)",color:Te.text},onClick:()=>c(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>y(i),children:""})]})]})}),u&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:u})})]})}function Yv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(l=>l(r))},t)}const Bo=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Ur(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Nc(e){return"nodeType"in e}function lt(e){var t,n;return e?Ur(e)?e:Nc(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Cc(e){const{Document:t}=lt(e);return e instanceof t}function Jl(e){return Ur(e)?!1:e instanceof lt(e).HTMLElement}function lh(e){return e instanceof lt(e).SVGElement}function Hr(e){return e?Ur(e)?e.document:Nc(e)?Cc(e)?e:Jl(e)||lh(e)?e.ownerDocument:document:document:document}const Ht=Bo?d.useLayoutEffect:d.useEffect;function Uo(e){const t=d.useRef(e);return Ht(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function Qv(){const e=d.useRef(null),t=d.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Fl(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Ht(()=>{n.current!==e&&(n.current=e)},t),n}function ql(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function po(e){const t=Uo(e),n=d.useRef(null),r=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,r]}function ho(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let ba={};function Zl(e,t){return d.useMemo(()=>{if(t)return t;const n=ba[e]==null?0:ba[e]+1;return ba[e]=n,e+"-"+n},[e,t])}function sh(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[c,u]of i){const p=s[c];p!=null&&(s[c]=p+e*u)}return s},{...t})}}const Cr=sh(1),mo=sh(-1);function Gv(e){return"clientX"in e&&"clientY"in e}function Ho(e){if(!e)return!1;const{KeyboardEvent:t}=lt(e.target);return t&&e instanceof t}function Jv(e){if(!e)return!1;const{TouchEvent:t}=lt(e.target);return t&&e instanceof t}function xo(e){if(Jv(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Gv(e)?{x:e.clientX,y:e.clientY}:null}const On=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[On.Translate.toString(e),On.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ld="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function qv(e){return e.matches(ld)?e:e.querySelector(ld)}const Zv={display:"none"};function ey(e){let{id:t,value:n}=e;return ve.createElement("div",{id:t,style:Zv},n)}function ty(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function ny(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const oh=d.createContext(null);function ry(e){const t=d.useContext(oh);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ly(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:l,event:s}=r;e.forEach(a=>{var i;return(i=a[l])==null?void 0:i.call(a,s)})},[e]),t]}const sy={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},oy={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ay(e){let{announcements:t=oy,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=sy}=e;const{announce:s,announcement:a}=ny(),i=Zl("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),ry(d.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:y}=f;t.onDragMove&&s(t.onDragMove({active:h,over:y}))},onDragOver(f){let{active:h,over:y}=f;s(t.onDragOver({active:h,over:y}))},onDragEnd(f){let{active:h,over:y}=f;s(t.onDragEnd({active:h,over:y}))},onDragCancel(f){let{active:h,over:y}=f;s(t.onDragCancel({active:h,over:y}))}}),[s,t])),!c)return null;const p=ve.createElement(ve.Fragment,null,ve.createElement(ey,{id:r,value:l.draggable}),ve.createElement(ty,{id:i,announcement:a}));return n?yr.createPortal(p,n):p}var Pe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Pe||(Pe={}));function go(){}function sd(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function iy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Wt=Object.freeze({x:0,y:0});function cy(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uy(e,t){const n=xo(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function dy(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function fy(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function py(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function od(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const hy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=od(t,t.left,t.top),s=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const u=cy(od(c),l);s.push({id:i,data:{droppableContainer:a,value:u}})}}return s.sort(dy)};function my(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=l-r,i=s-n;if(r<l&&n<s){const c=t.width*t.height,u=e.width*e.height,p=a*i,f=p/(c+u-p);return Number(f.toFixed(4))}return 0}const xy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const c=my(i,t);c>0&&l.push({id:a,data:{droppableContainer:s,value:c}})}}return l.sort(fy)};function gy(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ah(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wt}function vy(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),s=1;s<r;s++)l[s-1]=arguments[s];return l.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const yy=vy(1);function ih(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function wy(e,t,n){const r=ih(t);if(!r)return e;const{scaleX:l,scaleY:s,x:a,y:i}=r,c=e.left-a-(1-l)*parseFloat(n),u=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,f=s?e.height/s:e.height;return{width:p,height:f,top:u,right:c+p,bottom:u+f,left:c}}const ky={ignoreTransform:!1};function Wr(e,t){t===void 0&&(t=ky);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:p}=lt(e).getComputedStyle(e);u&&(n=wy(n,u,p))}const{top:r,left:l,width:s,height:a,bottom:i,right:c}=n;return{top:r,left:l,width:s,height:a,bottom:i,right:c}}function ad(e){return Wr(e,{ignoreTransform:!0})}function by(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Sy(e,t){return t===void 0&&(t=lt(e).getComputedStyle(e)),t.position==="fixed"}function jy(e,t){t===void 0&&(t=lt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const s=t[l];return typeof s=="string"?n.test(s):!1})}function Ec(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(Cc(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Jl(l)||lh(l)||n.includes(l))return n;const s=lt(e).getComputedStyle(l);return l!==e&&jy(l,s)&&n.push(l),Sy(l,s)?n:r(l.parentNode)}return e?r(e):n}function ch(e){const[t]=Ec(e,1);return t!=null?t:null}function Sa(e){return!Bo||!e?null:Ur(e)?e:Nc(e)?Cc(e)||e===Hr(e).scrollingElement?window:Jl(e)?e:null:null}function uh(e){return Ur(e)?e.scrollX:e.scrollLeft}function dh(e){return Ur(e)?e.scrollY:e.scrollTop}function Ci(e){return{x:uh(e),y:dh(e)}}var $e;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($e||($e={}));function fh(e){return!Bo||!e?!1:e===document.scrollingElement}function ph(e){const t={x:0,y:0},n=fh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:l,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const Ny={x:.2,y:.2};function Cy(e,t,n,r,l){let{top:s,left:a,right:i,bottom:c}=n;r===void 0&&(r=10),l===void 0&&(l=Ny);const{isTop:u,isBottom:p,isLeft:f,isRight:h}=ph(e),y={x:0,y:0},k={x:0,y:0},v={height:t.height*l.y,width:t.width*l.x};return!u&&s<=t.top+v.height?(y.y=$e.Backward,k.y=r*Math.abs((t.top+v.height-s)/v.height)):!p&&c>=t.bottom-v.height&&(y.y=$e.Forward,k.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!h&&i>=t.right-v.width?(y.x=$e.Forward,k.x=r*Math.abs((t.right-v.width-i)/v.width)):!f&&a<=t.left+v.width&&(y.x=$e.Backward,k.x=r*Math.abs((t.left+v.width-a)/v.width)),{direction:y,speed:k}}function Ey(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function hh(e){return e.reduce((t,n)=>Cr(t,Ci(n)),Wt)}function My(e){return e.reduce((t,n)=>t+uh(n),0)}function Ty(e){return e.reduce((t,n)=>t+dh(n),0)}function mh(e,t){if(t===void 0&&(t=Wr),!e)return;const{top:n,left:r,bottom:l,right:s}=t(e);ch(e)&&(l<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Dy=[["x",["left","right"],My],["y",["top","bottom"],Ty]];class Mc{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ec(n),l=hh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,i]of Dy)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=i(r),p=l[s]-u;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function _y(e){const{EventTarget:t}=lt(e);return e instanceof t?e:Hr(e)}function ja(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ct;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ct||(Ct={}));function id(e){e.preventDefault()}function Ry(e){e.stopPropagation()}var ce;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ce||(ce={}));const xh={start:[ce.Space,ce.Enter],cancel:[ce.Esc],end:[ce.Space,ce.Enter,ce.Tab]},zy=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ce.Right:return{...n,x:n.x+25};case ce.Left:return{...n,x:n.x-25};case ce.Down:return{...n,y:n.y+25};case ce.Up:return{...n,y:n.y-25}}};class gh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gl(Hr(n)),this.windowListeners=new gl(lt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ct.Resize,this.handleCancel),this.windowListeners.add(Ct.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ct.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&mh(r),n(Wt)}handleKeyDown(t){if(Ho(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:s=xh,coordinateGetter:a=zy,scrollBehavior:i="smooth"}=l,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,p=u?{x:u.left,y:u.top}:Wt;this.referenceCoordinates||(this.referenceCoordinates=p);const f=a(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=mo(f,p),y={x:0,y:0},{scrollableAncestors:k}=r.current;for(const v of k){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:j,maxScroll:w,minScroll:C}=ph(v),S=Ey(v),E={x:Math.min(b===ce.Right?S.right-S.width/2:S.right,Math.max(b===ce.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===ce.Down?S.bottom-S.height/2:S.bottom,Math.max(b===ce.Down?S.top:S.top+S.height/2,f.y))},_=b===ce.Right&&!m||b===ce.Left&&!g,R=b===ce.Down&&!j||b===ce.Up&&!x;if(_&&E.x!==f.x){const P=v.scrollLeft+h.x,G=b===ce.Right&&P<=w.x||b===ce.Left&&P>=C.x;if(G&&!h.y){v.scrollTo({left:P,behavior:i});return}G?y.x=v.scrollLeft-P:y.x=b===ce.Right?v.scrollLeft-w.x:v.scrollLeft-C.x,y.x&&v.scrollBy({left:-y.x,behavior:i});break}else if(R&&E.y!==f.y){const P=v.scrollTop+h.y,G=b===ce.Down&&P<=w.y||b===ce.Up&&P>=C.y;if(G&&!h.x){v.scrollTo({top:P,behavior:i});return}G?y.y=v.scrollTop-P:y.y=b===ce.Down?v.scrollTop-w.y:v.scrollTop-C.y,y.y&&v.scrollBy({top:-y.y,behavior:i});break}}this.handleMove(t,Cr(mo(f,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=xh,onActivation:l}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function cd(e){return!!(e&&"distance"in e)}function ud(e){return!!(e&&"delay"in e)}class Tc{constructor(t,n,r){var l;r===void 0&&(r=_y(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Hr(a),this.documentListeners=new gl(this.document),this.listeners=new gl(r),this.windowListeners=new gl(lt(a)),this.initialCoordinates=(l=xo(s))!=null?l:Wt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ct.Resize,this.handleCancel),this.windowListeners.add(Ct.DragStart,id),this.windowListeners.add(Ct.VisibilityChange,this.handleCancel),this.windowListeners.add(Ct.ContextMenu,id),this.documentListeners.add(Ct.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ud(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(cd(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ct.Click,Ry,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ct.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!l)return;const c=(n=xo(t))!=null?n:Wt,u=mo(l,c);if(!r&&i){if(cd(i)){if(i.tolerance!=null&&ja(u,i.tolerance))return this.handleCancel();if(ja(u,i.distance))return this.handleStart()}if(ud(i)&&ja(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Py={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Dc extends Tc{constructor(t){const{event:n}=t,r=Hr(n.target);super(t,Py,r)}}Dc.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Iy={move:{name:"mousemove"},end:{name:"mouseup"}};var Ei;(function(e){e[e.RightClick=2]="RightClick"})(Ei||(Ei={}));class Ly extends Tc{constructor(t){super(t,Iy,Hr(t.event.target))}}Ly.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ei.RightClick?!1:(r==null||r({event:n}),!0)}}];const Na={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vh extends Tc{constructor(t){super(t,Na)}static setup(){return window.addEventListener(Na.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Na.move.name,t)};function t(){}}}vh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r==null||r({event:n}),!0)}}];var vl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vl||(vl={}));var vo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(vo||(vo={}));function Oy(e){let{acceleration:t,activator:n=vl.Pointer,canScroll:r,draggingRect:l,enabled:s,interval:a=5,order:i=vo.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:p,delta:f,threshold:h}=e;const y=$y({delta:f,disabled:!s}),[k,v]=Qv(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case vl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case vl.DraggableRect:return l}},[n,l,c]),g=d.useRef(null),j=d.useCallback(()=>{const C=g.current;if(!C)return;const S=b.current.x*x.current.x,E=b.current.y*x.current.y;C.scrollBy(S,E)},[]),w=d.useMemo(()=>i===vo.TreeOrder?[...u].reverse():u,[i,u]);d.useEffect(()=>{if(!s||!u.length||!m){v();return}for(const C of w){if((r==null?void 0:r(C))===!1)continue;const S=u.indexOf(C),E=p[S];if(!E)continue;const{direction:_,speed:R}=Cy(C,E,m,t,h);for(const P of["x","y"])y[P][_[P]]||(R[P]=0,_[P]=0);if(R.x>0||R.y>0){v(),g.current=C,k(j,a),b.current=R,x.current=_;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,j,r,v,s,a,JSON.stringify(m),JSON.stringify(y),k,u,w,p,JSON.stringify(h)])}const Ay={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function $y(e){let{delta:t,disabled:n}=e;const r=ho(t);return ql(l=>{if(n||!r||!l)return Ay;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[$e.Backward]:l.x[$e.Backward]||s.x===-1,[$e.Forward]:l.x[$e.Forward]||s.x===1},y:{[$e.Backward]:l.y[$e.Backward]||s.y===-1,[$e.Forward]:l.y[$e.Forward]||s.y===1}}},[n,t,r])}function Fy(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ql(l=>{var s;return t==null?null:(s=r!=null?r:l)!=null?s:null},[r,t])}function By(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,s=l.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Bl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bl||(Bl={}));var Mi;(function(e){e.Optimized="optimized"})(Mi||(Mi={}));const dd=new Map;function Uy(e,t){let{dragging:n,dependencies:r,config:l}=t;const[s,a]=d.useState(null),{frequency:i,measure:c,strategy:u}=l,p=d.useRef(e),f=b(),h=Fl(f),y=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),k=d.useRef(null),v=ql(x=>{if(f&&!n)return dd;if(!x||x===dd||p.current!==e||s!=null){const m=new Map;for(let g of e){if(!g)continue;if(s&&s.length>0&&!s.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const j=g.node.current,w=j?new Mc(c(j),j):null;g.rect.current=w,w&&m.set(g.id,w)}return m}return x},[e,s,n,f,c]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{f||y()},[n,f]),d.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),d.useEffect(()=>{f||typeof i!="number"||k.current!==null||(k.current=setTimeout(()=>{y(),k.current=null},i))},[i,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function b(){switch(u){case Bl.Always:return!1;case Bl.BeforeDragging:return n;default:return!n}}}function _c(e,t){return ql(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Hy(e,t){return _c(e,t)}function Wy(e){let{callback:t,disabled:n}=e;const r=Uo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Wo(e){let{callback:t,disabled:n}=e;const r=Uo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Vy(e){return new Mc(Wr(e),e)}function fd(e,t,n){t===void 0&&(t=Vy);const[r,l]=d.useState(null);function s(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c!=null?c:n)!=null?u:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const a=Wy({callback(c){if(e)for(const u of c){const{type:p,target:f}=u;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),i=Wo({callback:s});return Ht(()=>{s(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function Xy(e){const t=_c(e);return ah(e,t)}const pd=[];function Ky(e){const t=d.useRef(e),n=ql(r=>e?r&&r!==pd&&e&&t.current&&e.parentNode===t.current.parentNode?r:Ec(e):pd,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Yy(e){const[t,n]=d.useState(null),r=d.useRef(e),l=d.useCallback(s=>{const a=Sa(s.target);a&&n(i=>i?(i.set(a,Ci(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(c=>{const u=Sa(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Ci(u)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(c=>{const u=Sa(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Cr(s,a),Wt):hh(e):Wt,[e,t])}function hd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Wt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?mo(e,n.current):Wt}function Qy(e){d.useEffect(()=>{if(!Bo)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Gy(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:s}=r;return n[l]=a=>{s(a,t)},n},{}),[e,t])}function yh(e){return d.useMemo(()=>e?by(e):null,[e])}const md=[];function Jy(e,t){t===void 0&&(t=Wr);const[n]=e,r=yh(n?lt(n):null),[l,s]=d.useState(md);function a(){s(()=>e.length?e.map(c=>fh(c)?r:new Mc(t(c),c)):md)}const i=Wo({callback:a});return Ht(()=>{i==null||i.disconnect(),a(),e.forEach(c=>i==null?void 0:i.observe(c))},[e]),l}function wh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Jl(t)?t:e}function qy(e){let{measure:t}=e;const[n,r]=d.useState(null),l=d.useCallback(u=>{for(const{target:p}of u)if(Jl(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Wo({callback:l}),a=d.useCallback(u=>{const p=wh(u);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[i,c]=po(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:c}),[n,i,c])}const Zy=[{sensor:Dc,options:{}},{sensor:gh,options:{}}],e1={current:{}},Fs={draggable:{measure:ad},droppable:{measure:ad,strategy:Bl.WhileDragging,frequency:Mi.Optimized},dragOverlay:{measure:Wr}};class yl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const t1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:go},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fs,measureDroppableContainers:go,windowRect:null,measuringScheduled:!1},kh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:go,draggableNodes:new Map,over:null,measureDroppableContainers:go},es=d.createContext(kh),bh=d.createContext(t1);function n1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yl}}}function r1(e,t){switch(t.type){case Pe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Pe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Pe.DragEnd:case Pe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pe.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new yl(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case Pe.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new yl(e.droppable.containers);return a.set(n,{...s,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case Pe.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const s=new yl(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function l1(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=d.useContext(es),s=ho(r),a=ho(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!Ho(s)||document.activeElement===s.target)return;const i=l.get(a);if(!i)return;const{activatorNode:c,node:u}=i;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const p of[c.current,u.current]){if(!p)continue;const f=qv(p);if(f){f.focus();break}}})}},[r,t,l,a,s]),null}function Sh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,s)=>s({transform:l,...r}),n):n}function s1(e){return d.useMemo(()=>({draggable:{...Fs.draggable,...e==null?void 0:e.draggable},droppable:{...Fs.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Fs.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function o1(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const s=d.useRef(!1),{x:a,y:i}=typeof l=="boolean"?{x:l,y:l}:l;Ht(()=>{if(!a&&!i||!t){s.current=!1;return}if(s.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const p=n(u),f=ah(p,r);if(a||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=ch(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,i,r,n])}const Vo=d.createContext({...Wt,scaleX:1,scaleY:1});var kn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(kn||(kn={}));const a1=d.memo(function(t){var n,r,l,s;let{id:a,accessibility:i,autoScroll:c=!0,children:u,sensors:p=Zy,collisionDetection:f=xy,measuring:h,modifiers:y,...k}=t;const v=d.useReducer(r1,void 0,n1),[b,x]=v,[m,g]=ly(),[j,w]=d.useState(kn.Uninitialized),C=j===kn.Initialized,{draggable:{active:S,nodes:E,translate:_},droppable:{containers:R}}=b,P=S!=null?E.get(S):null,G=d.useRef({initial:null,translated:null}),T=d.useMemo(()=>{var Ye;return S!=null?{id:S,data:(Ye=P==null?void 0:P.data)!=null?Ye:e1,rect:G}:null},[S,P]),U=d.useRef(null),[Y,se]=d.useState(null),[W,z]=d.useState(null),A=Fl(k,Object.values(k)),B=Zl("DndDescribedBy",a),ee=d.useMemo(()=>R.getEnabled(),[R]),Q=s1(h),{droppableRects:re,measureDroppableContainers:ie,measuringScheduled:be}=Uy(ee,{dragging:C,dependencies:[_.x,_.y],config:Q.droppable}),oe=Fy(E,S),he=d.useMemo(()=>W?xo(W):null,[W]),_e=Lh(),Be=Hy(oe,Q.draggable.measure);o1({activeNode:S!=null?E.get(S):null,config:_e.layoutShiftCompensation,initialRect:Be,measure:Q.draggable.measure});const te=fd(oe,Q.draggable.measure,Be),ft=fd(oe?oe.parentElement:null),Ue=d.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pt=R.getNodeFor((n=Ue.current.over)==null?void 0:n.id),we=qy({measure:Q.dragOverlay.measure}),st=(r=we.nodeRef.current)!=null?r:oe,me=C?(l=we.rect)!=null?l:te:null,Pt=!!(we.nodeRef.current&&we.rect),pn=Xy(Pt?null:te),N=yh(st?lt(st):null),I=Ky(C?pt!=null?pt:oe:null),K=Jy(I),Me=Sh(y,{transform:{x:_.x-pn.x,y:_.y-pn.y,scaleX:1,scaleY:1},activatorEvent:W,active:T,activeNodeRect:te,containerNodeRect:ft,draggingNodeRect:me,over:Ue.current.over,overlayNodeRect:we.rect,scrollableAncestors:I,scrollableAncestorRects:K,windowRect:N}),It=he?Cr(he,_):null,Oe=Yy(I),Vr=hd(Oe),ts=hd(Oe,[te]),qt=Cr(Me,Vr),Zt=me?yy(me,Me):null,hn=T&&Zt?f({active:T,collisionRect:Zt,droppableRects:re,droppableContainers:ee,pointerCoordinates:It}):null,L=py(hn,"id"),[ae,ne]=d.useState(null),Ce=Pt?Me:Cr(Me,ts),jt=gy(Ce,(s=ae==null?void 0:ae.rect)!=null?s:null,te),en=d.useRef(null),Xo=d.useCallback((Ye,ht)=>{let{sensor:mt,options:mn}=ht;if(U.current==null)return;const Nt=E.get(U.current);if(!Nt)return;const xt=Ye.nativeEvent,Vt=new mt({active:U.current,activeNode:Nt,event:xt,options:mn,context:Ue,onAbort(He){if(!E.get(He))return;const{onDragAbort:Xt}=A.current,tn={id:He};Xt==null||Xt(tn),m({type:"onDragAbort",event:tn})},onPending(He,xn,Xt,tn){if(!E.get(He))return;const{onDragPending:Kr}=A.current,gn={id:He,constraint:xn,initialCoordinates:Xt,offset:tn};Kr==null||Kr(gn),m({type:"onDragPending",event:gn})},onStart(He){const xn=U.current;if(xn==null)return;const Xt=E.get(xn);if(!Xt)return;const{onDragStart:tn}=A.current,Xr={activatorEvent:xt,active:{id:xn,data:Xt.data,rect:G}};yr.unstable_batchedUpdates(()=>{tn==null||tn(Xr),w(kn.Initializing),x({type:Pe.DragStart,initialCoordinates:He,active:xn}),m({type:"onDragStart",event:Xr}),se(en.current),z(xt)})},onMove(He){x({type:Pe.DragMove,coordinates:He})},onEnd:lr(Pe.DragEnd),onCancel:lr(Pe.DragCancel)});en.current=Vt;function lr(He){return async function(){const{active:Xt,collisions:tn,over:Xr,scrollAdjustedTranslate:Kr}=Ue.current;let gn=null;if(Xt&&Kr){const{cancelDrop:Yr}=A.current;gn={activatorEvent:xt,active:Xt,collisions:tn,delta:Kr,over:Xr},He===Pe.DragEnd&&typeof Yr=="function"&&await Promise.resolve(Yr(gn))&&(He=Pe.DragCancel)}U.current=null,yr.unstable_batchedUpdates(()=>{x({type:He}),w(kn.Uninitialized),ne(null),se(null),z(null),en.current=null;const Yr=He===Pe.DragEnd?"onDragEnd":"onDragCancel";if(gn){const Yo=A.current[Yr];Yo==null||Yo(gn),m({type:Yr,event:gn})}})}}},[E]),Ko=d.useCallback((Ye,ht)=>(mt,mn)=>{const Nt=mt.nativeEvent,xt=E.get(mn);if(U.current!==null||!xt||Nt.dndKit||Nt.defaultPrevented)return;const Vt={active:xt};Ye(mt,ht.options,Vt)===!0&&(Nt.dndKit={capturedBy:ht.sensor},U.current=mn,Xo(mt,ht))},[E,Xo]),Pc=By(p,Ko);Qy(p),Ht(()=>{te&&j===kn.Initializing&&w(kn.Initialized)},[te,j]),d.useEffect(()=>{const{onDragMove:Ye}=A.current,{active:ht,activatorEvent:mt,collisions:mn,over:Nt}=Ue.current;if(!ht||!mt)return;const xt={active:ht,activatorEvent:mt,collisions:mn,delta:{x:qt.x,y:qt.y},over:Nt};yr.unstable_batchedUpdates(()=>{Ye==null||Ye(xt),m({type:"onDragMove",event:xt})})},[qt.x,qt.y]),d.useEffect(()=>{const{active:Ye,activatorEvent:ht,collisions:mt,droppableContainers:mn,scrollAdjustedTranslate:Nt}=Ue.current;if(!Ye||U.current==null||!ht||!Nt)return;const{onDragOver:xt}=A.current,Vt=mn.get(L),lr=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,He={active:Ye,activatorEvent:ht,collisions:mt,delta:{x:Nt.x,y:Nt.y},over:lr};yr.unstable_batchedUpdates(()=>{ne(lr),xt==null||xt(He),m({type:"onDragOver",event:He})})},[L]),Ht(()=>{Ue.current={activatorEvent:W,active:T,activeNode:oe,collisionRect:Zt,collisions:hn,droppableRects:re,draggableNodes:E,draggingNode:st,draggingNodeRect:me,droppableContainers:R,over:ae,scrollableAncestors:I,scrollAdjustedTranslate:qt},G.current={initial:me,translated:Zt}},[T,oe,hn,Zt,E,st,me,re,R,ae,I,qt]),Oy({..._e,delta:_,draggingRect:Zt,pointerCoordinates:It,scrollableAncestors:I,scrollableAncestorRects:K});const Ph=d.useMemo(()=>({active:T,activeNode:oe,activeNodeRect:te,activatorEvent:W,collisions:hn,containerNodeRect:ft,dragOverlay:we,draggableNodes:E,droppableContainers:R,droppableRects:re,over:ae,measureDroppableContainers:ie,scrollableAncestors:I,scrollableAncestorRects:K,measuringConfiguration:Q,measuringScheduled:be,windowRect:N}),[T,oe,te,W,hn,ft,we,E,R,re,ae,ie,I,K,Q,be,N]),Ih=d.useMemo(()=>({activatorEvent:W,activators:Pc,active:T,activeNodeRect:te,ariaDescribedById:{draggable:B},dispatch:x,draggableNodes:E,over:ae,measureDroppableContainers:ie}),[W,Pc,T,te,x,B,E,ae,ie]);return ve.createElement(oh.Provider,{value:g},ve.createElement(es.Provider,{value:Ih},ve.createElement(bh.Provider,{value:Ph},ve.createElement(Vo.Provider,{value:jt},u)),ve.createElement(l1,{disabled:(i==null?void 0:i.restoreFocus)===!1})),ve.createElement(ay,{...i,hiddenTextDescribedById:B}));function Lh(){const Ye=(Y==null?void 0:Y.autoScrollEnabled)===!1,ht=typeof c=="object"?c.enabled===!1:c===!1,mt=C&&!Ye&&!ht;return typeof c=="object"?{...c,enabled:mt}:{enabled:mt}}}),i1=d.createContext(null),xd="button",c1="Draggable";function u1(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const s=Zl(c1),{activators:a,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:p,draggableNodes:f,over:h}=d.useContext(es),{role:y=xd,roleDescription:k="draggable",tabIndex:v=0}=l!=null?l:{},b=(c==null?void 0:c.id)===t,x=d.useContext(b?Vo:i1),[m,g]=po(),[j,w]=po(),C=Gy(a,t),S=Fl(n);Ht(()=>(f.set(t,{id:t,key:s,node:m,activatorNode:j,data:S}),()=>{const _=f.get(t);_&&_.key===s&&f.delete(t)}),[f,t]);const E=d.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&y===xd?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,y,v,b,k,p.draggable]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:E,isDragging:b,listeners:r?void 0:C,node:m,over:h,setNodeRef:g,setActivatorNodeRef:w,transform:x}}function jh(){return d.useContext(bh)}const d1="Droppable",f1={timeout:25};function p1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const s=Zl(d1),{active:a,dispatch:i,over:c,measureDroppableContainers:u}=d.useContext(es),p=d.useRef({disabled:n}),f=d.useRef(!1),h=d.useRef(null),y=d.useRef(null),{disabled:k,updateMeasurementsFor:v,timeout:b}={...f1,...l},x=Fl(v!=null?v:r),m=d.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),y.current=null},b)},[b]),g=Wo({callback:m,disabled:k||!a}),j=d.useCallback((E,_)=>{g&&(_&&(g.unobserve(_),f.current=!1),E&&g.observe(E))},[g]),[w,C]=po(j),S=Fl(t);return d.useEffect(()=>{!g||!w.current||(g.disconnect(),f.current=!1,g.observe(w.current))},[w,g]),d.useEffect(()=>(i({type:Pe.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:h,data:S}}),()=>i({type:Pe.UnregisterDroppable,key:s,id:r})),[r]),d.useEffect(()=>{n!==p.current.disabled&&(i({type:Pe.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,i]),{active:a,rect:h,isOver:(c==null?void 0:c.id)===r,node:w,over:c,setNodeRef:C}}function h1(e){let{animation:t,children:n}=e;const[r,l]=d.useState(null),[s,a]=d.useState(null),i=ho(n);return!n&&!r&&i&&l(i),Ht(()=>{if(!s)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,s)).then(()=>{l(null)})},[t,r,s]),ve.createElement(ve.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const m1={x:0,y:0,scaleX:1,scaleY:1};function x1(e){let{children:t}=e;return ve.createElement(es.Provider,{value:kh},ve.createElement(Vo.Provider,{value:m1},t))}const g1={position:"fixed",touchAction:"none"},v1=e=>Ho(e)?"transform 250ms ease":void 0,y1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:s,className:a,rect:i,style:c,transform:u,transition:p=v1}=e;if(!i)return null;const f=l?u:{...u,scaleX:1,scaleY:1},h={...g1,width:i.width,height:i.height,top:i.top,left:i.left,transform:On.Transform.toString(f),transformOrigin:l&&r?uy(r,i):void 0,transition:typeof p=="function"?p(r):p,...c};return ve.createElement(n,{className:a,style:h,ref:t},s)}),w1=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[i,c]of Object.entries(s.active))c!==void 0&&(l[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,c));if(s!=null&&s.dragOverlay)for(const[i,c]of Object.entries(s.dragOverlay))c!==void 0&&r.node.style.setProperty(i,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},k1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:On.Transform.toString(t)},{transform:On.Transform.toString(n)}]},b1={duration:250,easing:"ease",keyframes:k1,sideEffects:w1({styles:{active:{opacity:"0"}}})};function S1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return Uo((s,a)=>{if(t===null)return;const i=n.get(s);if(!i)return;const c=i.node.current;if(!c)return;const u=wh(a);if(!u)return;const{transform:p}=lt(a).getComputedStyle(a),f=ih(p);if(!f)return;const h=typeof t=="function"?t:j1(t);return mh(c,l.draggable.measure),h({active:{id:s,data:i.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:l.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:l,transform:f})})}function j1(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...b1,...e};return s=>{let{active:a,dragOverlay:i,transform:c,...u}=s;if(!t)return;const p={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/i.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/i.rect.height:1},h={x:c.x-p.x,y:c.y-p.y,...f},y=l({...u,active:a,dragOverlay:i,transform:{initial:c,final:h}}),[k]=y,v=y[y.length-1];if(JSON.stringify(k)===JSON.stringify(v))return;const b=r==null?void 0:r({active:a,dragOverlay:i,...u}),x=i.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let gd=0;function N1(e){return d.useMemo(()=>{if(e!=null)return gd++,gd},[e])}const C1=ve.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:s,modifiers:a,wrapperElement:i="div",className:c,zIndex:u=999}=e;const{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggableNodes:k,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:j,windowRect:w}=jh(),C=d.useContext(Vo),S=N1(f==null?void 0:f.id),E=Sh(a,{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:j,transform:C,windowRect:w}),_=_c(h),R=S1({config:r,draggableNodes:k,droppableContainers:v,measuringConfiguration:m}),P=_?b.setRef:void 0;return ve.createElement(x1,null,ve.createElement(h1,{animation:R},f&&S?ve.createElement(y1,{key:S,id:f.id,ref:P,as:i,activatorEvent:p,adjustScale:t,className:c,transition:s,rect:_,style:{zIndex:u,...l},transform:E},n):null))});function Rc(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function E1(e,t){return e.reduce((n,r,l)=>{const s=t.get(r);return s&&(n[l]=s),n},Array(e.length))}function ks(e){return e!==null&&e>=0}function M1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function T1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Nh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e;const s=Rc(t,r,n),a=t[l],i=s[l];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},bs={scaleX:1,scaleY:1},D1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:l,rects:s,overIndex:a}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(l===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...bs}:null}const c=_1(s,l,n);return l>n&&l<=a?{x:0,y:-i.height-c,...bs}:l<n&&l>=a?{x:0,y:i.height+c,...bs}:{x:0,y:0,...bs}};function _1(e,t,n){const r=e[t],l=e[t-1],s=e[t+1];return r?n<t?l?r.top-(l.top+l.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):l?r.top-(l.top+l.height):0:0}const Ch="Sortable",Eh=ve.createContext({activeIndex:-1,containerId:Ch,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nh,disabled:{draggable:!1,droppable:!1}});function R1(e){let{children:t,id:n,items:r,strategy:l=Nh,disabled:s=!1}=e;const{active:a,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:p}=jh(),f=Zl(Ch,n),h=i.rect!==null,y=d.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),k=a!=null,v=a?y.indexOf(a.id):-1,b=u?y.indexOf(u.id):-1,x=d.useRef(y),m=!M1(y,x.current),g=b!==-1&&v===-1||m,j=T1(s);Ht(()=>{m&&k&&p(y)},[m,y,k,p]),d.useEffect(()=>{x.current=y},[y]);const w=d.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:g,items:y,overIndex:b,useDragOverlay:h,sortedRects:E1(y,c),strategy:l}),[v,f,j.draggable,j.droppable,g,y,b,c,h,l]);return ve.createElement(Eh.Provider,{value:w},t)}const z1=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return Rc(n,r,l).indexOf(t)},P1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:s,newIndex:a,previousItems:i,previousContainerId:c,transition:u}=e;return!u||!r||i!==s&&l===a?!1:n?!0:a!==l&&t===c},I1={duration:200,easing:"ease"},Mh="transform",L1=On.Transition.toString({property:Mh,duration:0,easing:"linear"}),O1={roleDescription:"sortable"};function A1(e){let{disabled:t,index:n,node:r,rect:l}=e;const[s,a]=d.useState(null),i=d.useRef(n);return Ht(()=>{if(!t&&n!==i.current&&r.current){const c=l.current;if(c){const u=Wr(r.current,{ignoreTransform:!0}),p={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(p.x||p.y)&&a(p)}}n!==i.current&&(i.current=n)},[t,n,r,l]),d.useEffect(()=>{s&&a(null)},[s]),s}function $1(e){let{animateLayoutChanges:t=P1,attributes:n,disabled:r,data:l,getNewIndex:s=z1,id:a,strategy:i,resizeObserverConfig:c,transition:u=I1}=e;const{items:p,containerId:f,activeIndex:h,disabled:y,disableTransforms:k,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(Eh),g=F1(r,y),j=p.indexOf(a),w=d.useMemo(()=>({sortable:{containerId:f,index:j,items:p},...l}),[f,l,j,p]),C=d.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:S,node:E,isOver:_,setNodeRef:R}=p1({id:a,data:w,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:P,activatorEvent:G,activeNodeRect:T,attributes:U,setNodeRef:Y,listeners:se,isDragging:W,over:z,setActivatorNodeRef:A,transform:B}=u1({id:a,data:w,attributes:{...O1,...n},disabled:g.draggable}),ee=Yv(R,Y),Q=!!P,re=Q&&!k&&ks(h)&&ks(b),ie=!x&&W,be=ie&&re?B:null,oe=i!=null?i:m,he=re?be!=null?be:oe({rects:v,activeNodeRect:T,activeIndex:h,overIndex:b,index:j}):null,_e=ks(h)&&ks(b)?s({id:a,items:p,activeIndex:h,overIndex:b}):j,Be=P==null?void 0:P.id,te=d.useRef({activeId:Be,items:p,newIndex:_e,containerId:f}),ft=p!==te.current.items,Ue=t({active:P,containerId:f,isDragging:W,isSorting:Q,id:a,index:j,items:p,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:u,wasDragging:te.current.activeId!=null}),pt=A1({disabled:!Ue,index:j,node:E,rect:S});return d.useEffect(()=>{Q&&te.current.newIndex!==_e&&(te.current.newIndex=_e),f!==te.current.containerId&&(te.current.containerId=f),p!==te.current.items&&(te.current.items=p)},[Q,_e,f,p]),d.useEffect(()=>{if(Be===te.current.activeId)return;if(Be!=null&&te.current.activeId==null){te.current.activeId=Be;return}const st=setTimeout(()=>{te.current.activeId=Be},50);return()=>clearTimeout(st)},[Be]),{active:P,activeIndex:h,attributes:U,data:w,rect:S,index:j,newIndex:_e,items:p,isOver:_,isSorting:Q,isDragging:W,listeners:se,node:E,overIndex:b,over:z,setNodeRef:ee,setActivatorNodeRef:A,setDroppableNodeRef:R,setDraggableNodeRef:Y,transform:pt!=null?pt:he,transition:we()};function we(){if(pt||ft&&te.current.newIndex===j)return L1;if(!(ie&&!Ho(G)||!u)&&(Q||Ue))return On.Transition.toString({...u,property:Mh})}}function F1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ce.Down,ce.Right,ce.Up,ce.Left;const M={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function vd({label:e,value:t,onChange:n,placeholder:r,rows:l,onExpand:s,onHistory:a}){const i=d.useRef(null),c=u=>{var h;const p=(h=u.target.files)==null?void 0:h[0];if(!p)return;const f=new FileReader;f.onload=y=>n(y.target.result||""),f.readAsText(p),u.target.value=""};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:a,children:o.jsx(wv,{size:13,style:{color:M.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},children:o.jsx($o,{size:13,style:{color:M.textMuted}})}),o.jsx("input",{ref:i,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:c}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:s,children:o.jsx(Yl,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:u=>n(u.target.value),placeholder:r,rows:l||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})}function Ca({label:e,value:t,onChange:n,presets:r}){const[l,s]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text},onClick:()=>s(!l),children:[o.jsx("span",{style:{color:a?M.text:M.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:M.textMuted,transform:l?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),l&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:M.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:M.textMuted},onClick:()=>{n(null),s(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:M.text},onClick:()=>{n(i.id),s(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx($l,{size:14,style:{color:M.accentDark}})]},i.id))]})]})]})}function Ea({value:e,onChange:t,onClose:n,title:r,placeholder:l}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Pr,{size:18,style:{color:M.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:s=>t(s.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:M.bg,color:M.text},placeholder:l||""})]})}function B1({items:e,currentContent:t,onApply:n,onClose:r}){const[l,s]=d.useState("current"),[a,i]=d.useState(null),c=p=>p?new Date(p).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",u=async()=>{if(l==="current"){r();return}const p=e.find(f=>f.id===l);p&&await n(p.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:M.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx(Pr,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:M.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:M.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx(Pr,{size:18,style:{color:M.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l==="current"?M.accentDark:M.bg,boxShadow:l==="current"?"none":"var(--icon-inset)"},children:l==="current"&&o.jsx($l,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:M.textMuted},children:""}),e.map(p=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l===p.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s(p.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l===p.id?M.accentDark:M.bg,boxShadow:l===p.id?"none":"var(--icon-inset)"},children:l===p.id&&o.jsx($l,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(p),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:[" ",p.version]}),o.jsx("span",{className:"text-[10px]",style:{color:M.textMuted},children:c(p.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:p.content})]})]},p.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:u,children:""})})]})}function Th(e){return e==="always"?"":e==="keyword"?"":""}function Dh(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function U1({item:e,book:t,position:n,sectionList:r,onRemove:l,onChangePosition:s}){const{attributes:a,listeners:i,setNodeRef:c,transform:u,transition:p,isDragging:f}=$1({id:String(e.id)}),h={transform:On.Transform.toString(u),transition:p,opacity:f?.35:1,zIndex:f?10:void 0};return t?o.jsxs("div",{ref:c,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:f?"grabbing":"grab"},children:o.jsx(Zp,{size:14,style:{color:M.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:M.textMuted},children:[Th(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},onClick:()=>s(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>l(e.id),children:o.jsx(Ql,{size:14,style:{color:M.textMuted}})})]}):null}function H1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[l,s]=d.useState(new Set(t)),a={};e.forEach(u=>{const p=u.folder||"";a[p]||(a[p]=[]),a[p].push(u)});const i=u=>{s(p=>{const f=new Set(p);return f.has(u)?f.delete(u):f.add(u),f})},c=u=>{const p=u.every(f=>l.has(f.id));s(f=>{const h=new Set(f);return p?u.forEach(y=>h.delete(y.id)):u.forEach(y=>h.add(y.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:M.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Ql,{size:20,style:{color:M.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([u,p])=>{const f=p.every(h=>l.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:u}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:f?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:f?M.accentDark:M.textMuted},onClick:()=>c(p),children:f?"":""})]}),o.jsx("div",{className:"space-y-2",children:p.map(h=>{const y=l.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:M.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:y?M.accentDark:M.bg,boxShadow:y?"none":"var(--icon-inset)"},children:y&&o.jsx($l,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:y?M.accentDark:M.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},children:Th(h.activation)})]},h.id)})})]},u)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...l]),children:[" ",l.size,""]})})]})})}function W1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,l]=d.useState(!1),[s,a]=d.useState(null),i=Dh(e),c=i.filter(w=>w.position==="before").sort((w,C)=>w.sort_order-C.sort_order),u=i.filter(w=>w.position==="after").sort((w,C)=>w.sort_order-C.sort_order),p=w=>n.find(C=>C.id===w||C.id===Number(w)),f=iy(sd(Dc,{activationConstraint:{distance:5}}),sd(vh,{activationConstraint:{delay:150,tolerance:5}})),h=({active:w})=>a(w.id),y=({active:w,over:C})=>{if(!C)return;const S=i.find(_=>String(_.id)===String(w.id)),E=i.find(_=>String(_.id)===String(C.id));if(!(!S||!E)&&S.position!==E.position){const _=i.map(R=>String(R.id)===String(S.id)?{...R,position:E.position}:R);t(_)}},k=({active:w,over:C})=>{if(a(null),!C||w.id===C.id)return;const S=i.find(U=>String(U.id)===String(w.id)),E=i.find(U=>String(U.id)===String(C.id));if(!S||!E||S.position!==E.position)return;const _=S.position==="before"?[...c]:[...u],R=_.findIndex(U=>String(U.id)===String(w.id)),P=_.findIndex(U=>String(U.id)===String(C.id)),G=Rc(_,R,P).map((U,Y)=>({...U,sort_order:Y})),T=i.filter(U=>U.position!==S.position);t([...T,...G])},v=w=>t(i.filter(C=>C.id!==w)),b=(w,C)=>{const E=(C==="before"?c:u).length;t(i.map(_=>_.id===w?{..._,position:C,sort_order:E}:_))},x=w=>{const C=i.map(P=>P.id),E=w.filter(P=>!C.includes(P)).map((P,G)=>({id:P,position:"after",sort_order:u.length+G})),_=new Set(C.filter(P=>!w.includes(P))),R=i.filter(P=>!_.has(P.id));t([...R,...E])},m=(w,C)=>w.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:M.textMuted},children:""}):o.jsx(R1,{items:w.map(S=>String(S.id)),strategy:D1,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},children:w.map((S,E)=>o.jsxs("div",{children:[E>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(U1,{item:S,book:p(S.id),position:C,sectionList:w,onRemove:v,onChangePosition:b})]},S.id))})}),g=s?i.find(w=>String(w.id)===String(s)):null,j=g?p(g.id):null;return o.jsxs(a1,{sensors:f,collisionDetection:hy,onDragStart:h,onDragOver:y,onDragEnd:k,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(c,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:M.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(u,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)",color:M.accentDark},onClick:()=>l(!0),children:[o.jsx(Fr,{size:16})," "]}),o.jsx(C1,{children:j&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:M.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(Zp,{size:14,style:{color:M.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.accentDark},children:j.name})})]})}),r&&o.jsx(H1,{allBooks:n,mountedIds:i.map(w=>w.id),onClose:()=>l(!1),onConfirm:w=>{x(w),l(!1)}})]})}function yd(){const e=zt(),{id:t}=Vp(),n=!t,[r,l]=d.useState("basic"),[s,a]=d.useState(""),[i,c]=d.useState(""),[u,p]=d.useState(""),[f,h]=d.useState(null),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState(""),[g,j]=d.useState(""),[w,C]=d.useState(null),[S,E]=d.useState(null),[_,R]=d.useState([]),[P,G]=d.useState([]),[T,U]=d.useState([]),[Y,se]=d.useState(!1),[W,z]=d.useState(!n),[A,B]=d.useState(null),[ee,Q]=d.useState(!1),[re,ie]=d.useState(!1),[be,oe]=d.useState(!1),[he,_e]=d.useState(null),[Be,te]=d.useState([]),ft=d.useRef(null),Ue=d.useRef(null),pt=N=>{var Me;const I=(Me=N.target.files)==null?void 0:Me[0];if(!I)return;const K=new FileReader;K.onload=It=>p(It.target.result||""),K.readAsText(I),N.target.value=""},we=N=>{B(N),setTimeout(()=>B(null),2500)},st=async N=>{const I=N==="human"?w:S;if(!I){we("");return}try{const K=await F(`/api/core-blocks/${I}/history`);te(K.history||[]),_e(N)}catch(K){we("")}};d.useEffect(()=>{(async()=>{const[I,K]=await Promise.all([F("/api/presets").catch(()=>({presets:[]})),F("/api/world-books").catch(()=>({world_books:[]}))]);if(G(I.presets||[]),U(K.world_books||[]),n)z(!1);else try{const[Me,It]=await Promise.all([F(`/api/assistants/${t}`),F(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(Me.name||""),Gl(`assistant-avatar-${t}`).then(Oe=>{Oe&&c(Oe)}).catch(function(){}),p(Me.system_prompt||""),h(Me.model_preset_id||null),k(Me.summary_model_preset_id||null),b(Me.summary_fallback_preset_id||null),R(Me.rule_set_ids||[]);for(const Oe of It.blocks||[])Oe.block_type==="human"?(m(Oe.content||""),C(Oe.id)):Oe.block_type==="persona"&&(j(Oe.content||""),E(Oe.id))}catch(Me){we(": "+Me.message)}finally{z(!1)}})()},[t,n]);const me=N=>{var Me;const I=(Me=N.target.files)==null?void 0:Me[0];if(!I)return;const K=new FileReader;K.onload=async It=>{const Oe=It.target.result,Vr=`assistant-avatar-${t||"new"}`;try{await Ni(Vr,Oe),c(Oe)}catch(ts){we("")}},K.readAsDataURL(I),N.target.value=""},Pt=async()=>{if(!s.trim()){we("");return}se(!0);try{const N={name:s.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:u,model_preset_id:f,summary_model_preset_id:y,summary_fallback_preset_id:v,rule_set_ids:Dh(_)};let I=t;if(n?(I=(await F("/api/assistants",{method:"POST",body:{name:s.trim()}})).id,i&&(await Ni(`assistant-avatar-${I}`,i),N.avatar_url=`assistant-avatar-${I}`),await F(`/api/assistants/${I}`,{method:"PUT",body:N})):await F(`/api/assistants/${t}`,{method:"PUT",body:N}),w)await F(`/api/core-blocks/${w}`,{method:"PUT",body:{content:x}});else if(x.trim()){const K=await F("/api/core-blocks",{method:"POST",body:{block_type:"human",assistant_id:Number(I),content:x}});C(K.id)}if(S)await F(`/api/core-blocks/${S}`,{method:"PUT",body:{content:g}});else if(g.trim()){const K=await F("/api/core-blocks",{method:"POST",body:{block_type:"persona",assistant_id:Number(I),content:g}});E(K.id)}we("")}catch(N){we(": "+N.message)}finally{se(!1)}},pn=[{key:"basic",label:""},{key:"about",label:"Core Blocks"},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(St,{size:22,style:{color:M.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:M.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:Y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Pt,disabled:Y,children:o.jsx(Fo,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:pn.map(N=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===N.key?M.bg:"transparent",boxShadow:r===N.key?"var(--card-shadow-sm)":"none",color:r===N.key?M.accentDark:M.textMuted},onClick:()=>l(N.key),children:N.label},N.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:W?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:M.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var N;return(N=ft.current)==null?void 0:N.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:M.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:M.accentDark},children:(s==null?void 0:s[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:M.accentDark},children:o.jsx(Jp,{size:9,color:"white"})})]}),o.jsx("input",{ref:ft,type:"file",accept:"image/*",className:"hidden",onChange:me}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>{var N;return(N=Ue.current)==null?void 0:N.click()},title:"",children:o.jsx($o,{size:13,style:{color:M.textMuted}})}),o.jsx("input",{ref:Ue,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:pt}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>Q(!0),title:"",children:o.jsx(Yl,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:u,onChange:N=>p(N.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Ca,{label:"",value:f,onChange:h,presets:P}),o.jsx(Ca,{label:"",value:y,onChange:k,presets:P}),o.jsx(Ca,{label:"",value:v,onChange:b,presets:P})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(vd,{label:"human block",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>ie(!0),onHistory:()=>st("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(vd,{label:"persona block",value:g,onChange:j,placeholder:"AI ...",rows:7,onExpand:()=>oe(!0),onHistory:()=>st("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(W1,{ruleSetIds:_,onChange:R,allBooks:T})})]})}),ee&&o.jsx(Ea,{value:u,onChange:p,onClose:()=>Q(!1),title:"",placeholder:"..."}),re&&o.jsx(Ea,{value:x,onChange:m,onClose:()=>ie(!1),title:"human block",placeholder:" AI ..."}),be&&o.jsx(Ea,{value:g,onChange:j,onClose:()=>oe(!1),title:"persona block",placeholder:"AI ..."}),he&&o.jsx(B1,{items:Be,currentContent:he==="human"?x:g,onApply:async N=>{const I=he==="human"?w:S;try{await F(`/api/core-blocks/${I}`,{method:"PUT",body:{content:N}}),he==="human"?m(N):j(N),we("")}catch(K){we("")}},onClose:()=>_e(null)}),A&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:A})})]})}const J={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function V1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":J.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function wd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:J.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:J.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:J.textMuted},children:n})]}),o.jsx(Kl,{size:16,style:{color:J.textMuted}})]})}function X1(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function rl({value:e,onChange:t,min:n,max:r}){const[l,s]=d.useState(String(e));d.useEffect(()=>s(String(e)),[e]);const a=()=>{let i=parseInt(l);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),s(String(i)),t(i)};return o.jsx("input",{type:"number",value:l,onChange:i=>s(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:J.bg,color:J.text},min:n,max:r})}function K1(){const e=zt(),[t,n]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessage)||!1}),[r,l]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMin)||30}),[s,a]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMax)||60}),[i,c]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[u,p]=d.useState(8e3),[f,h]=d.useState(16e3),[y,k]=d.useState(!1),[v,b]=d.useState(!1),[x,m]=d.useState(null),g=w=>{m(w),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{F("/api/settings/context-budget").then(w=>{p(w.retain_budget),h(w.trigger_threshold),k(!0)}).catch(()=>k(!0))},[]),d.useEffect(()=>{const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:s}))},[t,r,s]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),F("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]);const j=async()=>{b(!0);try{await F("/api/settings/context-budget",{method:"PUT",body:{retain_budget:u,trigger_threshold:f}}),g("")}catch(w){g("")}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:J.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:J.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:J.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:J.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:J.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(wd,{icon:o.jsx(jv,{size:18,style:{color:J.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(X1,{}),o.jsx(wd,{icon:o.jsx(bv,{size:18,style:{color:J.textMuted}}),label:"",hint:"",onClick:()=>g("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:J.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:J.bg},children:o.jsx(eh,{size:18,style:{color:J.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:J.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:J.textMuted},children:" AI "})]}),o.jsx(V1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:J.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:J.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rl,{value:r,onChange:l,min:1,max:999}),o.jsx("span",{style:{color:J.textMuted},children:"~"}),o.jsx(rl,{value:s,onChange:a,min:1,max:999})]})]})})]}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:J.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:J.bg},children:o.jsx(Ev,{size:18,style:{color:J.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:J.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:J.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(rl,{value:i,onChange:c,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:J.textMuted},children:""})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:J.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:J.bg},children:o.jsx(xv,{size:18,style:{color:J.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:J.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:J.textMuted},children:""})]})]}),y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:J.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:J.textMuted},children:" token "})]}),o.jsx(rl,{value:u,onChange:p,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:J.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:J.textMuted},children:""})]}),o.jsx(rl,{value:f,onChange:h,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:v?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:j,disabled:v,children:v?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:J.accent,borderTopColor:"transparent"}})})]})]}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const O={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Y1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function Q1(e){try{return new URL(e).hostname}catch(t){return e}}function kd({label:e,value:t,onChange:n,placeholder:r,password:l,disabled:s}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:l&&!a?"password":"text",value:t,onChange:c=>n(c.target.value),placeholder:r,disabled:s,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:s?O.textMuted:O.text,opacity:s?.5:1}}),l&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(vv,{size:16,style:{color:O.textMuted}}):o.jsx(gv,{size:16,style:{color:O.textMuted}})})]})]})}function G1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:O.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?O.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?O.accentDark:O.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function J1({value:e,onChange:t,options:n,placeholder:r}){const[l,s]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!l)return;const i=c=>{a.current&&!a.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[l]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:e?O.text:O.textMuted},onClick:()=>s(!l),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx($r,{size:16,style:{color:O.textMuted,flexShrink:0,transform:l?"rotate(180deg)":"none"}})]}),l&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:O.text},onClick:()=>{t(i),s(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx($l,{size:12,style:{color:O.accentDark,flexShrink:0}})]},i))})]})}function q1({value:e,onChange:t}){const[n,r]=d.useState(!1),l=d.useRef(null);return d.useEffect(()=>{if(!n)return;const s=a=>{l.current&&!l.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[n]),o.jsxs("div",{className:"relative",ref:l,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:s=>t(s.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx($r,{size:16,style:{color:O.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:Y1.map(s=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:O.text},onClick:()=>{t(s),r(!1)},children:s},s))})]})}function Ma({value:e,onChange:t,min:n,max:r,step:l}){const[s,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let c=parseFloat(s);isNaN(c)&&(c=n),c=Math.max(n,Math.min(r,c)),c=Math.round(c/l)*l,c=parseFloat(c.toFixed(4)),a(String(c)),t(c)};return o.jsx("input",{type:"number",value:s,onChange:c=>a(c.target.value),onBlur:i,onKeyDown:c=>c.key==="Enter"&&i(),step:l,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text}})}function bd({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":O.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Ta({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:O.bg,boxShadow:"var(--card-shadow)"},children:e})}function Z1(){const e=zt(),[t,n]=d.useState([]),[r,l]=d.useState([]),[s,a]=d.useState(!0),[i,c]=d.useState(""),[u,p]=d.useState(""),[f,h]=d.useState("api_key"),[y,k]=d.useState(""),[v,b]=d.useState([]),[x,m]=d.useState(!1),[g,j]=d.useState(1),[w,C]=d.useState(!1),[S,E]=d.useState(1),[_,R]=d.useState(!1),[P,G]=d.useState(4096),[T,U]=d.useState(null),[Y,se]=d.useState(null),[W,z]=d.useState(!1),[A,B]=d.useState(!1),[ee,Q]=d.useState(""),[re,ie]=d.useState(!1),[be,oe]=d.useState(!1),[he,_e]=d.useState(null),[Be,te]=d.useState(null),[ft,Ue]=d.useState(""),pt=d.useRef(null),we=d.useRef(!1),st=d.useRef({});st.current={baseUrl:i,apiKey:u,authType:f,modelName:y,temperature:g,tempEnabled:w,topP:S,topPEnabled:_,maxTokens:P,editingPreset:T,providers:t};const me=d.useCallback(L=>{se(L),setTimeout(()=>se(null),2500)},[]),Pt=d.useCallback(async()=>{try{const[L,ae]=await Promise.all([F("/api/providers"),F("/api/presets")]);n(L.providers||[]),l(ae.presets||[])}catch(L){me(": "+L.message)}finally{a(!1)}},[me]);d.useEffect(()=>{Pt()},[Pt]);const pn=L=>{var ne,Ce;U(L),k(L.model_name),C(L.temperature!=null),j((ne=L.temperature)!=null?ne:1),R(L.top_p!=null),E((Ce=L.top_p)!=null?Ce:1),G(L.max_tokens);const ae=t.find(jt=>jt.id===L.api_provider_id);ae&&(c(ae.base_url),p(ae.api_key),h(ae.auth_type||"api_key"))},N=()=>{U(null),c(""),p(""),h("api_key"),k(""),j(1),C(!1),E(1),R(!1),G(4096),b([])},I=async()=>{if(!i.trim()||!u.trim()){me(" API  Key");return}m(!0);try{const L=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${u.trim()}`}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const ne=((await L.json()).data||[]).map(Ce=>Ce.id).sort();b(ne),me(ne.length?` ${ne.length} `:"")}catch(L){me(": "+L.message)}finally{m(!1)}},K=async()=>{var L;if(!i.trim()||!u.trim()||!y.trim()){me(" API Key ");return}z(!0);try{const ae=i.trim().replace(/\/+$/,""),ne={"Content-Type":"application/json",Authorization:`Bearer ${u.trim()}`};f==="oauth_token"&&(ne["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",ne["anthropic-dangerous-direct-browser-access"]="true",ne["x-app"]="cli");const Ce=await fetch(`${ae}/chat/completions`,{method:"POST",headers:ne,body:JSON.stringify({model:y.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!Ce.ok){const jt=await Ce.json().catch(()=>({}));throw new Error(((L=jt.error)==null?void 0:L.message)||`HTTP ${Ce.status}`)}me(" ")}catch(ae){me(": "+ae.message)}finally{z(!1)}},Me=async L=>{const ae=st.current,ne=ae.baseUrl.trim(),Ce=ae.apiKey.trim(),jt=ae.authType,en=L.find(Ko=>Ko.base_url===ne);return en?((en.api_key!==Ce||en.auth_type!==jt)&&await F(`/api/providers/${en.id}`,{method:"PUT",body:{api_key:Ce,auth_type:jt}}),en.id):(await F("/api/providers",{method:"POST",body:{name:Q1(ne),base_url:ne,api_key:Ce,auth_type:jt}})).id},It=async(L,ae)=>{const ne=st.current;if(!ne.baseUrl.trim()||!ne.apiKey.trim()||!ne.modelName.trim()){me("");return}oe(!0);try{const Ce=await Me(ne.providers),jt={name:L,model_name:ne.modelName.trim(),temperature:ne.tempEnabled?ne.temperature:null,top_p:ne.topPEnabled?ne.topP:null,max_tokens:Number(ne.maxTokens)||4096,api_provider_id:Ce};ne.editingPreset&&!ae?(await F(`/api/presets/${ne.editingPreset.id}`,{method:"PUT",body:jt}),me("")):(await F("/api/presets",{method:"POST",body:jt}),me("")),await Pt()}catch(Ce){me(": "+Ce.message)}finally{oe(!1)}},Oe=()=>{const L=ee.trim();L&&(B(!1),It(L,re))},Vr=()=>{T&&It(T.name,!1)},ts=async()=>{if(he){try{await F(`/api/presets/${he.id}`,{method:"DELETE"}),me(""),(T==null?void 0:T.id)===he.id&&N(),Pt()}catch(L){me(": "+L.message)}_e(null)}},qt=async()=>{const L=ft.trim();if(!(!L||!Be)){try{await F(`/api/presets/${Be.id}`,{method:"PUT",body:{name:L}}),me(""),Pt()}catch(ae){me("")}te(null)}},Zt=(L,ae)=>{we.current=!1,L.touches?L.touches[0].clientX:L.clientX,L.touches?L.touches[0].clientY:L.clientY,pt.current=setTimeout(()=>{we.current=!0,_e(ae)},600)},hn=()=>clearTimeout(pt.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:O.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(St,{size:22,style:{color:O.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:O.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:O.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ta,{children:[o.jsx(kd,{label:"API ",value:i,onChange:c,placeholder:"https://api.openai.com/v1",disabled:f==="oauth_token"}),o.jsx(kd,{label:"API Key",value:u,onChange:p,placeholder:f==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),o.jsx(G1,{value:f,onChange:L=>{h(L),L==="oauth_token"&&c("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Ta,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:O.textMuted},children:""}),f==="oauth_token"?o.jsx(q1,{value:y,onChange:k}):o.jsx(J1,{value:y,onChange:k,options:v})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:K,disabled:W,children:[W?o.jsx(Zu,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text,opacity:f==="oauth_token"?.4:1},onClick:I,disabled:x||f==="oauth_token",children:[x?o.jsx(Zu,{size:14,className:"animate-spin"}):o.jsx(jc,{size:14}),""]})]})]}),o.jsxs(Ta,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:O.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:O.textMuted},children:""})]}),o.jsx(bd,{on:w,onToggle:()=>C(!w)})]}),w&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(Ma,{value:g,onChange:j,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Top P (0-1)"}),o.jsx(bd,{on:_,onToggle:()=>R(!_)})]}),_&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:O.textMuted},children:""}),o.jsx(Ma,{value:S,onChange:E,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:O.text},children:"Max Tokens"}),o.jsx(Ma,{value:P,onChange:G,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[T?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Vr,disabled:be,children:[o.jsx(Fo,{size:14}),be?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>{ie(!0),Q(""),B(!0)},disabled:be,children:[o.jsx(hv,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{ie(!0),Q(""),B(!0)},disabled:be,children:[o.jsx(Fr,{size:14}),""]}),T&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:O.textMuted},onClick:N,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:O.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:O.bg,boxShadow:"var(--card-shadow)",color:O.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(L=>{var ae,ne;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:O.bg,boxShadow:(T==null?void 0:T.id)===L.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{we.current||pn(L)},onTouchStart:Ce=>Zt(Ce,L),onTouchEnd:hn,onMouseDown:Ce=>Zt(Ce,L),onMouseUp:hn,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:(T==null?void 0:T.id)===L.id?O.accentDark:O.text},children:L.name}),o.jsx(th,{size:12,style:{color:O.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:O.textMuted},children:L.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:O.textMuted},children:["T: ",(ae=L.temperature)!=null?ae:""," | Top-P: ",(ne=L.top_p)!=null?ne:""," | Max: ",L.max_tokens]})]},L.id)})})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>B(!1),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{type:"text",value:ee,onChange:L=>Q(L.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},autoFocus:!0,onKeyDown:L=>L.key==="Enter"&&Oe()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>B(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:ee.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Oe,disabled:!ee.trim(),children:""})]})]})}),he&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>_e(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsxs("p",{className:"mb-5 text-center text-[13px]",style:{color:O.textMuted},children:["",he.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>_e(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:ts,children:""})]})]})}),Be&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>te(null),children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:O.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:L=>L.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:O.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:ft,onChange:L=>Ue(L.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:O.bg,color:O.text},onKeyDown:L=>L.key==="Enter"&&qt()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:O.bg,boxShadow:"var(--card-shadow-sm)",color:O.text},onClick:()=>te(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:qt,children:""})]})]})}),Y&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:Y})})]})}const fe={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},_h={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},text:{bg:"rgba(100,170,120,0.12)",color:"#3a9b5c",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},e0=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],t0=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}];function n0({block_type:e}){const t=_h[e]||{bg:"rgba(136,136,160,0.1)",color:fe.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function r0({item:e,expanded:t,onToggle:n,live:r}){return o.jsxs("div",{className:"mb-3 rounded-[18px] overflow-hidden",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:fe.bg},children:e.has_tool_calls?o.jsx(Mv,{size:15,style:{color:"#b8820a"}}):o.jsx(eh,{size:15,style:{color:fe.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:fe.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx("span",{className:"text-[10px]",style:{color:fe.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:fe.text},children:e.preview||"()"})]}),t?o.jsx(pv,{size:16,style:{color:fe.textMuted,flexShrink:0}}):o.jsx($r,{size:16,style:{color:fe.textMuted,flexShrink:0}})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:e.rounds.map(l=>o.jsxs("div",{className:"mb-3",children:[e.rounds.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:fe.textMuted},children:[" ",l.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),l.blocks.map((s,a)=>{const i=_h[s.block_type]||{bg:"rgba(136,136,160,0.08)",color:fe.textMuted,label:s.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:i.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(n0,{block_type:s.block_type}),s.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:i.color},children:s.tool_name})]}),o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:fe.text,maxHeight:200,overflow:"hidden"},children:s.content.length>500?s.content.slice(0,500)+"...":s.content})]},a)})]},l.round_index))})]})}function l0(){const e=zt(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,c]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[u,p]=d.useState(!1),[f,h]=d.useState(new Set),y=d.useRef(null),[k,v]=d.useState(null),[b,x]=d.useState(!1),m=d.useRef(null),g=()=>{l(!0),F("/api/cot?limit=30").then(w=>n(w)).catch(()=>{}).finally(()=>l(!1))};d.useEffect(()=>{g()},[]),d.useEffect(()=>{F("/api/settings/mood").then(w=>v(w.mood||"calm")).catch(()=>v("calm"))},[]),d.useEffect(()=>{if(!b)return;const w=C=>{m.current&&!m.current.contains(C.target)&&x(!1)};return document.addEventListener("pointerdown",w),()=>document.removeEventListener("pointerdown",w)},[b]),d.useEffect(()=>{const w=localStorage.getItem("whisper_token");if(!w)return;const S=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(w)}`;let E,_,R=!1;const P=()=>{R||(E=new WebSocket(S),y.current=E,E.onopen=()=>p(!0),E.onmessage=G=>{try{const T=JSON.parse(G.data);if(T.type==="done"){h(A=>{const B=new Set(A);return B.delete(T.request_id),B});return}const{request_id:U,round_index:Y,block_type:se,content:W,tool_name:z}=T;n(A=>{const B=A.findIndex(re=>re.request_id===U);if(B>=0){const re={...A[B]},ie=[...re.rounds],be=ie.findIndex(he=>he.round_index===Y);be>=0?ie[be]={...ie[be],blocks:[...ie[be].blocks,{block_type:se,content:W,tool_name:z}]}:(ie.push({round_index:Y,blocks:[{block_type:se,content:W,tool_name:z}]}),ie.sort((he,_e)=>he.round_index-_e.round_index)),re.rounds=ie,se==="tool_use"&&(re.has_tool_calls=!0),se==="text"&&!re.preview&&(re.preview=W.slice(0,80));const oe=[...A];return oe[B]=re,oe}return[{request_id:U,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:se==="text"?W.slice(0,80):"",has_tool_calls:se==="tool_use",rounds:[{round_index:Y,blocks:[{block_type:se,content:W,tool_name:z}]}]},...A]}),h(A=>new Set(A).add(U)),a(U)}catch(T){}},E.onclose=()=>{p(!1),y.current=null,R||(_=setTimeout(P,3e3))},E.onerror=()=>E.close())};return P(),()=>{R=!0,clearTimeout(_),y.current&&(y.current.onclose=null,y.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,shortMode:i==="short",theaterMode:i==="theater"})),F("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const j=w=>{v(w),x(!1),F("/api/settings/mood",{method:"PUT",body:{mood:w}}).catch(()=>{})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:fe.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:fe.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:fe.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:fe.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:g,disabled:r,children:o.jsx(jc,{size:16,style:{color:fe.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:m,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:fe.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>k&&x(!b),children:k?o.jsx("img",{src:`/miniapp/assets/mood/${k}.png`,alt:k,className:"h-6 w-6",style:{imageRendering:"pixelated"}}):o.jsx("div",{className:"h-6 w-6"})}),b&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:fe.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:t0.map((w,C)=>{const S=Math.floor(C/3),E=C%3,_=k===w.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:_?"rgba(232,160,191,0.18)":"transparent",boxShadow:[E<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",S<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>j(w.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${w.key}.png`,alt:w.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:_?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:_?"#d48aab":fe.textMuted},children:w.label})]},w.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:fe.bg,width:240},children:e0.map(w=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===w.key?fe.bg:"transparent",boxShadow:i===w.key?"var(--card-shadow-sm)":"none",color:i===w.key?fe.accentDark:fe.textMuted},onClick:()=>c(w.key),children:w.label},w.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:fe.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(mv,{size:36,style:{color:fe.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:fe.textMuted},children:" COT "})]}):t.map(w=>o.jsx(r0,{item:w,expanded:s===w.request_id,onToggle:()=>a(s===w.request_id?null:w.request_id),live:f.has(w.request_id)},w.request_id))})]})}const We={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Ss=80;function s0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all .25s ease":"none";if(u.style.transition=f,u.style.transform=`translateX(${i}px)`,p){const h=Math.min(1,Math.abs(i)/Ss);p.style.transition=f,p.style.opacity=`${h}`}l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(Br,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=l.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=l.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Ss,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Ss)}`),c.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-40?-Ss:0,!0)},children:e})]})}function o0(){const e=zt(),[t,n]=d.useState([]),[r,l]=d.useState(null),[s,a]=d.useState(!0),[i,c]=d.useState(!1),u=async()=>{var v;a(!0);try{const x=(v=(await F("/api/sessions?limit=1")).sessions)==null?void 0:v[0];if(!x){a(!1);return}l(x.id);const m=await F(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),c(m.has_more||!1)}catch(b){console.error(b)}a(!1)};d.useEffect(()=>{u()},[]);const p=async v=>{if(r)try{await F(`/api/sessions/${r}/messages/${v}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==v))}catch(b){console.error("Delete failed",b)}},f=async()=>{if(!r||!i||s)return;const v=t[t.length-1];if(v){a(!0);try{const b=await F(`/api/sessions/${r}/messages?limit=50&before_id=${v.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),c(b.has_more||!1)}catch(b){console.error(b)}a(!1)}},h=v=>{if(!v)return"";const b=new Date(v),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=v=>v==="user"?"":v==="assistant"?"AI":"",k=v=>v==="user"?We.accentDark:v==="assistant"?"#3a9b5c":We.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:We.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:We.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:We.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:We.bg,boxShadow:s?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:u,disabled:s,children:o.jsx(jc,{size:16,style:{color:We.accentDark},className:s?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:We.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:We.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:We.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(v=>o.jsx(s0,{onDelete:()=>p(v.id),children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:We.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:k(v.role)},children:y(v.role)}),o.jsx("span",{className:"text-[10px]",style:{color:We.textMuted},children:h(v.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:We.text,maxHeight:120,overflow:"hidden"},children:v.content.length>200?v.content.slice(0,200)+"...":v.content})]})},v.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:We.bg,boxShadow:"var(--card-shadow-sm)",color:We.accentDark},onClick:f,disabled:s,children:s?"...":""})]})})]})}const V={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},a0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],js=80;function Bs(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),s=`${r}:${l}`;return n-t<864e5&&t.toDateString()===n.toDateString()?s:`${t.getMonth()+1}/${t.getDate()} ${s}`}function zc({text:e,keyword:t}){if(!t||!e)return o.jsx(o.Fragment,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),l=[];let s=0,a=n.indexOf(r,s);for(;a!==-1;)a>s&&l.push(o.jsx("span",{children:e.slice(s,a)},s)),l.push(o.jsx("span",{style:{color:V.accentDark,fontWeight:600},children:e.slice(a,a+r.length)},`h${a}`)),s=a+r.length,a=n.indexOf(r,s);return s<e.length&&l.push(o.jsx("span",{children:e.slice(s)},s)),o.jsx(o.Fragment,{children:l})}function i0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:V.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:V.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:V.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function c0({initialText:e,onSave:t,onCancel:n}){const[r,l]=d.useState(e);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-5 w-full max-w-[340px] rounded-[18px] p-4",style:{background:V.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:s=>s.stopPropagation(),children:[o.jsx("textarea",{className:"w-full rounded-[12px] p-3 text-[12px] leading-relaxed resize-none outline-none",style:{background:V.bg,boxShadow:"var(--inset-shadow)",color:V.text,minHeight:140,maxHeight:280},value:r,onChange:s=>l(s.target.value),autoFocus:!0}),o.jsxs("div",{className:"mt-3 flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.accentDark},onClick:()=>t(r),disabled:!r.trim(),children:""})]})]})})}function Rh({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all .25s ease":"none";u.style.transition=f,u.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/js)}`),l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(Br,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=l.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=l.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-js,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/js)}`),c.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-40?-js:0,!0)},children:e})]})}function Sd({children:e,time:t,badge:n,keyword:r,onSwipeDelete:l,onEdit:s}){const[a,i]=d.useState(!1),c=!!l,u=o.jsxs("div",{className:c?"rounded-[18px] p-3":"mb-3 rounded-[18px] p-3",style:{background:V.bg,boxShadow:c?"none":"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[n,o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer transition-all",style:{color:V.text,maxHeight:a?"none":64},onClick:()=>i(!a),children:o.jsx(zc,{text:typeof e=="string"?e:"",keyword:r})})]}),s&&o.jsx("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)"},onClick:p=>{p.stopPropagation(),s()},children:o.jsx(th,{size:11,style:{color:V.accentDark}})})]}),t&&o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:V.textMuted},children:t}),!a&&o.jsx($r,{size:12,style:{color:V.textMuted}})]})]});return l?o.jsx(Rh,{onDelete:l,children:u}):u}function u0({content:e,deletedAt:t,keyword:n,onRestore:r,onPermanentDelete:l}){const[s,a]=d.useState(!1);return o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer",style:{color:V.text,maxHeight:s?"none":64},onClick:()=>a(!s),children:o.jsx(zc,{text:e,keyword:n})}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:V.textMuted},children:t?` ${Bs(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:r,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:l,children:""})]})]})]})}function d0(){const e=zt(),[t,n]=d.useState("memories"),[r,l]=d.useState(!1),[s,a]=d.useState(null),[i,c]=d.useState([]),[u,p]=d.useState(null),[f,h]=d.useState(""),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState([]),[g,j]=d.useState([]),[w,C]=d.useState([]),[S,E]=d.useState([]),[_,R]=d.useState([]),[P,G]=d.useState(!0),[T,U]=d.useState(!1);d.useEffect(()=>{F("/api/sessions?limit=50").then(N=>{const I=N.sessions||[];c(I),I.length>0&&!s&&a(I[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{s&&F(`/api/sessions/${s}/info`).then(N=>p(N.assistant_name||null)).catch(()=>p(null))},[s]),d.useEffect(()=>{s&&Y()},[s,r]),d.useEffect(()=>{s&&!r&&Y()},[t]);const Y=async()=>{if(s){G(!0);try{if(r){const[N,I]=await Promise.all([F("/api/memories/trash?limit=100"),F(`/api/sessions/${s}/summaries/trash`)]);E(N.memories||[]),R(I.summaries||[])}else if(t==="memories"){const N=await F("/api/memories?limit=100");m(N.memories||[])}else if(t==="summaries"){const N=await F(`/api/sessions/${s}/summaries`);j(N.summaries||[])}else{const N=await F(`/api/sessions/${s}/messages?limit=50`);C((N.messages||[]).reverse()),U(N.has_more||!1)}}catch(N){console.error(N)}G(!1)}},se=async()=>{if(!s||!T||P)return;const N=w[w.length-1];if(N){G(!0);try{const I=await F(`/api/sessions/${s}/messages?limit=50&before_id=${N.id}`);C(K=>[...K,...(I.messages||[]).reverse()]),U(I.has_more||!1)}catch(I){console.error(I)}G(!1)}},W=f.trim().toLowerCase(),z=d.useMemo(()=>W?x.filter(N=>N.content.toLowerCase().includes(W)):x,[x,W]),A=d.useMemo(()=>W?g.filter(N=>(N.summary_content||"").toLowerCase().includes(W)):g,[g,W]),B=d.useMemo(()=>W?w.filter(N=>N.content.toLowerCase().includes(W)):w,[w,W]),ee=d.useMemo(()=>W?S.filter(N=>N.content.toLowerCase().includes(W)):S,[S,W]),Q=d.useMemo(()=>W?_.filter(N=>(N.summary_content||"").toLowerCase().includes(W)):_,[_,W]),re=(N,I)=>k({message:N,action:I}),ie=N=>re("",async()=>{await F(`/api/memories/${N}`,{method:"DELETE"}),m(I=>I.filter(K=>K.id!==N))}),be=N=>re("",async()=>{await F(`/api/sessions/${s}/summaries/${N}`,{method:"DELETE"}),j(I=>I.filter(K=>K.id!==N))}),oe=N=>re("",async()=>{await F(`/api/sessions/${s}/messages/${N}`,{method:"DELETE"}),C(I=>I.filter(K=>K.id!==N))}),he=async N=>{await F(`/api/memories/${N}/restore`,{method:"POST"}),E(I=>I.filter(K=>K.id!==N))},_e=N=>re("",async()=>{await F(`/api/memories/${N}/permanent`,{method:"DELETE"}),E(I=>I.filter(K=>K.id!==N))}),Be=async N=>{await F(`/api/sessions/${s}/summaries/${N}/restore`,{method:"POST"}),R(I=>I.filter(K=>K.id!==N))},te=N=>re("",async()=>{await F(`/api/sessions/${s}/summaries/${N}/permanent`,{method:"DELETE"}),R(I=>I.filter(K=>K.id!==N))}),ft=async N=>{if(v){try{v.type==="memory"?(await F(`/api/memories/${v.id}`,{method:"PUT",body:{content:N}}),m(I=>I.map(K=>K.id===v.id?{...K,content:N}:K))):(await F(`/api/sessions/${s}/summaries/${v.id}`,{method:"PATCH",body:{summary_content:N}}),j(I=>I.map(K=>K.id===v.id?{...K,summary_content:N}:K)))}catch(I){console.error(I)}b(null)}},Ue=N=>N==="user"?"":N==="assistant"?u||"":"",pt=N=>N==="user"?V.accentDark:N==="assistant"?"#8d68c4":V.textMuted,pn=r?(()=>{if(P)return o.jsx(Ns,{});const N=t==="memories"?ee:Q;return N.length===0?o.jsx(Cs,{text:W?"":""}):N.map(I=>o.jsx(u0,{content:I.content||I.summary_content||"()",deletedAt:I.deleted_at,keyword:W,onRestore:()=>t==="memories"?he(I.id):Be(I.id),onPermanentDelete:()=>t==="memories"?_e(I.id):te(I.id)},I.id))})():t==="memories"?P&&x.length===0?o.jsx(Ns,{}):z.length===0?o.jsx(Cs,{text:W?"":""}):z.map(N=>o.jsx(Sd,{time:Bs(N.created_at),keyword:W,onSwipeDelete:()=>ie(N.id),onEdit:()=>b({type:"memory",id:N.id,text:N.content}),badge:o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:V.accentDark},children:N.klass}),children:N.content},N.id)):t==="summaries"?P&&g.length===0?o.jsx(Ns,{}):A.length===0?o.jsx(Cs,{text:W?"":""}):A.map(N=>o.jsx(Sd,{time:Bs(N.created_at),keyword:W,onSwipeDelete:()=>be(N.id),onEdit:()=>b({type:"summary",id:N.id,text:N.summary_content}),badge:N.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:V.accentDark},children:N.mood_tag}):null,children:N.summary_content||"()"},N.id)):P&&w.length===0?o.jsx(Ns,{}):B.length===0?o.jsx(Cs,{text:W?"":""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:V.textMuted},children:""}),B.map(N=>o.jsx(Rh,{onDelete:()=>oe(N.id),children:o.jsxs("div",{className:"rounded-[18px] p-3",style:{background:V.bg},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:pt(N.role)},children:Ue(N.role)}),o.jsx("span",{className:"text-[10px]",style:{color:V.textMuted},children:Bs(N.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:V.text,maxHeight:120,overflow:"hidden"},children:o.jsx(zc,{text:N.content.length>200?N.content.slice(0,200)+"...":N.content,keyword:W})})]})},N.id)),T&&!W&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.accentDark},onClick:se,disabled:P,children:P?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:V.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:V.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:V.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>l(!r),children:o.jsx(Br,{size:16,style:{color:r?"#ef4444":V.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:V.bg,boxShadow:"var(--inset-shadow)"},children:a0.map(N=>{const I=r&&N.key==="messages",K=t===N.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:I?{color:V.textMuted,opacity:.35,cursor:"default"}:K?{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.accentDark}:{color:V.textMuted},disabled:I,onClick:()=>!I&&n(N.key),children:N.label},N.key)})})}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",style:{width:"33%"},children:[o.jsx("select",{className:"w-full appearance-none rounded-[12px] py-2 pl-3 pr-7 text-[11px] font-medium outline-none truncate",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)",color:V.text,WebkitAppearance:"none"},value:s!=null?s:"",onChange:N=>a(Number(N.target.value)),children:i.map(N=>o.jsxs("option",{value:N.id,children:["#",N.id," ",N.title||""]},N.id))}),o.jsx($r,{size:12,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",style:{color:V.textMuted}})]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Sv,{size:13,className:"absolute left-2.5 top-1/2 -translate-y-1/2",style:{color:V.textMuted}}),o.jsx("input",{className:"w-full rounded-[12px] py-2 pl-8 pr-7 text-[11px] outline-none",style:{background:V.bg,boxShadow:"var(--inset-shadow)",color:V.text},placeholder:"...",value:f,onChange:N=>h(N.target.value)}),f&&o.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>h(""),children:o.jsx(Ql,{size:13,style:{color:V.textMuted}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:pn}),y&&o.jsx(i0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(N){console.error(N)}k(null)},onCancel:()=>k(null)}),v&&o.jsx(c0,{initialText:v.text,onSave:ft,onCancel:()=>b(null)})]})}function Ns(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:V.accent,borderTopColor:"transparent"}})})}function Cs({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:V.textMuted},children:e})}const H={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},f0=[{key:"theirs",label:""},{key:"mine",label:""}],Es=80;function zh(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),s=`${r}:${l}`;return n-t<864e5&&t.toDateString()===n.toDateString()?s:`${t.getMonth()+1}/${t.getDate()} ${s}`}function p0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-6",style:{background:H.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:H.text},children:""}),o.jsx("p",{className:"mb-5 text-center text-[13px]",style:{color:H.textMuted},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.text},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:t,children:""})]})]})})}function h0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,c)=>{const u=n.current,p=r.current;if(!u)return;const f=c?"all 0.25s cubic-bezier(.4,0,.2,1)":"none";u.style.transition=f,u.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/Es)}`),l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},children:[o.jsx(Br,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const c=i.touches[0],u=l.current;u.sx=c.clientX,u.sy=c.clientY,u.base=u.cur,u.drag=!0,u.locked=!1,u.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const c=l.current;if(!c.drag)return;const u=i.touches[0],p=u.clientX-c.sx,f=u.clientY-c.sy;if(!c.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;c.locked=!0,c.horiz=Math.abs(p)>Math.abs(f)}if(!c.horiz){c.drag=!1;return}i.preventDefault();const h=Math.max(-Es,Math.min(0,c.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/Es)}`),c.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-40?-Es:0,!0)},children:e})]})}function m0({unlockAt:e}){const[t,n]=d.useState(Date.now());d.useEffect(()=>{const u=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(u)},[]);const r=new Date(e).getTime()-t;if(r<=0)return null;const l=Math.floor(r/864e5),s=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);let c="";return l>0&&(c+=`${l}`),(s>0||l>0)&&(c+=`${s}`),c+=`${a}${i}`,o.jsxs("div",{className:"flex items-center gap-1.5 text-[12px]",style:{color:H.accentDark},children:[o.jsx(kv,{size:12}),o.jsx("span",{children:c})]})}function x0({assistants:e,avatarMap:t,currentId:n,onSelect:r,onClose:l}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:l,children:o.jsxs("div",{className:"mx-6 w-full max-w-[300px] rounded-[22px] p-5",style:{background:H.bg,boxShadow:"0 8px 30px rgba(0,0,0,0.18)"},onClick:s=>s.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:H.text},children:""}),o.jsx("button",{onClick:l,children:o.jsx(Ql,{size:18,style:{color:H.textMuted}})})]}),o.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(s=>{var i;const a=t[s.id]||s.avatar_url;return o.jsxs("button",{className:"mb-2 flex w-full items-center gap-3 rounded-[14px] p-3 text-left",style:{background:H.bg,boxShadow:s.id===n?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{r(s.id),l()},children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:36,height:36,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:2},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:H.bg},children:a?o.jsx("img",{src:a,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:H.accentDark},children:((i=s.name)==null?void 0:i[0])||"?"})})}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:H.text},children:s.name})]},s.id)})})]})})}function g0({diary:e,onBack:t,onMarkRead:n}){return d.useEffect(()=>{e&&!e.is_read&&e.author==="assistant"&&(!e.unlock_at||new Date(e.unlock_at)<=new Date)&&n(e.id)},[e]),o.jsxs("div",{className:"flex h-full flex-col",style:{background:H.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:t,children:o.jsx(St,{size:22,style:{color:H.text}})}),o.jsx("h1",{className:"text-[15px] font-bold truncate max-w-[60%]",style:{color:H.text},children:e.title||""}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:o.jsxs("div",{className:"rounded-[18px] p-5",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{className:"mb-3 text-[10px]",style:{color:H.textMuted},children:zh(e.created_at)}),o.jsx("div",{className:"text-[13px] leading-[28px]",style:{color:H.text},children:e.content.split(`
`).map((r,l)=>o.jsx("div",{style:{borderBottom:"1px solid rgba(0,0,0,0.06)",minHeight:28},children:r||""},l))})]})})]})}function v0({assistantId:e,onSave:t,onCancel:n}){const[r,l]=d.useState(""),[s,a]=d.useState(""),[i,c]=d.useState(!1),[u,p]=d.useState(""),[f,h]=d.useState(!1),[y,k]=d.useState(!1),v=async()=>{if(!(!s.trim()||f)){h(!0);try{const b={assistant_id:e,author:"user",title:r.trim(),content:s.trim()};i&&u&&(b.unlock_at=new Date(u).toISOString()),await t(b)}finally{h(!1)}}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:H.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(St,{size:22,style:{color:H.text}})}),o.jsx("h1",{className:"text-[15px] font-bold",style:{color:H.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:s.trim()?"var(--card-shadow-sm)":"var(--inset-shadow)"},onClick:v,disabled:!s.trim()||f,children:o.jsx("span",{className:"text-[12px] font-bold",style:{color:s.trim()?H.accentDark:H.textMuted},children:""})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[!y&&o.jsx("input",{className:"mb-3 w-full rounded-[12px] px-3 py-2.5 text-[13px] font-medium outline-none",style:{background:H.bg,boxShadow:"var(--inset-shadow)",color:H.text},placeholder:"",value:r,onChange:b=>l(b.target.value)}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx("textarea",{className:"w-full rounded-[14px] p-3 text-[13px] leading-[28px] resize-none outline-none",style:{background:H.bg,boxShadow:"var(--inset-shadow)",color:H.text,minHeight:y?"calc(100vh - 120px)":200,backgroundImage:"repeating-linear-gradient(transparent, transparent 27px, rgba(0,0,0,0.05) 27px, rgba(0,0,0,0.05) 28px)",backgroundPositionY:9},placeholder:"...",value:s,onChange:b=>a(b.target.value),autoFocus:!0}),o.jsx("button",{className:"absolute top-2 right-2 flex h-7 w-7 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>k(!y),children:y?o.jsx(Pr,{size:13,style:{color:H.accentDark}}):o.jsx(Yl,{size:13,style:{color:H.accentDark}})})]}),!y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between rounded-[14px] px-4 py-3",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[13px] font-medium",style:{color:H.text},children:""}),o.jsx("p",{className:"text-[10px]",style:{color:H.textMuted},children:""})]}),o.jsx("button",{className:"relative h-7 w-12 rounded-full transition-colors",style:{background:i?H.accent:"rgba(0,0,0,0.1)"},onClick:()=>{if(!i&&!u){const b=new Date;b.setDate(b.getDate()+1),b.setHours(9,0,0,0);const x=m=>String(m).padStart(2,"0");p(`${b.getFullYear()}-${x(b.getMonth()+1)}-${x(b.getDate())}T${x(b.getHours())}:${x(b.getMinutes())}`)}c(!i)},children:o.jsx("div",{className:"absolute top-0.5 h-6 w-6 rounded-full transition-transform",style:{background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transform:i?"translateX(22px)":"translateX(2px)"}})})]}),i&&o.jsxs("div",{className:"rounded-[14px] px-4 py-3",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("p",{className:"mb-2 text-[12px] font-medium",style:{color:H.text},children:""}),o.jsx("input",{type:"datetime-local",className:"w-full rounded-[10px] px-3 py-2 text-[13px] outline-none",style:{background:H.bg,boxShadow:"var(--inset-shadow)",color:H.text},value:u,onChange:b=>p(b.target.value)})]})]})]})]})}function y0(){var G;const e=zt(),[t,n]=d.useState("theirs"),[r,l]=d.useState([]),[s,a]=d.useState({}),[i,c]=d.useState(null),[u,p]=d.useState(!1),[f,h]=d.useState([]),[y,k]=d.useState(!0),[v,b]=d.useState(null),[x,m]=d.useState(null),[g,j]=d.useState(!1);d.useEffect(()=>{F("/api/assistants").then(async T=>{const U=T.assistants||[];l(U),U.length>0&&!i&&c(U[0].id);const Y={};await Promise.all(U.map(async se=>{const W=await Gl(`assistant-avatar-${se.id}`).catch(()=>null);W&&(Y[se.id]=W)})),a(Y)}).catch(()=>{})},[]);const w=r.find(T=>T.id===i),C=i&&s[i]||(w==null?void 0:w.avatar_url);d.useEffect(()=>{i!=null&&S()},[i,t]);const S=async()=>{k(!0);try{const U=await F(`/api/diary?assistant_id=${i}&author=${t==="theirs"?"assistant":"user"}&limit=100`);h(U.diary||[])}catch(T){console.error(T)}k(!1)},E=T=>{b({message:"",action:async()=>{await F(`/api/diary/${T}`,{method:"DELETE"}),h(U=>U.filter(Y=>Y.id!==T))}})},_=async T=>{try{await F(`/api/diary/${T}/read`,{method:"POST"}),h(U=>U.map(Y=>Y.id===T?{...Y,is_read:!0}:Y))}catch(U){console.error(U)}},R=async T=>{await F("/api/diary",{method:"POST",body:T}),j(!1),S()},P=T=>{T.unlock_at&&new Date(T.unlock_at)>new Date||m(T)};return x?o.jsx(g0,{diary:x,onBack:()=>{m(null),S()},onMarkRead:_}):g?o.jsx(v0,{assistantId:i,onSave:R,onCancel:()=>j(!1)}):o.jsxs("div",{className:"flex h-full flex-col",style:{background:H.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:H.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:H.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{border:"2px solid #e8a0bf",padding:2},onClick:()=>p(!0),children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:H.bg},children:C?o.jsx("img",{src:C,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[14px]",style:{color:H.accentDark},children:((G=w==null?void 0:w.name)==null?void 0:G[0])||"?"})})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:H.bg,boxShadow:"var(--inset-shadow)"},children:f0.map(T=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:t===T.key?{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.accentDark}:{color:H.textMuted},onClick:()=>n(T.key),children:T.label},T.key))})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:y?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:H.accent,borderTopColor:"transparent"}})}):f.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:H.textMuted},children:t==="theirs"?"":""}):f.map(T=>{const U=T.unlock_at&&new Date(T.unlock_at)>new Date;return o.jsx(h0,{onDelete:()=>E(T.id),children:o.jsxs("div",{className:"p-4 rounded-[18px]",style:{background:H.bg,userSelect:"none"},onClick:()=>P(T),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[!T.is_read&&T.author==="assistant"&&!U&&o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{background:"#ef4444"}}),o.jsx("span",{className:"text-[13px] font-medium truncate",style:{color:H.text},children:T.title||""})]}),o.jsx("span",{className:"text-[10px] shrink-0 ml-2",style:{color:H.textMuted},children:zh(T.created_at)})]}),U?o.jsx(m0,{unlockAt:T.unlock_at}):o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:H.textMuted,maxHeight:40,overflow:"hidden"},children:T.content.length>60?T.content.slice(0,60)+"...":T.content})]})},T.id)})}),t==="mine"&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center",style:{zIndex:30},children:o.jsx("button",{className:"flex h-12 w-12 items-center justify-center rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",boxShadow:"0 4px 14px rgba(232,160,191,0.4)"},onClick:()=>j(!0),children:o.jsx(Fr,{size:22,color:"white"})})}),u&&o.jsx(x0,{assistants:r,avatarMap:s,currentId:i,onSelect:c,onClose:()=>p(!1)}),v&&o.jsx(p0,{message:v.message,onConfirm:async()=>{try{await v.action()}catch(T){console.error(T)}b(null)},onCancel:()=>b(null)})]})}const ue={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function w0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:ue.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:ue.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Pr,{size:18,style:{color:ue.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:ue.bg,color:ue.text},placeholder:"..."})]})}function k0(){const e=zt(),[t,n]=d.useState(""),[r,l]=d.useState(""),[s,a]=d.useState(""),[i,c]=d.useState(""),[u,p]=d.useState(!1),[f,h]=d.useState(!0),[y,k]=d.useState(null),[v,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=S=>{k(S),setTimeout(()=>k(null),2e3)};d.useEffect(()=>{F("/api/user/profile").then(S=>{n(S.nickname||""),l(S.background_url||""),a(S.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Gl("user-avatar").then(S=>{S&&c(S)}).catch(function(){})},[]);const j=S=>{var R;const E=(R=S.target.files)==null?void 0:R[0];if(!E)return;const _=new FileReader;_.onload=async P=>{const G=P.target.result;try{await Ni("user-avatar",G),c(G)}catch(T){g("")}},_.readAsDataURL(E),S.target.value=""},w=S=>{var R;const E=(R=S.target.files)==null?void 0:R[0];if(!E)return;const _=new FileReader;_.onload=P=>a(P.target.result||""),_.readAsText(E),S.target.value=""},C=async()=>{p(!0);try{const S={nickname:t.trim()||null,background_url:r||null,basic_info:s||null,avatar_url:i?"user-avatar":null};await F("/api/user/profile",{method:"PUT",body:S});try{const E=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...E,...S}))}catch(E){}g("")}catch(S){g("")}finally{p(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ue.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(St,{size:22,style:{color:ue.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ue.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:u?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:C,disabled:u,children:o.jsx(Fo,{size:18,style:{color:ue.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:f?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:ue.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:ue.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ue.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:ue.accentDark},children:o.jsx(Jp,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:j}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:ue.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:ue.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ue.bg},onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},title:"",children:o.jsx($o,{size:13,style:{color:ue.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:w}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ue.bg},onClick:()=>b(!0),title:"",children:o.jsx(Yl,{size:13,style:{color:ue.accentDark}})})]})]}),o.jsx("textarea",{value:s,onChange:S=>a(S.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,color:ue.text}})]})]})}),v&&o.jsx(w0,{value:s,onChange:a,onClose:()=>b(!1)}),y&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:y})})]})}function b0(){return d.useEffect(()=>{var t;const e=()=>{var l;const n=(l=window.Telegram)==null?void 0:l.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),o.jsx(ov,{children:o.jsxs(rv,{children:[o.jsx(Ze,{path:"/",element:o.jsx(_v,{})}),o.jsx(Ze,{path:"/profile",element:o.jsx(k0,{})}),o.jsx(Ze,{path:"/world-books",element:o.jsx(Lv,{})}),o.jsx(Ze,{path:"/world-books/new",element:o.jsx(rd,{})}),o.jsx(Ze,{path:"/world-books/:id",element:o.jsx(rd,{})}),o.jsx(Ze,{path:"/assistants",element:o.jsx(Kv,{})}),o.jsx(Ze,{path:"/assistants/new",element:o.jsx(yd,{})}),o.jsx(Ze,{path:"/assistants/:id",element:o.jsx(yd,{})}),o.jsx(Ze,{path:"/settings",element:o.jsx(K1,{})}),o.jsx(Ze,{path:"/settings/api",element:o.jsx(Z1,{})}),o.jsx(Ze,{path:"/cot",element:o.jsx(l0,{})}),o.jsx(Ze,{path:"/memories",element:o.jsx(d0,{})}),o.jsx(Ze,{path:"/diary",element:o.jsx(y0,{})}),o.jsx(Ze,{path:"/messages",element:o.jsx(o0,{})})]})})}Da.createRoot(document.getElementById("root")).render(o.jsx(ve.StrictMode,{children:o.jsx(b0,{})}));
