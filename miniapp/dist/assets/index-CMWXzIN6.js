function Ph(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bd={exports:{}},ho={},Sd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),Wh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),zu=Symbol.iterator;function Xh(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Cd={};function Pr(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||jd}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ed(){}Ed.prototype=Pr.prototype;function Ci(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||jd}var Ei=Ci.prototype=new Ed;Ei.constructor=Ci;Nd(Ei,Pr.prototype);Ei.isPureReactComponent=!0;var Pu=Array.isArray,Md=Object.prototype.hasOwnProperty,Mi={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Md.call(t,r)&&!Td.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Fl,type:e,key:s,ref:a,props:l,_owner:Mi.current}}function Kh(e,t){return{$$typeof:Fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fl}function Qh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Iu=/\/+/g;function Xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qh(""+e.key):t.toString(36)}function Ss(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fl:case Lh:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Xo(a,0):r,Pu(l)?(n="",e!=null&&(n=e.replace(Iu,"$&/")+"/"),Ss(l,t,n,"",function(c){return c})):l!=null&&(Ti(l)&&(l=Kh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Iu,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Pu(e))for(var i=0;i<e.length;i++){s=e[i];var u=r+Xo(s,i);a+=Ss(s,t,n,u,l)}else if(u=Xh(e),typeof u=="function")for(e=u.call(e),i=0;!(s=e.next()).done;)s=s.value,u=r+Xo(s,i++),a+=Ss(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ql(e,t,n){if(e==null)return e;var r=[],l=0;return Ss(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Yh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},js={transition:null},Gh={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:js,ReactCurrentOwner:Mi};function Dd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Pr;G.Fragment=Oh;G.Profiler=Fh;G.PureComponent=Ci;G.StrictMode=Ah;G.Suspense=Hh;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;G.act=Dd;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nd({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Mi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Md.call(t,u)&&!Td.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Fl,type:e.type,key:l,ref:s,props:r,_owner:a}};G.createContext=function(e){return e={$$typeof:Bh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$h,_context:e},e.Consumer=e};G.createElement=_d;G.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Uh,render:e}};G.isValidElement=Ti;G.lazy=function(e){return{$$typeof:Vh,_payload:{_status:-1,_result:e},_init:Yh}};G.memo=function(e,t){return{$$typeof:Wh,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=js.transition;js.transition={};try{e()}finally{js.transition=t}};G.unstable_act=Dd;G.useCallback=function(e,t){return et.current.useCallback(e,t)};G.useContext=function(e){return et.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return et.current.useDeferredValue(e)};G.useEffect=function(e,t){return et.current.useEffect(e,t)};G.useId=function(){return et.current.useId()};G.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return et.current.useMemo(e,t)};G.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};G.useRef=function(e){return et.current.useRef(e)};G.useState=function(e){return et.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return et.current.useTransition()};G.version="18.3.1";Sd.exports=G;var d=Sd.exports;const me=Ih(d),Jh=Ph({__proto__:null,default:me},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=d,Zh=Symbol.for("react.element"),em=Symbol.for("react.fragment"),tm=Object.prototype.hasOwnProperty,nm=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rm={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)tm.call(t,r)&&!rm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Zh,type:e,key:s,ref:a,props:l,_owner:nm.current}}ho.Fragment=em;ho.jsx=Rd;ho.jsxs=Rd;bd.exports=ho;var o=bd.exports,Ea={},zd={exports:{}},wt={},Pd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,O){var F=z.length;z.push(O);e:for(;0<F;){var q=F-1>>>1,Q=z[q];if(0<l(Q,O))z[q]=O,z[F]=Q,F=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var O=z[0],F=z.pop();if(F!==O){z[0]=F;e:for(var q=0,Q=z.length,te=Q>>>1;q<te;){var se=2*(q+1)-1,ke=z[se],re=se+1,de=z[re];if(0>l(ke,F))re<Q&&0>l(de,ke)?(z[q]=de,z[re]=F,q=re):(z[q]=ke,z[se]=F,q=se);else if(re<Q&&0>l(de,F))z[q]=de,z[re]=F,q=re;else break e}}return O}function l(z,O){var F=z.sortIndex-O.sortIndex;return F!==0?F:z.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var u=[],c=[],p=1,f=null,h=3,y=!1,k=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(z){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=z)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function j(z){if(v=!1,g(z),!k)if(n(u)!==null)k=!0,ve(w);else{var O=n(c);O!==null&&U(j,O.startTime-z)}}function w(z,O){k=!1,v&&(v=!1,x(E),E=-1),y=!0;var F=h;try{for(g(O),f=n(u);f!==null&&(!(f.expirationTime>O)||z&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var Q=q(f.expirationTime<=O);O=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(u)&&r(u),g(O)}else r(u);f=n(u)}if(f!==null)var te=!0;else{var se=n(c);se!==null&&U(j,se.startTime-O),te=!1}return te}finally{f=null,h=F,y=!1}}var C=!1,S=null,E=-1,_=5,R=-1;function D(){return!(e.unstable_now()-R<_)}function X(){if(S!==null){var z=e.unstable_now();R=z;var O=!0;try{O=S(!0,z)}finally{O?$():(C=!1,S=null)}}else C=!1}var $;if(typeof m=="function")$=function(){m(X)};else if(typeof MessageChannel!="undefined"){var K=new MessageChannel,ge=K.port2;K.port1.onmessage=X,$=function(){ge.postMessage(null)}}else $=function(){b(X,0)};function ve(z){S=z,C||(C=!0,$())}function U(z,O){E=b(function(){z(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,ve(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var F=h;h=O;try{return z()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,O){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=h;h=z;try{return O()}finally{h=F}},e.unstable_scheduleCallback=function(z,O,F){var q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,z={id:p++,callback:O,priorityLevel:z,startTime:F,expirationTime:Q,sortIndex:-1},F>q?(z.sortIndex=F,t(c,z),n(u)===null&&z===n(c)&&(v?(x(E),E=-1):v=!0,U(j,F-q))):(z.sortIndex=Q,t(u,z),k||y||(k=!0,ve(w))),z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(z){var O=h;return function(){var F=h;h=O;try{return z.apply(this,arguments)}finally{h=F}}}})(Id);Pd.exports=Id;var lm=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=d,yt=lm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,xl={};function Zn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(xl[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var on=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ma=Object.prototype.hasOwnProperty,om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},Ou={};function am(e){return Ma.call(Ou,e)?!0:Ma.call(Lu,e)?!1:om.test(e)?Ou[e]=!0:(Lu[e]=!0,!1)}function im(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function um(e,t,n,r){if(t===null||typeof t=="undefined"||im(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _i=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_i,Di);Ve[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_i,Di);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_i,Di);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ri(e,t,n,r){var l=Ve.hasOwnProperty(t)?Ve[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(um(t,n,l,r)&&(n=null),r||l===null?am(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dn=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),or=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),zi=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),Pi=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Ii=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Fd=Symbol.for("react.offscreen"),Au=Symbol.iterator;function Vr(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Ko;function el(e){if(Ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||""}return`
`+Ko+e}var Qo=!1;function Yo(e,t){if(!e||Qo)return"";Qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,i=s.length-1;1<=a&&0<=i&&l[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==s[i]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=i);break}}}finally{Qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?el(e):""}function cm(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case or:return"Portal";case Ta:return"Profiler";case zi:return"StrictMode";case _a:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ad:return(e.displayName||"Context")+".Consumer";case Od:return(e._context.displayName||"Context")+".Provider";case Pi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ii:return t=e.displayName||null,t!==null?t:Ra(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return Ra(e(t))}catch(n){}}return null}function dm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(t);case 8:return t===zi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fm(e){var t=$d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=fm(e))}function Bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$d(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function za(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Fu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ud(e,t){t=t.checked,t!=null&&Ri(e,"checked",t,!1)}function Pa(e,t){Ud(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $u(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tl=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function La(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(tl(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function Hd(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Vd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pm=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function Xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function Kd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var hm=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(e,t){if(t){if(hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,wr=null,kr=null;function Hu(e){if(e=Ul(e)){if(typeof Ba!="function")throw Error(T(280));var t=e.stateNode;t&&(t=yo(t),Ba(e.stateNode,e.type,t))}}function Qd(e){wr?kr?kr.push(e):kr=[e]:wr=e}function Yd(){if(wr){var e=wr,t=kr;if(kr=wr=null,Hu(e),t)for(e=0;e<t.length;e++)Hu(t[e])}}function Gd(e,t){return e(t)}function Jd(){}var Go=!1;function qd(e,t,n){if(Go)return e(t,n);Go=!0;try{return Gd(e,t,n)}finally{Go=!1,(wr!==null||kr!==null)&&(Jd(),Yd())}}function vl(e,t){var n=e.stateNode;if(n===null)return null;var r=yo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Ua=!1;if(on)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch(e){Ua=!1}function mm(e,t,n,r,l,s,a,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var sl=!1,As=null,Fs=!1,Ha=null,xm={onError:function(e){sl=!0,As=e}};function gm(e,t,n,r,l,s,a,i,u){sl=!1,As=null,mm.apply(xm,arguments)}function vm(e,t,n,r,l,s,a,i,u){if(gm.apply(this,arguments),sl){if(sl){var c=As;sl=!1,As=null}else throw Error(T(198));Fs||(Fs=!0,Ha=c)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wu(e){if(er(e)!==e)throw Error(T(188))}function ym(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Wu(l),e;if(s===r)return Wu(l),t;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function ef(e){return e=ym(e),e!==null?tf(e):null}function tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tf(e);if(t!==null)return t;e=e.sibling}return null}var nf=yt.unstable_scheduleCallback,Vu=yt.unstable_cancelCallback,wm=yt.unstable_shouldYield,km=yt.unstable_requestPaint,Te=yt.unstable_now,bm=yt.unstable_getCurrentPriorityLevel,Oi=yt.unstable_ImmediatePriority,rf=yt.unstable_UserBlockingPriority,$s=yt.unstable_NormalPriority,Sm=yt.unstable_LowPriority,lf=yt.unstable_IdlePriority,mo=null,Qt=null;function jm(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Ot=Math.clz32?Math.clz32:Em,Nm=Math.log,Cm=Math.LN2;function Em(e){return e>>>=0,e===0?32:31-(Nm(e)/Cm|0)|0}var ns=64,rs=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=nl(i):(s&=a,s!==0&&(r=nl(s)))}else a=n&~l,a!==0?r=nl(a):s!==0&&(r=nl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),l=1<<n,r|=e[n],t&=~l;return r}function Mm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ot(s),i=1<<a,u=l[a];u===-1?(!(i&n)||i&r)&&(l[a]=Mm(i,t)):u<=t&&(e.expiredLanes|=i),s&=~i}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sf(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Jo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $l(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function _m(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ot(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ie=0;function of(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var af,Fi,uf,cf,df,Va=!1,ls=[],Cn=null,En=null,Mn=null,yl=new Map,wl=new Map,kn=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function Kr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ul(t),t!==null&&Fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Rm(e,t,n,r,l){switch(t){case"focusin":return Cn=Kr(Cn,e,t,n,r,l),!0;case"dragenter":return En=Kr(En,e,t,n,r,l),!0;case"mouseover":return Mn=Kr(Mn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return yl.set(s,Kr(yl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,wl.set(s,Kr(wl.get(s)||null,e,t,n,r,l)),!0}return!1}function ff(e){var t=Un(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=Zd(n),t!==null){e.blockedOn=t,df(e.priority,function(){uf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$a=r,n.target.dispatchEvent(r),$a=null}else return t=Ul(n),t!==null&&Fi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ku(e,t,n){Ns(e)&&n.delete(t)}function zm(){Va=!1,Cn!==null&&Ns(Cn)&&(Cn=null),En!==null&&Ns(En)&&(En=null),Mn!==null&&Ns(Mn)&&(Mn=null),yl.forEach(Ku),wl.forEach(Ku)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,zm)))}function kl(e){function t(l){return Qr(l,e)}if(0<ls.length){Qr(ls[0],e);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cn!==null&&Qr(Cn,e),En!==null&&Qr(En,e),Mn!==null&&Qr(Mn,e),yl.forEach(t),wl.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)ff(n),n.blockedOn===null&&kn.shift()}var br=dn.ReactCurrentBatchConfig,Us=!0;function Pm(e,t,n,r){var l=ie,s=br.transition;br.transition=null;try{ie=1,$i(e,t,n,r)}finally{ie=l,br.transition=s}}function Im(e,t,n,r){var l=ie,s=br.transition;br.transition=null;try{ie=4,$i(e,t,n,r)}finally{ie=l,br.transition=s}}function $i(e,t,n,r){if(Us){var l=Xa(e,t,n,r);if(l===null)aa(e,t,r,Hs,n),Xu(e,r);else if(Rm(l,e,t,n,r))r.stopPropagation();else if(Xu(e,r),t&4&&-1<Dm.indexOf(e)){for(;l!==null;){var s=Ul(l);if(s!==null&&af(s),s=Xa(e,t,n,r),s===null&&aa(e,t,r,Hs,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else aa(e,t,r,null,n)}}var Hs=null;function Xa(e,t,n,r){if(Hs=null,e=Li(r),e=Un(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hs=e,null}function pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case Oi:return 1;case rf:return 4;case $s:case Sm:return 16;case lf:return 536870912;default:return 16}default:return 16}}var Sn=null,Bi=null,Cs=null;function hf(){if(Cs)return Cs;var e,t=Bi,n=t.length,r,l="value"in Sn?Sn.value:Sn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return Cs=l.slice(e,1<r?1-r:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function Qu(){return!1}function kt(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ss:Qu,this.isPropagationStopped=Qu,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=kt(Ir),Bl=je({},Ir,{view:0,detail:0}),Lm=kt(Bl),qo,Zo,Yr,xo=je({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(qo=e.screenX-Yr.screenX,Zo=e.screenY-Yr.screenY):Zo=qo=0,Yr=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Yu=kt(xo),Om=je({},xo,{dataTransfer:0}),Am=kt(Om),Fm=je({},Bl,{relatedTarget:0}),ea=kt(Fm),$m=je({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=kt($m),Um=je({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hm=kt(Um),Wm=je({},Ir,{data:0}),Gu=kt(Wm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Km[e])?!!t[e]:!1}function Hi(){return Qm}var Ym=je({},Bl,{key:function(e){if(e.key){var t=Vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=kt(Ym),Jm=je({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=kt(Jm),qm=je({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Zm=kt(qm),ex=je({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),tx=kt(ex),nx=je({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=kt(nx),lx=[9,13,27,32],Wi=on&&"CompositionEvent"in window,ol=null;on&&"documentMode"in document&&(ol=document.documentMode);var sx=on&&"TextEvent"in window&&!ol,mf=on&&(!Wi||ol&&8<ol&&11>=ol),qu=" ",Zu=!1;function xf(e,t){switch(e){case"keyup":return lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function ox(e,t){switch(e){case"compositionend":return gf(t);case"keypress":return t.which!==32?null:(Zu=!0,qu);case"textInput":return e=t.data,e===qu&&Zu?null:e;default:return null}}function ax(e,t){if(ir)return e==="compositionend"||!Wi&&xf(e,t)?(e=hf(),Cs=Bi=Sn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mf&&t.locale!=="ko"?null:t.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ix[e.type]:t==="textarea"}function vf(e,t,n,r){Qd(r),t=Ws(t,"onChange"),0<t.length&&(n=new Ui("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var al=null,bl=null;function ux(e){Tf(e,0)}function go(e){var t=dr(e);if(Bd(t))return e}function cx(e,t){if(e==="change")return t}var yf=!1;if(on){var ta;if(on){var na="oninput"in document;if(!na){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),na=typeof tc.oninput=="function"}ta=na}else ta=!1;yf=ta&&(!document.documentMode||9<document.documentMode)}function nc(){al&&(al.detachEvent("onpropertychange",wf),bl=al=null)}function wf(e){if(e.propertyName==="value"&&go(bl)){var t=[];vf(t,bl,e,Li(e)),qd(ux,t)}}function dx(e,t,n){e==="focusin"?(nc(),al=t,bl=n,al.attachEvent("onpropertychange",wf)):e==="focusout"&&nc()}function fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(bl)}function px(e,t){if(e==="click")return go(t)}function hx(e,t){if(e==="input"||e==="change")return go(t)}function mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:mx;function Sl(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ma.call(t,l)||!Ft(e[l],t[l]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,t){var n=rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bf(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xx(e){var t=bf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kf(n.ownerDocument.documentElement,n)){if(r!==null&&Vi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=lc(n,s);var a=lc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gx=on&&"documentMode"in document&&11>=document.documentMode,ur=null,Ka=null,il=null,Qa=!1;function sc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||ur==null||ur!==Os(r)||(r=ur,"selectionStart"in r&&Vi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Sl(il,r)||(il=r,r=Ws(Ka,"onSelect"),0<r.length&&(t=new Ui("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},ra={},Sf={};on&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function vo(e){if(ra[e])return ra[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sf)return ra[e]=t[n];return e}var jf=vo("animationend"),Nf=vo("animationiteration"),Cf=vo("animationstart"),Ef=vo("transitionend"),Mf=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Mf.set(e,t),Zn(t,[e])}for(var la=0;la<oc.length;la++){var sa=oc[la],vx=sa.toLowerCase(),yx=sa[0].toUpperCase()+sa.slice(1);On(vx,"on"+yx)}On(jf,"onAnimationEnd");On(Nf,"onAnimationIteration");On(Cf,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(Ef,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function ac(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vm(r,t,void 0,e),e.currentTarget=null}function Tf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==s&&l.isPropagationStopped())break e;ac(l,i,c),s=u}else for(a=0;a<r.length;a++){if(i=r[a],u=i.instance,c=i.currentTarget,i=i.listener,u!==s&&l.isPropagationStopped())break e;ac(l,i,c),s=u}}}if(Fs)throw e=Ha,Fs=!1,Ha=null,e}function he(e,t){var n=t[Za];n===void 0&&(n=t[Za]=new Set);var r=e+"__bubble";n.has(r)||(_f(t,e,2,!1),n.add(r))}function oa(e,t,n){var r=0;t&&(r|=4),_f(n,e,r,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[as]){e[as]=!0,Ld.forEach(function(n){n!=="selectionchange"&&(wx.has(n)||oa(n,!1,e),oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,oa("selectionchange",!1,t))}}function _f(e,t,n,r){switch(pf(t)){case 1:var l=Pm;break;case 4:l=Im;break;default:l=$i}n=l.bind(null,t,n,e),l=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function aa(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Un(i),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}i=i.parentNode}}r=r.return}qd(function(){var c=s,p=Li(n),f=[];e:{var h=Mf.get(e);if(h!==void 0){var y=Ui,k=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":y=Gm;break;case"focusin":k="focus",y=ea;break;case"focusout":k="blur",y=ea;break;case"beforeblur":case"afterblur":y=ea;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zm;break;case jf:case Nf:case Cf:y=Bm;break;case Ef:y=tx;break;case"scroll":y=Lm;break;case"wheel":y=rx;break;case"copy":case"cut":case"paste":y=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ju}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=vl(m,x),j!=null&&v.push(Nl(m,j,g)))),b)break;m=m.return}0<v.length&&(h=new y(h,k,null,n,p),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==$a&&(k=n.relatedTarget||n.fromElement)&&(Un(k)||k[an]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=c,k=k?Un(k):null,k!==null&&(b=er(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=c),y!==k)){if(v=Yu,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ju,j="onPointerLeave",x="onPointerEnter",m="pointer"),b=y==null?h:dr(y),g=k==null?h:dr(k),h=new v(j,m+"leave",y,n,p),h.target=b,h.relatedTarget=g,j=null,Un(p)===c&&(v=new v(x,m+"enter",k,n,p),v.target=g,v.relatedTarget=b,j=v),b=j,y&&k)t:{for(v=y,x=k,m=0,g=v;g;g=lr(g))m++;for(g=0,j=x;j;j=lr(j))g++;for(;0<m-g;)v=lr(v),m--;for(;0<g-m;)x=lr(x),g--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=lr(v),x=lr(x)}v=null}else v=null;y!==null&&ic(f,h,y,v,!1),k!==null&&b!==null&&ic(f,b,k,v,!0)}}e:{if(h=c?dr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=cx;else if(ec(h))if(yf)w=hx;else{w=fx;var C=dx}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=px);if(w&&(w=w(e,c))){vf(f,w,n,p);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ia(h,"number",h.value)}switch(C=c?dr(c):window,e){case"focusin":(ec(C)||C.contentEditable==="true")&&(ur=C,Ka=c,il=null);break;case"focusout":il=Ka=ur=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,sc(f,n,p);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":sc(f,n,p)}var S;if(Wi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ir?xf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(mf&&n.locale!=="ko"&&(ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&ir&&(S=hf()):(Sn=p,Bi="value"in Sn?Sn.value:Sn.textContent,ir=!0)),C=Ws(c,E),0<C.length&&(E=new Gu(E,e,null,n,p),f.push({event:E,listeners:C}),S?E.data=S:(S=gf(n),S!==null&&(E.data=S)))),(S=sx?ox(e,n):ax(e,n))&&(c=Ws(c,"onBeforeInput"),0<c.length&&(p=new Gu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=S))}Tf(f,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=vl(e,n),s!=null&&r.unshift(Nl(e,s,l)),s=vl(e,t),s!=null&&r.push(Nl(e,s,l))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,l?(u=vl(n,s),u!=null&&a.unshift(Nl(n,u,i))):l||(u=vl(n,s),u!=null&&a.push(Nl(n,u,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var kx=/\r\n?/g,bx=/\u0000|\uFFFD/g;function uc(e){return(typeof e=="string"?e:""+e).replace(kx,`
`).replace(bx,"")}function is(e,t,n){if(t=uc(t),uc(e)!==t&&n)throw Error(T(425))}function Vs(){}var Ya=null,Ga=null;function Ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof cc!="undefined"?function(e){return cc.resolve(null).then(e).catch(Nx)}:qa;function Nx(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),kl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);kl(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Lr,Cl="__reactProps$"+Lr,an="__reactContainer$"+Lr,Za="__reactEvents$"+Lr,Cx="__reactListeners$"+Lr,Ex="__reactHandles$"+Lr;function Un(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dc(e);e!==null;){if(n=e[Kt])return n;e=dc(e)}return t}e=n,n=e.parentNode}return null}function Ul(e){return e=e[Kt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function yo(e){return e[Cl]||null}var ei=[],fr=-1;function An(e){return{current:e}}function xe(e){0>fr||(e.current=ei[fr],ei[fr]=null,fr--)}function pe(e,t){fr++,ei[fr]=e.current,e.current=t}var In={},Je=An(In),it=An(!1),Qn=In;function Er(e,t){var n=e.type.contextTypes;if(!n)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function Xs(){xe(it),xe(Je)}function fc(e,t,n){if(Je.current!==In)throw Error(T(168));pe(Je,t),pe(it,n)}function Df(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(T(108,dm(e)||"Unknown",l));return je({},n,r)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,Qn=Je.current,pe(Je,e),pe(it,it.current),!0}function pc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Df(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,xe(it),xe(Je),pe(Je,e)):xe(it),pe(it,n)}var nn=null,wo=!1,ua=!1;function Rf(e){nn===null?nn=[e]:nn.push(e)}function Mx(e){wo=!0,Rf(e)}function Fn(){if(!ua&&nn!==null){ua=!0;var e=0,t=ie;try{var n=nn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,wo=!1}catch(l){throw nn!==null&&(nn=nn.slice(e+1)),nf(Oi,Fn),l}finally{ie=t,ua=!1}}return null}var pr=[],hr=0,Qs=null,Ys=0,Nt=[],Ct=0,Yn=null,rn=1,ln="";function $n(e,t){pr[hr++]=Ys,pr[hr++]=Qs,Qs=e,Ys=t}function zf(e,t,n){Nt[Ct++]=rn,Nt[Ct++]=ln,Nt[Ct++]=Yn,Yn=e;var r=rn;e=ln;var l=32-Ot(r)-1;r&=~(1<<l),n+=1;var s=32-Ot(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,rn=1<<32-Ot(t)+l|n<<l|r,ln=s+e}else rn=1<<s|n<<l|r,ln=e}function Xi(e){e.return!==null&&($n(e,1),zf(e,1,0))}function Ki(e){for(;e===Qs;)Qs=pr[--hr],pr[hr]=null,Ys=pr[--hr],pr[hr]=null;for(;e===Yn;)Yn=Nt[--Ct],Nt[Ct]=null,ln=Nt[--Ct],Nt[Ct]=null,rn=Nt[--Ct],Nt[Ct]=null}var vt=null,gt=null,we=!1,Lt=null;function Pf(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:rn,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function ti(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ni(e){if(we){var t=gt;if(t){var n=t;if(!hc(e,t)){if(ti(e))throw Error(T(418));t=Tn(n.nextSibling);var r=vt;t&&hc(e,t)?Pf(r,n):(e.flags=e.flags&-4097|2,we=!1,vt=e)}}else{if(ti(e))throw Error(T(418));e.flags=e.flags&-4097|2,we=!1,vt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function us(e){if(e!==vt)return!1;if(!we)return mc(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ja(e.type,e.memoizedProps)),t&&(t=gt)){if(ti(e))throw If(),Error(T(418));for(;t;)Pf(e,t),t=Tn(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Tn(e.stateNode.nextSibling):null;return!0}function If(){for(var e=gt;e;)e=Tn(e.nextSibling)}function Mr(){gt=vt=null,we=!1}function Qi(e){Lt===null?Lt=[e]:Lt.push(e)}var Tx=dn.ReactCurrentBatchConfig;function Gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=l.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function Lf(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=zn(x,m),x.index=0,x.sibling=null,x}function s(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,m,g,j){return m===null||m.tag!==6?(m=xa(g,x.mode,j),m.return=x,m):(m=l(m,g),m.return=x,m)}function u(x,m,g,j){var w=g.type;return w===ar?p(x,m,g.props.children,j,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vn&&xc(w)===m.type)?(j=l(m,g.props),j.ref=Gr(x,m,g),j.return=x,j):(j=Ps(g.type,g.key,g.props,null,x.mode,j),j.ref=Gr(x,m,g),j.return=x,j)}function c(x,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ga(g,x.mode,j),m.return=x,m):(m=l(m,g.children||[]),m.return=x,m)}function p(x,m,g,j,w){return m===null||m.tag!==7?(m=Xn(g,x.mode,j,w),m.return=x,m):(m=l(m,g),m.return=x,m)}function f(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xa(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zl:return g=Ps(m.type,m.key,m.props,null,x.mode,g),g.ref=Gr(x,null,m),g.return=x,g;case or:return m=ga(m,x.mode,g),m.return=x,m;case vn:var j=m._init;return f(x,j(m._payload),g)}if(tl(m)||Vr(m))return m=Xn(m,x.mode,g,null),m.return=x,m;cs(x,m)}return null}function h(x,m,g,j){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:i(x,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:return g.key===w?u(x,m,g,j):null;case or:return g.key===w?c(x,m,g,j):null;case vn:return w=g._init,h(x,m,w(g._payload),j)}if(tl(g)||Vr(g))return w!==null?null:p(x,m,g,j,null);cs(x,g)}return null}function y(x,m,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,i(m,x,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zl:return x=x.get(j.key===null?g:j.key)||null,u(m,x,j,w);case or:return x=x.get(j.key===null?g:j.key)||null,c(m,x,j,w);case vn:var C=j._init;return y(x,m,g,C(j._payload),w)}if(tl(j)||Vr(j))return x=x.get(g)||null,p(m,x,j,w,null);cs(m,j)}return null}function k(x,m,g,j){for(var w=null,C=null,S=m,E=m=0,_=null;S!==null&&E<g.length;E++){S.index>E?(_=S,S=null):_=S.sibling;var R=h(x,S,g[E],j);if(R===null){S===null&&(S=_);break}e&&S&&R.alternate===null&&t(x,S),m=s(R,m,E),C===null?w=R:C.sibling=R,C=R,S=_}if(E===g.length)return n(x,S),we&&$n(x,E),w;if(S===null){for(;E<g.length;E++)S=f(x,g[E],j),S!==null&&(m=s(S,m,E),C===null?w=S:C.sibling=S,C=S);return we&&$n(x,E),w}for(S=r(x,S);E<g.length;E++)_=y(S,x,E,g[E],j),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?E:_.key),m=s(_,m,E),C===null?w=_:C.sibling=_,C=_);return e&&S.forEach(function(D){return t(x,D)}),we&&$n(x,E),w}function v(x,m,g,j){var w=Vr(g);if(typeof w!="function")throw Error(T(150));if(g=w.call(g),g==null)throw Error(T(151));for(var C=w=null,S=m,E=m=0,_=null,R=g.next();S!==null&&!R.done;E++,R=g.next()){S.index>E?(_=S,S=null):_=S.sibling;var D=h(x,S,R.value,j);if(D===null){S===null&&(S=_);break}e&&S&&D.alternate===null&&t(x,S),m=s(D,m,E),C===null?w=D:C.sibling=D,C=D,S=_}if(R.done)return n(x,S),we&&$n(x,E),w;if(S===null){for(;!R.done;E++,R=g.next())R=f(x,R.value,j),R!==null&&(m=s(R,m,E),C===null?w=R:C.sibling=R,C=R);return we&&$n(x,E),w}for(S=r(x,S);!R.done;E++,R=g.next())R=y(S,x,E,R.value,j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=s(R,m,E),C===null?w=R:C.sibling=R,C=R);return e&&S.forEach(function(X){return t(x,X)}),we&&$n(x,E),w}function b(x,m,g,j){if(typeof g=="object"&&g!==null&&g.type===ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:e:{for(var w=g.key,C=m;C!==null;){if(C.key===w){if(w=g.type,w===ar){if(C.tag===7){n(x,C.sibling),m=l(C,g.props.children),m.return=x,x=m;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vn&&xc(w)===C.type){n(x,C.sibling),m=l(C,g.props),m.ref=Gr(x,C,g),m.return=x,x=m;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===ar?(m=Xn(g.props.children,x.mode,j,g.key),m.return=x,x=m):(j=Ps(g.type,g.key,g.props,null,x.mode,j),j.ref=Gr(x,m,g),j.return=x,x=j)}return a(x);case or:e:{for(C=g.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=l(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=ga(g,x.mode,j),m.return=x,x=m}return a(x);case vn:return C=g._init,b(x,m,C(g._payload),j)}if(tl(g))return k(x,m,g,j);if(Vr(g))return v(x,m,g,j);cs(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=l(m,g),m.return=x,x=m):(n(x,m),m=xa(g,x.mode,j),m.return=x,x=m),a(x)):n(x,m)}return b}var Tr=Lf(!0),Of=Lf(!1),Gs=An(null),Js=null,mr=null,Yi=null;function Gi(){Yi=mr=Js=null}function Ji(e){var t=Gs.current;xe(Gs),e._currentValue=t}function ri(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){Js=e,Yi=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(Js===null)throw Error(T(308));mr=e,Js.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Hn=null;function qi(e){Hn===null?Hn=[e]:Hn.push(e)}function Af(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,qi(t)):(n.next=l.next,l.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,un(e,n)}return l=r.interleaved,l===null?(t.next=t,qi(r)):(t.next=l.next,l.next=t),r.interleaved=t,un(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ai(e,n)}}function gc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var l=e.updateQueue;yn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var u=i,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=c:i.next=c,p.lastBaseUpdate=u))}if(s!==null){var f=l.baseState;a=0,p=c=u=null,i=s;do{var h=i.lane,y=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(h=t,y=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){f=k.call(y,f,h);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,h=typeof k=="function"?k.call(y,f,h):k,h==null)break e;f=je({},f,h);break e;case 2:yn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else y={eventTime:y,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(c=p=y,u=f):p=p.next=y,a|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=f}}function vc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(T(191,l));l.call(r)}}}var Hl={},Yt=An(Hl),El=An(Hl),Ml=An(Hl);function Wn(e){if(e===Hl)throw Error(T(174));return e}function eu(e,t){switch(pe(Ml,t),pe(El,e),pe(Yt,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oa(t,e)}xe(Yt),pe(Yt,t)}function _r(){xe(Yt),xe(El),xe(Ml)}function $f(e){Wn(Ml.current);var t=Wn(Yt.current),n=Oa(t,e.type);t!==n&&(pe(El,e),pe(Yt,n))}function tu(e){El.current===e&&(xe(Yt),xe(El))}var be=An(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function nu(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var Ts=dn.ReactCurrentDispatcher,da=dn.ReactCurrentBatchConfig,Gn=0,Se=null,Re=null,Oe=null,eo=!1,ul=!1,Tl=0,_x=0;function Ke(){throw Error(T(321))}function ru(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function lu(e,t,n,r,l,s){if(Gn=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?Px:Ix,e=n(r,l),ul){s=0;do{if(ul=!1,Tl=0,25<=s)throw Error(T(301));s+=1,Oe=Re=null,t.updateQueue=null,Ts.current=Lx,e=n(r,l)}while(ul)}if(Ts.current=to,t=Re!==null&&Re.next!==null,Gn=0,Oe=Re=Se=null,eo=!1,t)throw Error(T(300));return e}function su(){var e=Tl!==0;return Tl=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Se.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function _t(){if(Re===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Oe===null?Se.memoizedState:Oe.next;if(t!==null)Oe=t,Re=e;else{if(e===null)throw Error(T(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Oe===null?Se.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function _l(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=_t(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Re,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var i=a=null,u=null,c=s;do{var p=c.lane;if((Gn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=f,a=r):u=u.next=f,Se.lanes|=p,Jn|=p}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=i,Ft(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Se.lanes|=s,Jn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=_t(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Ft(s,t.memoizedState)||(at=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Bf(){}function Uf(e,t){var n=Se,r=_t(),l=t(),s=!Ft(r.memoizedState,l);if(s&&(r.memoizedState=l,at=!0),r=r.queue,ou(Vf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Dl(9,Wf.bind(null,n,r,l,t),void 0,null),Fe===null)throw Error(T(349));Gn&30||Hf(n,t,l)}return l}function Hf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wf(e,t,n,r){t.value=n,t.getSnapshot=r,Xf(t)&&Kf(e)}function Vf(e,t,n){return n(function(){Xf(t)&&Kf(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch(r){return!0}}function Kf(e){var t=un(e,1);t!==null&&At(t,e,1,-1)}function yc(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:e},t.queue=e,e=e.dispatch=zx.bind(null,Se,e),[t.memoizedState,e]}function Dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qf(){return _t().memoizedState}function _s(e,t,n,r){var l=Xt();Se.flags|=e,l.memoizedState=Dl(1|t,n,void 0,r===void 0?null:r)}function ko(e,t,n,r){var l=_t();r=r===void 0?null:r;var s=void 0;if(Re!==null){var a=Re.memoizedState;if(s=a.destroy,r!==null&&ru(r,a.deps)){l.memoizedState=Dl(t,n,s,r);return}}Se.flags|=e,l.memoizedState=Dl(1|t,n,s,r)}function wc(e,t){return _s(8390656,8,e,t)}function ou(e,t){return ko(2048,8,e,t)}function Yf(e,t){return ko(4,2,e,t)}function Gf(e,t){return ko(4,4,e,t)}function Jf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,n){return n=n!=null?n.concat([e]):null,ko(4,4,Jf.bind(null,t,e),n)}function au(){}function Zf(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ep(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tp(e,t,n){return Gn&21?(Ft(n,t)||(n=sf(),Se.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function Dx(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{ie=n,da.transition=r}}function np(){return _t().memoizedState}function Rx(e,t,n){var r=Rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rp(e))lp(t,n);else if(n=Af(e,t,n,r),n!==null){var l=Ze();At(n,e,r,l),sp(n,t,r)}}function zx(e,t,n){var r=Rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rp(e))lp(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,n);if(l.hasEagerState=!0,l.eagerState=i,Ft(i,a)){var u=t.interleaved;u===null?(l.next=l,qi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch(c){}finally{}n=Af(e,t,l,r),n!==null&&(l=Ze(),At(n,e,r,l),sp(n,t,r))}}function rp(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function lp(e,t){ul=eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ai(e,n)}}var to={readContext:Tt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Px={readContext:Tt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:wc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_s(4194308,4,Jf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){return _s(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rx.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:au,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=Dx.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,l=Xt();if(we){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Fe===null)throw Error(T(349));Gn&30||Hf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,wc(Vf.bind(null,r,s,e),[e]),r.flags|=2048,Dl(9,Wf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Fe.identifierPrefix;if(we){var n=ln,r=rn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ix={readContext:Tt,useCallback:Zf,useContext:Tt,useEffect:ou,useImperativeHandle:qf,useInsertionEffect:Yf,useLayoutEffect:Gf,useMemo:ep,useReducer:fa,useRef:Qf,useState:function(){return fa(_l)},useDebugValue:au,useDeferredValue:function(e){var t=_t();return tp(t,Re.memoizedState,e)},useTransition:function(){var e=fa(_l)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:Uf,useId:np,unstable_isNewReconciler:!1},Lx={readContext:Tt,useCallback:Zf,useContext:Tt,useEffect:ou,useImperativeHandle:qf,useInsertionEffect:Yf,useLayoutEffect:Gf,useMemo:ep,useReducer:pa,useRef:Qf,useState:function(){return pa(_l)},useDebugValue:au,useDeferredValue:function(e){var t=_t();return Re===null?t.memoizedState=e:tp(t,Re.memoizedState,e)},useTransition:function(){var e=pa(_l)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:Uf,useId:np,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function li(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),l=Rn(e),s=sn(r,l);s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,l),t!==null&&(At(t,e,l,r),Ms(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),l=Rn(e),s=sn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,l),t!==null&&(At(t,e,l,r),Ms(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Rn(e),l=sn(n,r);l.tag=2,t!=null&&(l.callback=t),t=_n(e,l,r),t!==null&&(At(t,e,r,n),Ms(t,e,r))}};function kc(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Sl(n,r)||!Sl(l,s):!0}function op(e,t,n){var r=!1,l=In,s=t.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(l=ut(t)?Qn:Je.current,r=t.contextTypes,s=(r=r!=null)?Er(e,l):In),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function si(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Zi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Tt(s):(s=ut(t)?Qn:Je.current,l.context=Er(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(li(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&bo.enqueueReplaceState(l,l.state,null),qs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",r=t;do n+=cm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function oi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function ap(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ro||(ro=!0,xi=r),oi(e,t)},n}function ip(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){oi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oi(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Sc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ox;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Jx.bind(null,e,t,n),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Ax=dn.ReactCurrentOwner,at=!1;function qe(e,t,n,r){t.child=e===null?Of(t,null,n,r):Tr(t,e.child,n,r)}function Cc(e,t,n,r,l){n=n.render;var s=t.ref;return Sr(t,l),r=lu(e,t,n,r,s,l),n=su(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(we&&n&&Xi(t),t.flags|=1,qe(e,t,r,l),t.child)}function Ec(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!mu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,up(e,t,s,r,l)):(e=Ps(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(a,r)&&e.ref===t.ref)return cn(e,t,l)}return t.flags|=1,e=zn(s,r),e.ref=t.ref,e.return=t,t.child=e}function up(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Sl(s,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,cn(e,t,l)}return ai(e,t,n,r,l)}function cp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(gr,xt),xt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(gr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(gr,xt),xt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,pe(gr,xt),xt|=r;return qe(e,t,l,n),t.child}function dp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ai(e,t,n,r,l){var s=ut(n)?Qn:Je.current;return s=Er(t,s),Sr(t,l),n=lu(e,t,n,r,s,l),r=su(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(we&&r&&Xi(t),t.flags|=1,qe(e,t,n,l),t.child)}function Mc(e,t,n,r,l){if(ut(n)){var s=!0;Ks(t)}else s=!1;if(Sr(t,l),t.stateNode===null)Ds(e,t),op(t,n,r),si(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=ut(n)?Qn:Je.current,c=Er(t,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||u!==c)&&bc(t,a,r,c),yn=!1;var h=t.memoizedState;a.state=h,qs(t,r,a,l),u=t.memoizedState,i!==r||h!==u||it.current||yn?(typeof p=="function"&&(li(t,n,p,r),u=t.memoizedState),(i=yn||kc(t,n,i,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ff(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:Pt(t.type,i),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tt(u):(u=ut(n)?Qn:Je.current,u=Er(t,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==u)&&bc(t,a,r,u),yn=!1,h=t.memoizedState,a.state=h,qs(t,r,a,l);var k=t.memoizedState;i!==f||h!==k||it.current||yn?(typeof y=="function"&&(li(t,n,y,r),k=t.memoizedState),(c=yn||kc(t,n,c,r,h,k,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ii(e,t,n,r,s,l)}function ii(e,t,n,r,l,s){dp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&pc(t,n,!1),cn(e,t,s);r=t.stateNode,Ax.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Tr(t,e.child,null,s),t.child=Tr(t,null,i,s)):qe(e,t,i,s),t.memoizedState=r.state,l&&pc(t,n,!0),t.child}function fp(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),eu(e,t.containerInfo)}function Tc(e,t,n,r,l){return Mr(),Qi(l),t.flags|=256,qe(e,t,n,r),t.child}var ui={dehydrated:null,treeContext:null,retryLane:0};function ci(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var r=t.pendingProps,l=be.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(be,l&1),e===null)return ni(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=No(a,r,0,null),e=Xn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ci(n),t.memoizedState=ui,e):iu(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Fx(e,t,a,r,i,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,i=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=zn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=zn(i,s):(s=Xn(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ci(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=ui,r}return s=e.child,e=s.sibling,r=zn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iu(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Qi(r),Tr(t,e.child,null,n),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fx(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(T(422))),ds(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=No({mode:"visible",children:r.children},l,0,null),s=Xn(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Tr(t,e.child,null,a),t.child.memoizedState=ci(a),t.memoizedState=ui,s);if(!(t.mode&1))return ds(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(T(419)),r=ha(s,r,void 0),ds(e,t,a,r)}if(i=(a&e.childLanes)!==0,at||i){if(r=Fe,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,un(e,l),At(r,e,l,-1))}return hu(),r=ha(Error(T(421))),ds(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=qx.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,gt=Tn(l.nextSibling),vt=t,we=!0,Lt=null,e!==null&&(Nt[Ct++]=rn,Nt[Ct++]=ln,Nt[Ct++]=Yn,rn=e.id,ln=e.overflow,Yn=t),t=iu(t,r.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ri(e.return,t,n)}function ma(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function hp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(qe(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(be,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ma(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ma(t,!0,n,null,s);break;case"together":ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $x(e,t,n){switch(t.tag){case 3:fp(t),Mr();break;case 5:$f(t);break;case 1:ut(t.type)&&Ks(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;pe(Gs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(pe(be,be.current&1),e=cn(e,t,n),e!==null?e.sibling:null);pe(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,cp(e,t,n)}return cn(e,t,n)}var mp,di,xp,gp;mp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};di=function(){};xp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Wn(Yt.current);var s=null;switch(n){case"input":l=za(e,l),r=za(e,r),s=[];break;case"select":l=je({},l,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":l=La(e,l),r=La(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vs)}Aa(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(a in i)!i.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&i[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&he("scroll",e),s||i===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};gp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bx(e,t,n){var r=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ut(t.type)&&Xs(),Qe(t),null;case 3:return r=t.stateNode,_r(),xe(it),xe(Je),nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(yi(Lt),Lt=null))),di(e,t),Qe(t),null;case 5:tu(t);var l=Wn(Ml.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Qe(t),null}if(e=Wn(Yt.current),us(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kt]=t,r[Cl]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(l=0;l<rl.length;l++)he(rl[l],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Fu(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":Bu(r,s),he("invalid",r)}Aa(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&is(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&is(r.textContent,i,e),l=["children",""+i]):xl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&he("scroll",r)}switch(n){case"input":es(r),$u(r,s,!0);break;case"textarea":es(r),Uu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Kt]=t,e[Cl]=r,mp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fa(n,r),n){case"dialog":he("cancel",e),he("close",e),l=r;break;case"iframe":case"object":case"embed":he("load",e),l=r;break;case"video":case"audio":for(l=0;l<rl.length;l++)he(rl[l],e);l=r;break;case"source":he("error",e),l=r;break;case"img":case"image":case"link":he("error",e),he("load",e),l=r;break;case"details":he("toggle",e),l=r;break;case"input":Fu(e,r),l=za(e,r),he("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=je({},r,{value:void 0}),he("invalid",e);break;case"textarea":Bu(e,r),l=La(e,r),he("invalid",e);break;default:l=r}Aa(n,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="style"?Kd(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vd(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&gl(e,u):typeof u=="number"&&gl(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&he("scroll",e):u!=null&&Ri(e,s,u,a))}switch(n){case"input":es(e),$u(e,r,!1);break;case"textarea":es(e),Uu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yr(e,!!r.multiple,s,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)gp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Wn(Ml.current),Wn(Yt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(s=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Qe(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&gt!==null&&t.mode&1&&!(t.flags&128))If(),Mr(),t.flags|=98560,s=!1;else if(s=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(T(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[Kt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),s=!1}else Lt!==null&&(yi(Lt),Lt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Pe===0&&(Pe=3):hu())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return _r(),di(e,t),e===null&&jl(t.stateNode.containerInfo),Qe(t),null;case 10:return Ji(t.type._context),Qe(t),null;case 17:return ut(t.type)&&Xs(),Qe(t),null;case 19:if(xe(be),s=t.memoizedState,s===null)return Qe(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Jr(s,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zs(e),a!==null){for(t.flags|=128,Jr(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Te()>Rr&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Zs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!we)return Qe(t),null}else 2*Te()-s.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Te(),t.sibling=null,n=be.current,pe(be,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return pu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Ux(e,t){switch(Ki(t),t.tag){case 1:return ut(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),xe(it),xe(Je),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return _r(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var fs=!1,Ge=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,A=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function fi(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var Dc=!1;function Wx(e,t){if(Ya=Us,e=bf(),Vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var a=0,i=-1,u=-1,c=0,p=0,f=e,h=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(i=a+l),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++c===l&&(i=a),h===s&&++p===r&&(u=a),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ga={focusedElem:e,selectionRange:n},Us=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,b=k.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Pt(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){Ee(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return k=Dc,Dc=!1,k}function cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&fi(t,n,s)}l=l.next}while(l!==r)}}function So(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vp(e){var t=e.alternate;t!==null&&(e.alternate=null,vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Cl],delete t[Za],delete t[Cx],delete t[Ex])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yp(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vs));else if(r!==4&&(e=e.child,e!==null))for(hi(e,t,n),e=e.sibling;e!==null;)hi(e,t,n),e=e.sibling}function mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mi(e,t,n),e=e.sibling;e!==null;)mi(e,t,n),e=e.sibling}var He=null,It=!1;function gn(e,t,n){for(n=n.child;n!==null;)wp(e,t,n),n=n.sibling}function wp(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(mo,n)}catch(i){}switch(n.tag){case 5:Ge||xr(n,t);case 6:var r=He,l=It;He=null,gn(e,t,n),He=r,It=l,He!==null&&(It?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(It?(e=He,n=n.stateNode,e.nodeType===8?ia(e.parentNode,n):e.nodeType===1&&ia(e,n),kl(e)):ia(He,n.stateNode));break;case 4:r=He,l=It,He=n.stateNode.containerInfo,It=!0,gn(e,t,n),He=r,It=l;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fi(n,t,a),l=l.next}while(l!==r)}gn(e,t,n);break;case 1:if(!Ge&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ee(n,t,i)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,gn(e,t,n),Ge=r):gn(e,t,n);break;default:gn(e,t,n)}}function zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hx),t.forEach(function(r){var l=Zx.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:He=i.stateNode,It=!1;break e;case 3:He=i.stateNode.containerInfo,It=!0;break e;case 4:He=i.stateNode.containerInfo,It=!0;break e}i=i.return}if(He===null)throw Error(T(160));wp(s,a,l),He=null,It=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Ee(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Vt(e),r&4){try{cl(3,e,e.return),So(3,e)}catch(v){Ee(e,e.return,v)}try{cl(5,e,e.return)}catch(v){Ee(e,e.return,v)}}break;case 1:zt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(zt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var l=e.stateNode;try{gl(l,"")}catch(v){Ee(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Ud(l,s),Fa(i,a);var c=Fa(i,s);for(a=0;a<u.length;a+=2){var p=u[a],f=u[a+1];p==="style"?Kd(l,f):p==="dangerouslySetInnerHTML"?Vd(l,f):p==="children"?gl(l,f):Ri(l,p,f,c)}switch(i){case"input":Pa(l,s);break;case"textarea":Hd(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?yr(l,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?yr(l,!!s.multiple,s.defaultValue,!0):yr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Cl]=s}catch(v){Ee(e,e.return,v)}}break;case 6:if(zt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(v){Ee(e,e.return,v)}}break;case 3:if(zt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(v){Ee(e,e.return,v)}break;case 4:zt(t,e),Vt(e);break;case 13:zt(t,e),Vt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(du=Te())),r&4&&zc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(c=Ge)||p,zt(t,e),Ge=c):zt(t,e),Vt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(f=A=p;A!==null;){switch(h=A,y=h.child,h.tag){case 0:case 11:case 14:case 15:cl(4,h,h.return);break;case 1:xr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){Ee(r,n,v)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){Ic(f);continue}}y!==null?(y.return=h,A=y):Ic(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Xd("display",a))}catch(v){Ee(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ee(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Vt(e),r&4&&zc(e);break;case 21:break;default:zt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yp(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(gl(l,""),r.flags&=-33);var s=Rc(e);mi(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Rc(e);hi(e,i,a);break;default:throw Error(T(161))}}catch(u){Ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vx(e,t,n){A=e,bp(e)}function bp(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var l=A,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||fs;if(!a){var i=l.alternate,u=i!==null&&i.memoizedState!==null||Ge;i=fs;var c=Ge;if(fs=a,(Ge=u)&&!c)for(A=l;A!==null;)a=A,u=a.child,a.tag===22&&a.memoizedState!==null?Lc(l):u!==null?(u.return=a,A=u):Lc(l);for(;s!==null;)A=s,bp(s),s=s.sibling;A=l,fs=i,Ge=c}Pc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,A=s):Pc(e)}}function Pc(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||So(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ge||t.flags&512&&pi(t)}catch(h){Ee(t,t.return,h)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Ic(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Lc(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{So(4,t)}catch(u){Ee(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Ee(t,l,u)}}var s=t.return;try{pi(t)}catch(u){Ee(t,s,u)}break;case 5:var a=t.return;try{pi(t)}catch(u){Ee(t,a,u)}}}catch(u){Ee(t,t.return,u)}if(t===e){A=null;break}var i=t.sibling;if(i!==null){i.return=t.return,A=i;break}A=t.return}}var Xx=Math.ceil,no=dn.ReactCurrentDispatcher,uu=dn.ReactCurrentOwner,Mt=dn.ReactCurrentBatchConfig,ne=0,Fe=null,De=null,We=0,xt=0,gr=An(0),Pe=0,Rl=null,Jn=0,jo=0,cu=0,dl=null,ot=null,du=0,Rr=1/0,tn=null,ro=!1,xi=null,Dn=null,ps=!1,jn=null,lo=0,fl=0,gi=null,Rs=-1,zs=0;function Ze(){return ne&6?Te():Rs!==-1?Rs:Rs=Te()}function Rn(e){return e.mode&1?ne&2&&We!==0?We&-We:Tx.transition!==null?(zs===0&&(zs=sf()),zs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:pf(e.type)),e):1}function At(e,t,n,r){if(50<fl)throw fl=0,gi=null,Error(T(185));$l(e,n,r),(!(ne&2)||e!==Fe)&&(e===Fe&&(!(ne&2)&&(jo|=n),Pe===4&&bn(e,We)),ct(e,r),n===1&&ne===0&&!(t.mode&1)&&(Rr=Te()+500,wo&&Fn()))}function ct(e,t){var n=e.callbackNode;Tm(e,t);var r=Bs(e,e===Fe?We:0);if(r===0)n!==null&&Vu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vu(n),t===1)e.tag===0?Mx(Oc.bind(null,e)):Rf(Oc.bind(null,e)),jx(function(){!(ne&6)&&Fn()}),n=null;else{switch(of(r)){case 1:n=Oi;break;case 4:n=rf;break;case 16:n=$s;break;case 536870912:n=lf;break;default:n=$s}n=_p(n,Sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sp(e,t){if(Rs=-1,zs=0,ne&6)throw Error(T(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=Bs(e,e===Fe?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var l=ne;ne|=2;var s=Np();(Fe!==e||We!==t)&&(tn=null,Rr=Te()+500,Vn(e,t));do try{Yx();break}catch(i){jp(e,i)}while(!0);Gi(),no.current=s,ne=l,De!==null?t=0:(Fe=null,We=0,t=Pe)}if(t!==0){if(t===2&&(l=Wa(e),l!==0&&(r=l,t=vi(e,l))),t===1)throw n=Rl,Vn(e,0),bn(e,r),ct(e,Te()),n;if(t===6)bn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Kx(l)&&(t=so(e,r),t===2&&(s=Wa(e),s!==0&&(r=s,t=vi(e,s))),t===1))throw n=Rl,Vn(e,0),bn(e,r),ct(e,Te()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Bn(e,ot,tn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=du+500-Te(),10<t)){if(Bs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=qa(Bn.bind(null,e,ot,tn),t);break}Bn(e,ot,tn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Ot(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xx(r/1960))-r,10<r){e.timeoutHandle=qa(Bn.bind(null,e,ot,tn),r);break}Bn(e,ot,tn);break;case 5:Bn(e,ot,tn);break;default:throw Error(T(329))}}}return ct(e,Te()),e.callbackNode===n?Sp.bind(null,e):null}function vi(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=so(e,t),e!==2&&(t=ot,ot=n,t!==null&&yi(t)),e}function yi(e){ot===null?ot=e:ot.push.apply(ot,e)}function Kx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ft(s(),l))return!1}catch(a){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~cu,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function Oc(e){if(ne&6)throw Error(T(327));jr();var t=Bs(e,0);if(!(t&1))return ct(e,Te()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=Wa(e);r!==0&&(t=r,n=vi(e,r))}if(n===1)throw n=Rl,Vn(e,0),bn(e,t),ct(e,Te()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,ot,tn),ct(e,Te()),null}function fu(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Rr=Te()+500,wo&&Fn())}}function qn(e){jn!==null&&jn.tag===0&&!(ne&6)&&jr();var t=ne;ne|=1;var n=Mt.transition,r=ie;try{if(Mt.transition=null,ie=1,e)return e()}finally{ie=r,Mt.transition=n,ne=t,!(ne&6)&&Fn()}}function pu(){xt=gr.current,xe(gr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sx(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:_r(),xe(it),xe(Je),nu();break;case 5:tu(r);break;case 4:_r();break;case 13:xe(be);break;case 19:xe(be);break;case 10:Ji(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Fe=e,De=e=zn(e.current,null),We=xt=t,Pe=0,Rl=null,cu=jo=Jn=0,ot=dl=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}Hn=null}return e}function jp(e,t){do{var n=De;try{if(Gi(),Ts.current=to,eo){for(var r=Se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}eo=!1}if(Gn=0,Oe=Re=Se=null,ul=!1,Tl=0,uu.current=null,n===null||n.return===null){Pe=1,Rl=t,De=null;break}e:{var s=e,a=n.return,i=n,u=t;if(t=We,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=jc(a);if(y!==null){y.flags&=-257,Nc(y,a,i,s,t),y.mode&1&&Sc(s,c,t),t=y,u=c;var k=t.updateQueue;if(k===null){var v=new Set;v.add(u),t.updateQueue=v}else k.add(u);break e}else{if(!(t&1)){Sc(s,c,t),hu();break e}u=Error(T(426))}}else if(we&&i.mode&1){var b=jc(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Nc(b,a,i,s,t),Qi(Dr(u,i));break e}}s=u=Dr(u,i),Pe!==4&&(Pe=2),dl===null?dl=[s]:dl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=ap(s,u,t);gc(s,x);break e;case 1:i=u;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dn===null||!Dn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=ip(s,i,t);gc(s,j);break e}}s=s.return}while(s!==null)}Ep(n)}catch(w){t=w,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Np(){var e=no.current;return no.current=to,e===null?to:e}function hu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Fe===null||!(Jn&268435455)&&!(jo&268435455)||bn(Fe,We)}function so(e,t){var n=ne;ne|=2;var r=Np();(Fe!==e||We!==t)&&(tn=null,Vn(e,t));do try{Qx();break}catch(l){jp(e,l)}while(!0);if(Gi(),ne=n,no.current=r,De!==null)throw Error(T(261));return Fe=null,We=0,Pe}function Qx(){for(;De!==null;)Cp(De)}function Yx(){for(;De!==null&&!wm();)Cp(De)}function Cp(e){var t=Tp(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Ep(e):De=t,uu.current=null}function Ep(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ux(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,De=null;return}}else if(n=Bx(n,t,xt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Pe===0&&(Pe=5)}function Bn(e,t,n){var r=ie,l=Mt.transition;try{Mt.transition=null,ie=1,Gx(e,t,n,r)}finally{Mt.transition=l,ie=r}return null}function Gx(e,t,n,r){do jr();while(jn!==null);if(ne&6)throw Error(T(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_m(e,s),e===Fe&&(De=Fe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,_p($s,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mt.transition,Mt.transition=null;var a=ie;ie=1;var i=ne;ne|=4,uu.current=null,Wx(e,n),kp(n,e),xx(Ga),Us=!!Ya,Ga=Ya=null,e.current=n,Vx(n),km(),ne=i,ie=a,Mt.transition=s}else e.current=n;if(ps&&(ps=!1,jn=e,lo=l),s=e.pendingLanes,s===0&&(Dn=null),jm(n.stateNode),ct(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ro)throw ro=!1,e=xi,xi=null,e;return lo&1&&e.tag!==0&&jr(),s=e.pendingLanes,s&1?e===gi?fl++:(fl=0,gi=e):fl=0,Fn(),null}function jr(){if(jn!==null){var e=of(lo),t=Mt.transition,n=ie;try{if(Mt.transition=null,ie=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,lo=0,ne&6)throw Error(T(331));var l=ne;for(ne|=4,A=e.current;A!==null;){var s=A,a=s.child;if(A.flags&16){var i=s.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(A=c;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:cl(8,p,s)}var f=p.child;if(f!==null)f.return=p,A=f;else for(;A!==null;){p=A;var h=p.sibling,y=p.return;if(vp(p),p===c){A=null;break}if(h!==null){h.return=y,A=h;break}A=y}}}var k=s.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}A=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,A=a;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,A=x;break e}A=s.return}}var m=e.current;for(A=m;A!==null;){a=A;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,A=g;else e:for(a=m;A!==null;){if(i=A,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:So(9,i)}}catch(w){Ee(i,i.return,w)}if(i===a){A=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,A=j;break e}A=i.return}}if(ne=l,Fn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(mo,e)}catch(w){}r=!0}return r}finally{ie=n,Mt.transition=t}}return!1}function Ac(e,t,n){t=Dr(n,t),t=ap(e,t,1),e=_n(e,t,1),t=Ze(),e!==null&&($l(e,1,t),ct(e,t))}function Ee(e,t,n){if(e.tag===3)Ac(e,e,n);else for(;t!==null;){if(t.tag===3){Ac(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=Dr(n,e),e=ip(t,e,1),t=_n(t,e,1),e=Ze(),t!==null&&($l(t,1,e),ct(t,e));break}}t=t.return}}function Jx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(We&n)===n&&(Pe===4||Pe===3&&(We&130023424)===We&&500>Te()-du?Vn(e,0):cu|=n),ct(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=Ze();e=un(e,t),e!==null&&($l(e,t,n),ct(e,n))}function qx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function Zx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Mp(e,n)}var Tp;Tp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,$x(e,t,n);at=!!(e.flags&131072)}else at=!1,we&&t.flags&1048576&&zf(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ds(e,t),e=t.pendingProps;var l=Er(t,Je.current);Sr(t,n),l=lu(null,t,r,e,l,n);var s=su();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(s=!0,Ks(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Zi(t),l.updater=bo,t.stateNode=l,l._reactInternals=t,si(t,r,e,n),t=ii(null,t,r,!0,s,n)):(t.tag=0,we&&s&&Xi(t),qe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ds(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=tg(r),e=Pt(r,e),l){case 0:t=ai(null,t,r,e,n);break e;case 1:t=Mc(null,t,r,e,n);break e;case 11:t=Cc(null,t,r,e,n);break e;case 14:t=Ec(null,t,r,Pt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),ai(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Mc(e,t,r,l,n);case 3:e:{if(fp(t),e===null)throw Error(T(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Ff(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Dr(Error(T(423)),t),t=Tc(e,t,r,n,l);break e}else if(r!==l){l=Dr(Error(T(424)),t),t=Tc(e,t,r,n,l);break e}else for(gt=Tn(t.stateNode.containerInfo.firstChild),vt=t,we=!0,Lt=null,n=Of(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===l){t=cn(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return $f(t),e===null&&ni(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,Ja(r,l)?a=null:s!==null&&Ja(r,s)&&(t.flags|=32),dp(e,t),qe(e,t,a,n),t.child;case 6:return e===null&&ni(t),null;case 13:return pp(e,t,n);case 4:return eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Cc(e,t,r,l,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,pe(Gs,r._currentValue),r._currentValue=a,s!==null)if(Ft(s.value,a)){if(s.children===l.children&&!it.current){t=cn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=sn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ri(s.return,n,t),i.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(T(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),ri(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Sr(t,n),l=Tt(l),r=r(l),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,l=Pt(r,t.pendingProps),l=Pt(r.type,l),Ec(e,t,r,l,n);case 15:return up(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Ds(e,t),t.tag=1,ut(r)?(e=!0,Ks(t)):e=!1,Sr(t,n),op(t,r,l),si(t,r,l,n),ii(null,t,r,!0,e,n);case 19:return hp(e,t,n);case 22:return cp(e,t,n)}throw Error(T(156,t.tag))};function _p(e,t){return nf(e,t)}function eg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new eg(e,t,n,r)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pi)return 11;if(e===Ii)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")mu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ar:return Xn(n.children,l,s,t);case zi:a=8,l|=8;break;case Ta:return e=Et(12,n,t,l|2),e.elementType=Ta,e.lanes=s,e;case _a:return e=Et(13,n,t,l),e.elementType=_a,e.lanes=s,e;case Da:return e=Et(19,n,t,l),e.elementType=Da,e.lanes=s,e;case Fd:return No(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Od:a=10;break e;case Ad:a=9;break e;case Pi:a=11;break e;case Ii:a=14;break e;case vn:a=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Et(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Xn(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function No(e,t,n,r){return e=Et(22,e,r,t),e.elementType=Fd,e.lanes=n,e.stateNode={isHidden:!1},e}function xa(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function ga(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ng(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function xu(e,t,n,r,l,s,a,i,u){return e=new ng(e,t,n,i,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zi(s),e}function rg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dp(e){if(!e)return In;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(ut(n))return Df(e,n,t)}return t}function Rp(e,t,n,r,l,s,a,i,u){return e=xu(n,r,!0,e,l,s,a,i,u),e.context=Dp(null),n=e.current,r=Ze(),l=Rn(n),s=sn(r,l),s.callback=t!=null?t:null,_n(n,s,l),e.current.lanes=l,$l(e,l,r),ct(e,r),e}function Co(e,t,n,r){var l=t.current,s=Ze(),a=Rn(l);return n=Dp(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(l,t,a),e!==null&&(At(e,l,a,s),Ms(e,l,a)),a}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function lg(){return null}var zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function vu(e){this._internalRoot=e}Eo.prototype.render=vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Co(e,t,null,null)};Eo.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Co(null,e,null,null)}),t[an]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=cf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&ff(e)}};function yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $c(){}function sg(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=oo(a);s.call(c)}}var a=Rp(t,r,e,0,null,!1,!1,"",$c);return e._reactRootContainer=a,e[an]=a.current,jl(e.nodeType===8?e.parentNode:e),qn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=oo(u);i.call(c)}}var u=xu(e,0,!1,null,null,!1,!1,"",$c);return e._reactRootContainer=u,e[an]=u.current,jl(e.nodeType===8?e.parentNode:e),qn(function(){Co(t,u,n,r)}),u}function To(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var i=l;l=function(){var u=oo(a);i.call(u)}}Co(t,a,e,l)}else a=sg(n,t,e,l,r);return oo(a)}af=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nl(t.pendingLanes);n!==0&&(Ai(t,n|1),ct(t,Te()),!(ne&6)&&(Rr=Te()+500,Fn()))}break;case 13:qn(function(){var r=un(e,1);if(r!==null){var l=Ze();At(r,e,1,l)}}),gu(e,1)}};Fi=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=Ze();At(t,e,134217728,n)}gu(e,134217728)}};uf=function(e){if(e.tag===13){var t=Rn(e),n=un(e,t);if(n!==null){var r=Ze();At(n,e,t,r)}gu(e,t)}};cf=function(){return ie};df=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Ba=function(e,t,n){switch(t){case"input":if(Pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=yo(r);if(!l)throw Error(T(90));Bd(r),Pa(r,l)}}}break;case"textarea":Hd(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};Gd=fu;Jd=qn;var og={usingClientEntryPoint:!1,Events:[Ul,dr,yo,Qd,Yd,fu]},qr={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ag={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ef(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{mo=hs.inject(ag),Qt=hs}catch(e){}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(t))throw Error(T(200));return rg(e,t,null,n)};wt.createRoot=function(e,t){if(!yu(e))throw Error(T(299));var n=!1,r="",l=zp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=xu(e,1,!1,null,null,n,!1,r,l),e[an]=t.current,jl(e.nodeType===8?e.parentNode:e),new vu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=ef(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return qn(e)};wt.hydrate=function(e,t,n){if(!Mo(t))throw Error(T(200));return To(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!yu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=zp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Rp(t,null,e,1,n!=null?n:null,l,!1,s,a),e[an]=t.current,jl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Eo(t)};wt.render=function(e,t,n){if(!Mo(t))throw Error(T(200));return To(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Mo(e))throw Error(T(40));return e._reactRootContainer?(qn(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};wt.unstable_batchedUpdates=fu;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return To(e,t,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function Pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pp)}catch(e){console.error(e)}}Pp(),zd.exports=wt;var vr=zd.exports,Bc=vr;Ea.createRoot=Bc.createRoot,Ea.hydrateRoot=Bc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const Uc="popstate";function ig(e){e===void 0&&(e={});function t(l,s){let{pathname:a="/",search:i="",hash:u=""}=tr(l.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),wi("",{pathname:a,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let a=l.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let u=l.location.href,c=u.indexOf("#");i=c===-1?u:u.slice(0,c)}return i+"#"+(typeof s=="string"?s:Ip(s))}function r(l,s){_o(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return cg(t,n,r,e)}function Ie(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function _o(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ug(){return Math.random().toString(36).substr(2,8)}function Hc(e,t){return{usr:e.state,key:e.key,idx:t}}function wi(e,t,n,r){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||ug()})}function Ip(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cg(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,i=Nn.Pop,u=null,c=p();c==null&&(c=0,a.replaceState(zl({},a.state,{idx:c}),""));function p(){return(a.state||{idx:null}).idx}function f(){i=Nn.Pop;let b=p(),x=b==null?null:b-c;c=b,u&&u({action:i,location:v.location,delta:x})}function h(b,x){i=Nn.Push;let m=wi(v.location,b,x);n&&n(m,b),c=p()+1;let g=Hc(m,c),j=v.createHref(m);try{a.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(j)}s&&u&&u({action:i,location:v.location,delta:1})}function y(b,x){i=Nn.Replace;let m=wi(v.location,b,x);n&&n(m,b),c=p();let g=Hc(m,c),j=v.createHref(m);a.replaceState(g,"",j),s&&u&&u({action:i,location:v.location,delta:0})}function k(b){let x=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof b=="string"?b:Ip(b);return m=m.replace(/ $/,"%20"),Ie(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return i},get location(){return e(l,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Uc,f),u=b,()=>{l.removeEventListener(Uc,f),u=null}},createHref(b){return t(l,b)},createURL:k,encodeLocation(b){let x=k(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(b){return a.go(b)}};return v}var Wc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wc||(Wc={}));function dg(e,t,n){return n===void 0&&(n="/"),fg(e,t,n)}function fg(e,t,n,r){let l=typeof t=="string"?tr(t):t,s=Ap(l.pathname||"/",n);if(s==null)return null;let a=Lp(e);pg(a);let i=null;for(let u=0;i==null&&u<a.length;++u){let c=Ng(s);i=bg(a[u],c)}return i}function Lp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,i)=>{let u={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ie(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Kn([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ie(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lp(s.children,t,p,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:wg(c,s.index),routesMeta:p})};return e.forEach((s,a)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))l(s,a);else for(let u of Op(s.path))l(s,a,u)}),t}function Op(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=Op(r.join("/")),i=[];return i.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&i.push(...a),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function pg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hg=/^:[\w-]+$/,mg=3,xg=2,gg=1,vg=10,yg=-2,Vc=e=>e==="*";function wg(e,t){let n=e.split("/"),r=n.length;return n.some(Vc)&&(r+=yg),t&&(r+=xg),n.filter(l=>!Vc(l)).reduce((l,s)=>l+(hg.test(s)?mg:s===""?gg:vg),r)}function kg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function bg(e,t,n){let{routesMeta:r}=e,l={},s="/",a=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=Sg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!f)return null;Object.assign(l,f.params),a.push({params:l,pathname:Kn([s,f.pathname]),pathnameBase:Rg(Kn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Kn([s,f.pathnameBase]))}return a}function Sg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:h,isOptional:y}=p;if(h==="*"){let v=i[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const k=i[f];return y&&!k?c[h]=void 0:c[h]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function jg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_o(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Ng(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ap(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eg=e=>Cg.test(e);function Mg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?tr(e):e,s;if(n)if(Eg(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),_o(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Xc(n.substring(1),"/"):s=Xc(n,t)}else s=t;return{pathname:s,search:zg(r),hash:Pg(l)}}function Xc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function va(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _g(e,t){let n=Tg(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dg(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=tr(e):(l=zl({},e),Ie(!l.pathname||!l.pathname.includes("?"),va("?","pathname","search",l)),Ie(!l.pathname||!l.pathname.includes("#"),va("#","pathname","hash",l)),Ie(!l.search||!l.search.includes("#"),va("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}i=f>=0?t[f]:"/"}let u=Mg(l,i),c=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const Kn=e=>e.join("/").replace(/\/\/+/g,"/"),Rg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ig(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fp=["post","put","patch","delete"];new Set(Fp);const Lg=["get",...Fp];new Set(Lg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}const wu=d.createContext(null),Og=d.createContext(null),Do=d.createContext(null),Ro=d.createContext(null),nr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),$p=d.createContext(null);function zo(){return d.useContext(Ro)!=null}function Bp(){return zo()||Ie(!1),d.useContext(Ro).location}function Up(e){d.useContext(Do).static||d.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=d.useContext(nr);return e?Gg():Ag()}function Ag(){zo()||Ie(!1);let e=d.useContext(wu),{basename:t,future:n,navigator:r}=d.useContext(Do),{matches:l}=d.useContext(nr),{pathname:s}=Bp(),a=JSON.stringify(_g(l,n.v7_relativeSplatPath)),i=d.useRef(!1);return Up(()=>{i.current=!0}),d.useCallback(function(c,p){if(p===void 0&&(p={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let f=Dg(c,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,a,s,e])}function Hp(){let{matches:e}=d.useContext(nr),t=e[e.length-1];return t?t.params:{}}function Fg(e,t){return $g(e,t)}function $g(e,t,n,r){zo()||Ie(!1);let{navigator:l}=d.useContext(Do),{matches:s}=d.useContext(nr),a=s[s.length-1],i=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Bp(),p;if(t){var f;let b=typeof t=="string"?tr(t):t;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Ie(!1),p=b}else p=c;let h=p.pathname||"/",y=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=dg(e,{pathname:y}),v=Vg(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Kn([u,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Kn([u,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&v?d.createElement(Ro.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Nn.Pop}},v):v}function Bg(){let e=Yg(),t=Ig(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const Ug=d.createElement(Bg,null);class Hg extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(nr.Provider,{value:this.props.routeContext},d.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wg(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(wu);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(nr.Provider,{value:t},r)}function Vg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||Ie(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:h,errors:y}=n,k=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||k){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((p,f,h)=>{let y,k=!1,v=null,b=null;n&&(y=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||Ug,u&&(c<0&&h===0?(Jg("route-fallback"),k=!0,b=null):c===h&&(k=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),m=()=>{let g;return y?g=v:k?g=b:f.route.Component?g=d.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,d.createElement(Wg,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Hg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Wp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wp||{}),Vp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vp||{});function Xg(e){let t=d.useContext(wu);return t||Ie(!1),t}function Kg(e){let t=d.useContext(Og);return t||Ie(!1),t}function Qg(e){let t=d.useContext(nr);return t||Ie(!1),t}function Xp(e){let t=Qg(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Yg(){var e;let t=d.useContext($p),n=Kg(),r=Xp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Gg(){let{router:e}=Xg(Wp.UseNavigateStable),t=Xp(Vp.UseNavigateStable),n=d.useRef(!1);return Up(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Pl({fromRouteId:t},s)))},[e,t])}const Kc={};function Jg(e,t,n){Kc[e]||(Kc[e]=!0)}function qg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lt(e){Ie(!1)}function Zg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Nn.Pop,navigator:s,static:a=!1,future:i}=e;zo()&&Ie(!1);let u=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:u,navigator:s,static:a,future:Pl({v7_relativeSplatPath:!1},i)}),[u,i,s,a]);typeof r=="string"&&(r=tr(r));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:k="default"}=r,v=d.useMemo(()=>{let b=Ap(p,u);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:k},navigationType:l}},[u,p,f,h,y,k,l]);return v==null?null:d.createElement(Do.Provider,{value:c},d.createElement(Ro.Provider,{children:n,value:v}))}function ev(e){let{children:t,location:n}=e;return Fg(ki(t),n)}new Promise(()=>{});function ki(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,ki(r.props.children,s));return}r.type!==lt&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ki(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tv="6";try{window.__reactRouterVersion=tv}catch(e){}const nv="startTransition",Qc=Jh[nv];function rv(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=ig({window:l,v5Compat:!0}));let a=s.current,[i,u]=d.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},p=d.useCallback(f=>{c&&Qc?Qc(()=>u(f)):u(f)},[u,c]);return d.useLayoutEffect(()=>a.listen(p),[a,p]),d.useEffect(()=>qg(r),[r]),d.createElement(Zg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var Yc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yc||(Yc={}));var Gc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gc||(Gc={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:a,...i},u)=>d.createElement("svg",{ref:u,...sv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kp("lucide",l),...i},[...a.map(([c,p])=>d.createElement(c,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=d.forwardRef(({className:r,...l},s)=>d.createElement(ov,{ref:s,iconNode:t,className:Kp(`lucide-${lv(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=J("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=J("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=J("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=J("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=J("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=J("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=J("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=J("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=J("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=J("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=J("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eh="";async function qc(){let e=localStorage.getItem("whisper_token");if(!e){const n=await(await fetch(`${eh}/api/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"chuli2026"})})).json();if(n.success&&n.token)e=n.token,localStorage.setItem("whisper_token",e);else throw new Error("")}return e}async function B(e,t={}){let n=await qc();const r=`${eh}${e}`,l=a=>fetch(r,{...t,cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers},body:t.body?JSON.stringify(t.body):void 0});let s=await l(n);if(s.status===401&&(localStorage.removeItem("whisper_token"),n=await qc(),s=await l(n)),s.status===204)return null;if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.detail||` (${s.status})`)}return s.json()}const Nv="WhisperMiniDB",Cv=1,zr="avatars",th=()=>new Promise((e,t)=>{const n=indexedDB.open(Nv,Cv);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(zr)||r.createObjectStore(zr,{keyPath:"key"})}}),bi=async(e,t)=>{const n=await th();return new Promise((r,l)=>{const s=n.transaction([zr],"readwrite");s.objectStore(zr).put({key:e,base64:t}),s.oncomplete=()=>r(),s.onerror=()=>l(s.error)})},Oo=async e=>{const t=await th();return new Promise((n,r)=>{const s=t.transaction([zr],"readonly").objectStore(zr).get(e);s.onsuccess=()=>{var a;return n(((a=s.result)==null?void 0:a.base64)||null)},s.onerror=()=>r(s.error)})},st={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function sr({icon:e,label:t,desc:n,disabled:r,onClick:l}){const[s,a]=d.useState(!1),i=()=>!r&&a(!0),u=()=>{a(!1),r||l==null||l()};return o.jsxs("button",{className:"flex flex-col items-start rounded-[18px] gap-2 text-left",style:{padding:"16px 14px",background:st.bg,boxShadow:s?"inset 3px 3px 8px rgba(174,176,182,0.5), inset -3px -3px 8px #ffffff":"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff",opacity:r?.4:1,transform:s?"scale(0.97)":"scale(1)",transition:"transform 0.1s, box-shadow 0.1s",cursor:r?"default":"pointer",WebkitTapHighlightColor:"transparent"},disabled:r,onTouchStart:i,onTouchEnd:u,onMouseDown:i,onMouseUp:u,onMouseLeave:()=>a(!1),children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-[12px]",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))"},children:e}),o.jsxs("div",{className:"pl-1",children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:st.text},children:t}),o.jsx("div",{className:"mt-0.5 text-[10px] leading-snug",style:{color:st.textMuted},children:n})]})]})}function Zc({children:e}){return o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-[3px]",style:{color:st.textMuted},children:e})}function Ev(){const e=Ut(),[t,n]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("whisper_profile")||"null")}catch(i){return null}}),[r,l]=d.useState(null);d.useEffect(()=>{B("/api/user/profile").then(i=>{n(i),localStorage.setItem("whisper_profile",JSON.stringify(i))}).catch(()=>{}),Oo("user-avatar").then(i=>{i&&l(i)}).catch(function(){})},[]);const s=(t==null?void 0:t.nickname)||"",a=(t==null?void 0:t.background_url)||"";return o.jsxs("div",{className:"flex flex-col overflow-y-auto",style:{background:st.bg,height:"100%",paddingBottom:16},children:[o.jsxs("div",{className:"flex flex-col px-5",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[o.jsx("h1",{className:"mb-4 text-center text-[17px] font-medium",style:{color:st.textMuted,letterSpacing:"4px"},children:"W H I S P E R"}),o.jsxs("button",{className:"mb-5 flex w-full items-center gap-4 rounded-[20px] p-5 text-left",style:{background:st.bg,boxShadow:"6px 6px 14px rgba(174,176,182,0.5), -6px -6px 14px #ffffff"},onClick:()=>e("/profile"),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:52,height:52,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:st.bg},children:r?o.jsx("img",{src:r,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:22},children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-[17px] font-bold truncate",style:{color:st.text},children:["@",s]}),o.jsxs("div",{className:"mt-0.5 text-[11px] italic",style:{color:st.textMuted},children:['"',a,'"']})]}),o.jsx(Wl,{size:16,style:{color:st.textMuted,flexShrink:0}})]}),o.jsx(Zc,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(sr,{icon:o.jsx(iv,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/world-books")}),o.jsx(sr,{icon:o.jsx(uv,{size:18,color:"white"}),label:"",desc:"",onClick:()=>e("/memories")}),o.jsx(sr,{icon:o.jsx(Qp,{size:18,color:"white"}),label:"",desc:"Core Blocks",onClick:()=>e("/assistants")}),o.jsx(sr,{icon:o.jsx(kv,{size:18,color:"white"}),label:"",desc:"API",onClick:()=>e("/settings")})]}),o.jsx(Zc,{children:""}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3.5",children:[o.jsx(sr,{icon:o.jsx(av,{size:18,color:"white"}),label:"",desc:"",disabled:!0}),o.jsx(sr,{icon:o.jsx(bv,{size:18,color:"white"}),label:"",desc:"",disabled:!0})]}),o.jsx("button",{className:"flex w-full items-center justify-center rounded-[18px] py-4",style:{background:st.bg,boxShadow:"5px 5px 12px rgba(174,176,182,0.5), -5px -5px 12px #ffffff"},onClick:()=>e("/cot"),children:o.jsx(xv,{size:32,fill:st.accent,style:{color:st.accent,animation:"heartbeat 2s ease-in-out infinite"}})})]}),o.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          15% { transform: scale(1.15); }
          30% { transform: scale(1); }
          45% { transform: scale(1.1); }
          60% { transform: scale(1); }
        }
      `})]})}const ce={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},ed={always:{label:"",color:"#6b9b6e",bg:"#e0f0e1"},keyword:{label:"",color:"#9b6b6b",bg:"#f0e0e0"},mood:{label:"",color:"#9b7a3b",bg:"#f0ebd8"}};function Mv({activation:e}){const t=ed[e]||ed.always;return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:t.color,background:t.bg},children:t.label})}const ms=80;function Tv({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/ms);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-ms,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/ms)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-ms):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Xl,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function _v({book:e,onTap:t}){var n;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:ce.bg,userSelect:"none"},onClick:()=>t(e),children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ce.bg},children:o.jsx(Gp,{size:18,style:{color:ce.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate text-[14px] font-semibold",style:{color:ce.text},children:e.name}),o.jsx(Mv,{activation:e.activation})]}),e.folder&&o.jsx("div",{className:"mt-0.5 text-[11px]",style:{color:ce.textMuted},children:e.folder}),e.activation==="keyword"&&((n=e.keywords)==null?void 0:n.length)>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((r,l)=>o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(232,160,191,0.15)",color:ce.accentDark},children:r},l)),e.keywords.length>3&&o.jsxs("span",{className:"text-[10px]",style:{color:ce.textMuted},children:["+",e.keywords.length-3]})]})]}),o.jsx(Wl,{size:16,style:{color:ce.textMuted,flexShrink:0}})]})}function Dv({folder:e,books:t,onDelete:n,onTap:r}){const[l,s]=d.useState(!0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 px-1",onClick:()=>s(!l),children:[l?o.jsx(Or,{size:14,style:{color:ce.textMuted}}):o.jsx(Wl,{size:14,style:{color:ce.textMuted}}),o.jsx("span",{className:"text-[12px] font-bold tracking-wide",style:{color:ce.textMuted},children:e||""}),o.jsx("span",{className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.12)",color:ce.textMuted},children:t.length})]}),l&&t.map(a=>o.jsx(Tv,{onDelete:()=>n(a),children:o.jsx(_v,{book:a,onTap:r})},a.id))]})}function Rv(){const e=Ut(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,u]=d.useState(null),c=k=>{u(k),setTimeout(()=>u(null),2e3)},p=()=>{l(!0),B("/api/world-books").then(k=>n(k.world_books||[])).catch(()=>c("")).finally(()=>l(!1))};d.useEffect(()=>{p()},[]);const f=async k=>{a(null);try{await B(`/api/world-books/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),c("")}catch(v){c("")}},h={};for(const k of t){const v=k.folder||"";h[v]||(h[v]=[]),h[v].push(k)}const y=Object.keys(h).sort((k,v)=>k===""?1:v===""?-1:k.localeCompare(v));return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ce.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full nm-active",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:ce.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ce.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books/new"),children:o.jsx(Vl,{size:20,style:{color:ce.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-t-transparent",style:{borderColor:ce.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Gp,{size:36,style:{color:ce.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:ce.textMuted},children:" + "})]}):y.map(k=>o.jsx(Dv,{folder:k,books:h[k],onDelete:v=>a(v),onTap:v=>e(`/world-books/${v.id}`)},k))}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>a(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:ce.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:ce.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:ce.textMuted},children:["",s.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:ce.bg,boxShadow:"var(--card-shadow-sm)",color:ce.text},onClick:()=>a(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>f(s),children:""})]})]})}),i&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:i})})]})}const V={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function zv({label:e,value:t,onChange:n,placeholder:r}){return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:e}),o.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:r,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:V.bg,color:V.text}})]})}function Pv({value:e,onChange:t,folders:n}){const[r,l]=d.useState(!1),s=n.filter(a=>a!==e&&a.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"relative mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:""}),o.jsx("input",{type:"text",value:e,onChange:a=>{t(a.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),150),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:V.bg,color:V.text}}),r&&s.length>0&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[160px] overflow-y-auto rounded-[14px]",style:{background:V.bg,boxShadow:"var(--card-shadow)"},children:s.map(a=>o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:V.text},onMouseDown:()=>{t(a),l(!1)},children:a},a))})]})}function Iv({value:e,onChange:t}){const n=[{value:"always",label:""},{value:"keyword",label:""},{value:"mood",label:""}];return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:""}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:V.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:e===r.value?V.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?V.accentDark:V.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})]})}const Lv=["","","","","","","",""];function Ov({selected:e,onChange:t}){const n=r=>{e.includes(r)?t(e.filter(l=>l!==r)):t([...e,r])};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:""}),o.jsx("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:V.bg,minHeight:48},children:Lv.map(r=>{const l=e.includes(r);return o.jsx("button",{className:"rounded-full px-3 py-1.5 text-[13px] font-medium transition-all",style:{background:l?V.accentDark:V.bg,color:l?"white":V.textMuted,boxShadow:l?"none":"var(--card-shadow-sm)"},onClick:()=>n(r),children:r},r)})})]})}function Av({keywords:e,onChange:t}){const[n,r]=d.useState(""),l=()=>{const s=n.trim();if(!s||e.includes(s)){r("");return}t([...e,s]),r("")};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:""}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-[14px] p-3",style:{boxShadow:"var(--inset-shadow)",background:V.bg,minHeight:48},children:[e.map(s=>o.jsxs("span",{className:"flex items-center gap-1 rounded-full px-2.5 py-1 text-[12px] font-medium",style:{background:"rgba(232,160,191,0.2)",color:V.accentDark},children:[s,o.jsx("button",{onClick:()=>t(e.filter(a=>a!==s)),children:o.jsx(Lo,{size:10})})]},s)),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),onKeyDown:s=>{(s.key==="Enter"||s.key===",")&&(s.preventDefault(),l())},placeholder:"...",className:"w-24 bg-transparent text-[12px] outline-none",style:{color:V.text}}),n.trim()&&o.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full",style:{background:V.accentDark},onClick:l,children:o.jsx(Vl,{size:10,color:"white"})})]})]}),o.jsx("p",{className:"mt-1 text-[10px]",style:{color:V.textMuted},children:" Enter "})]})}function Fv({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:V.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:V.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:V.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:V.bg,color:V.text},placeholder:"..."})]})}function td(){const e=Ut(),{id:t}=Hp(),n=!t,[r,l]=d.useState(""),[s,a]=d.useState(""),[i,u]=d.useState("always"),[c,p]=d.useState([]),[f,h]=d.useState(""),[y,k]=d.useState(!1),[v,b]=d.useState(!n),[x,m]=d.useState(null),[g,j]=d.useState([]),[w,C]=d.useState(!1),S=d.useRef(null),E=D=>{var K;const X=(K=D.target.files)==null?void 0:K[0];if(!X)return;const $=new FileReader;$.onload=ge=>h(ge.target.result||""),$.readAsText(X),D.target.value=""},_=D=>{m(D),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{B("/api/world-books").then(D=>{const X=D.world_books||[];if(j([...new Set(X.map($=>$.folder).filter(Boolean))]),!n){const $=X.find(K=>String(K.id)===String(t));$&&(l($.name),a($.folder||""),u($.activation),p($.keywords||[]),h($.content))}}).catch(()=>_("")).finally(()=>b(!1))},[t,n]);const R=async()=>{if(!r.trim()){_("");return}k(!0);try{const D={name:r.trim(),folder:s.trim()||null,activation:i,keywords:i!=="always"?c:[],content:f};n?(await B("/api/world-books",{method:"POST",body:D}),_("")):(await B(`/api/world-books/${t}`,{method:"PUT",body:D}),_(""))}catch(D){_(": "+D.message)}finally{k(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:V.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/world-books",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:V.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:V.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:V.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:R,disabled:y,children:o.jsx(Io,{size:18,style:{color:V.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:v?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:V.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[20px] p-5 mb-4",style:{background:V.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(zv,{label:"",value:r,onChange:l,placeholder:""}),o.jsx(Pv,{value:s,onChange:a,folders:g}),o.jsx(Iv,{value:i,onChange:u}),i==="keyword"&&o.jsx(Av,{keywords:c,onChange:p}),i==="mood"&&o.jsx(Ov,{selected:c,onChange:p})]}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:V.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:V.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:V.bg},onClick:()=>{var D;return(D=S.current)==null?void 0:D.click()},title:"",children:o.jsx(ku,{size:13,style:{color:V.textMuted}})}),o.jsx("input",{ref:S,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:E}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:V.bg},onClick:()=>C(!0),title:"",children:o.jsx(Po,{size:13,style:{color:V.accentDark}})})]})]}),o.jsx("textarea",{value:f,onChange:D=>h(D.target.value),placeholder:"...",rows:10,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:V.bg,color:V.text}})]})]})}),w&&o.jsx(Fv,{value:f,onChange:h,onClose:()=>C(!1)}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const Me={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},xs=80;function $v({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({startX:0,startY:0,base:0,current:0,dragging:!1,locked:!1,isH:!1}),s=(p,f)=>{const h=n.current,y=r.current;if(!h)return;const k="all 0.25s cubic-bezier(.4,0,.2,1)";if(h.style.transition=k,h.style.transform=`translateX(${p}px)`,y){const v=Math.min(1,Math.abs(p)/xs);y.style.transition=k,y.style.opacity=`${v}`}l.current.current=p},a=()=>s(0),i=p=>{const f=p.touches[0],h=l.current;h.startX=f.clientX,h.startY=f.clientY,h.base=h.current,h.dragging=!0,h.locked=!1,h.isH=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},u=p=>{const f=l.current;if(!f.dragging)return;const h=p.touches[0],y=h.clientX-f.startX,k=h.clientY-f.startY;if(!f.locked){if(Math.abs(y)<5&&Math.abs(k)<5)return;f.locked=!0,f.isH=Math.abs(y)>Math.abs(k)}if(!f.isH){f.dragging=!1;return}p.preventDefault();const v=Math.max(-xs,Math.min(0,f.base+y));n.current&&(n.current.style.transform=`translateX(${v}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(v)/xs)}`),f.current=v},c=()=>{l.current.dragging=!1,l.current.current<-40?s(-xs):s(0)};return o.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-[18px]",style:{background:Me.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{className:"flex h-[calc(100%-12px)] w-[68px] flex-col items-center justify-center gap-1 rounded-[14px]",style:{background:"#ff4d6d"},onClick:()=>{a(),t()},children:[o.jsx(Xl,{size:16,color:"white"}),o.jsx("span",{className:"text-[11px] font-medium text-white",children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0px)",willChange:"transform"},onTouchStart:i,onTouchMove:u,onTouchEnd:c,children:e})]})}function Bv({assistant:e,localAvatar:t,onTap:n}){var l;const r=t||null;return o.jsxs("div",{className:"flex items-center gap-3 rounded-[18px] p-4",style:{background:Me.bg,userSelect:"none"},onClick:()=>n(e),children:[o.jsx("div",{className:"shrink-0 rounded-full",style:{width:48,height:48,background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:Me.bg},children:r?o.jsx("img",{src:r,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[20px]",style:{color:Me.accentDark},children:((l=e.name)==null?void 0:l[0])||"?"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[15px] font-bold",style:{color:Me.text},children:e.name}),e.created_at&&o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:Me.textMuted},children:e.created_at.slice(0,10)})]}),o.jsx(Wl,{size:16,style:{color:Me.textMuted,flexShrink:0}})]})}function Uv(){const e=Ut(),[t,n]=d.useState([]),[r,l]=d.useState({}),[s,a]=d.useState(!0),[i,u]=d.useState(null),[c,p]=d.useState(null),f=k=>{p(k),setTimeout(()=>p(null),2e3)},h=()=>{a(!0),B("/api/assistants").then(async k=>{const v=k.assistants||[];n(v);const b={};await Promise.all(v.map(async x=>{const m=await Oo(`assistant-avatar-${x.id}`).catch(()=>null);m&&(b[x.id]=m)})),l(b)}).catch(()=>f("")).finally(()=>a(!1))};d.useEffect(()=>{h()},[]);const y=async k=>{u(null);try{await B(`/api/assistants/${k.id}`,{method:"DELETE"}),n(v=>v.filter(b=>b.id!==k.id)),f("")}catch(v){f("")}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Me.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Me.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:Me.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Me.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Me.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants/new"),children:o.jsx(Vl,{size:20,style:{color:Me.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Me.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[o.jsx(Qp,{size:36,style:{color:Me.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:Me.textMuted},children:" + "})]}):t.map(k=>o.jsx($v,{onDelete:()=>u(k),children:o.jsx(Bv,{assistant:k,localAvatar:r[k.id],onTap:v=>e(`/assistants/${v.id}`)})},k.id))}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>u(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:Me.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:k=>k.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:Me.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:Me.textMuted},children:["",i.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold",style:{background:Me.bg,boxShadow:"var(--card-shadow-sm)",color:Me.text},onClick:()=>u(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[15px] font-semibold text-white",style:{background:"#ff4d6d",boxShadow:"4px 4px 10px rgba(255,77,109,0.4)"},onClick:()=>y(i),children:""})]})]})}),c&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:c})})]})}function Hv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>r=>{t.forEach(l=>l(r))},t)}const Ao=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Ar(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Su(e){return"nodeType"in e}function nt(e){var t,n;return e?Ar(e)?e:Su(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ju(e){const{Document:t}=nt(e);return e instanceof t}function Kl(e){return Ar(e)?!1:e instanceof nt(e).HTMLElement}function nh(e){return e instanceof nt(e).SVGElement}function Fr(e){return e?Ar(e)?e.document:Su(e)?ju(e)?e:Kl(e)||nh(e)?e.ownerDocument:document:document:document}const $t=Ao?d.useLayoutEffect:d.useEffect;function Fo(e){const t=d.useRef(e);return $t(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function Wv(){const e=d.useRef(null),t=d.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ol(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return $t(()=>{n.current!==e&&(n.current=e)},t),n}function Ql(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ao(e){const t=Fo(e),n=d.useRef(null),r=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,r]}function io(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let ya={};function Yl(e,t){return d.useMemo(()=>{if(t)return t;const n=ya[e]==null?0:ya[e]+1;return ya[e]=n,e+"-"+n},[e,t])}function rh(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[u,c]of i){const p=s[u];p!=null&&(s[u]=p+e*c)}return s},{...t})}}const Nr=rh(1),uo=rh(-1);function Vv(e){return"clientX"in e&&"clientY"in e}function $o(e){if(!e)return!1;const{KeyboardEvent:t}=nt(e.target);return t&&e instanceof t}function Xv(e){if(!e)return!1;const{TouchEvent:t}=nt(e.target);return t&&e instanceof t}function co(e){if(Xv(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Vv(e)?{x:e.clientX,y:e.clientY}:null}const Ln=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ln.Translate.toString(e),Ln.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),nd="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Kv(e){return e.matches(nd)?e:e.querySelector(nd)}const Qv={display:"none"};function Yv(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:Qv},n)}function Gv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function Jv(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const lh=d.createContext(null);function qv(e){const t=d.useContext(lh);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Zv(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:l,event:s}=r;e.forEach(a=>{var i;return(i=a[l])==null?void 0:i.call(a,s)})},[e]),t]}const ey={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ty={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ny(e){let{announcements:t=ty,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=ey}=e;const{announce:s,announcement:a}=Jv(),i=Yl("DndLiveRegion"),[u,c]=d.useState(!1);if(d.useEffect(()=>{c(!0)},[]),qv(d.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:y}=f;t.onDragMove&&s(t.onDragMove({active:h,over:y}))},onDragOver(f){let{active:h,over:y}=f;s(t.onDragOver({active:h,over:y}))},onDragEnd(f){let{active:h,over:y}=f;s(t.onDragEnd({active:h,over:y}))},onDragCancel(f){let{active:h,over:y}=f;s(t.onDragCancel({active:h,over:y}))}}),[s,t])),!u)return null;const p=me.createElement(me.Fragment,null,me.createElement(Yv,{id:r,value:l.draggable}),me.createElement(Gv,{id:i,announcement:a}));return n?vr.createPortal(p,n):p}var ze;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ze||(ze={}));function fo(){}function rd(e,t){return d.useMemo(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function ry(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Bt=Object.freeze({x:0,y:0});function ly(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sy(e,t){const n=co(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function oy(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ay(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function iy(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function ld(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const uy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=ld(t,t.left,t.top),s=[];for(const a of r){const{id:i}=a,u=n.get(i);if(u){const c=ly(ld(u),l);s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(oy)};function cy(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=l-r,i=s-n;if(r<l&&n<s){const u=t.width*t.height,c=e.width*e.height,p=a*i,f=p/(u+c-p);return Number(f.toFixed(4))}return 0}const dy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const u=cy(i,t);u>0&&l.push({id:a,data:{droppableContainer:s,value:u}})}}return l.sort(ay)};function fy(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function sh(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Bt}function py(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),s=1;s<r;s++)l[s-1]=arguments[s];return l.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const hy=py(1);function oh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function my(e,t,n){const r=oh(t);if(!r)return e;const{scaleX:l,scaleY:s,x:a,y:i}=r,u=e.left-a-(1-l)*parseFloat(n),c=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,f=s?e.height/s:e.height;return{width:p,height:f,top:c,right:u+p,bottom:c+f,left:u}}const xy={ignoreTransform:!1};function $r(e,t){t===void 0&&(t=xy);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:p}=nt(e).getComputedStyle(e);c&&(n=my(n,c,p))}const{top:r,left:l,width:s,height:a,bottom:i,right:u}=n;return{top:r,left:l,width:s,height:a,bottom:i,right:u}}function sd(e){return $r(e,{ignoreTransform:!0})}function gy(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function vy(e,t){return t===void 0&&(t=nt(e).getComputedStyle(e)),t.position==="fixed"}function yy(e,t){t===void 0&&(t=nt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const s=t[l];return typeof s=="string"?n.test(s):!1})}function Nu(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(ju(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Kl(l)||nh(l)||n.includes(l))return n;const s=nt(e).getComputedStyle(l);return l!==e&&yy(l,s)&&n.push(l),vy(l,s)?n:r(l.parentNode)}return e?r(e):n}function ah(e){const[t]=Nu(e,1);return t!=null?t:null}function wa(e){return!Ao||!e?null:Ar(e)?e:Su(e)?ju(e)||e===Fr(e).scrollingElement?window:Kl(e)?e:null:null}function ih(e){return Ar(e)?e.scrollX:e.scrollLeft}function uh(e){return Ar(e)?e.scrollY:e.scrollTop}function Si(e){return{x:ih(e),y:uh(e)}}var Ae;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ae||(Ae={}));function ch(e){return!Ao||!e?!1:e===document.scrollingElement}function dh(e){const t={x:0,y:0},n=ch(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:l,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const wy={x:.2,y:.2};function ky(e,t,n,r,l){let{top:s,left:a,right:i,bottom:u}=n;r===void 0&&(r=10),l===void 0&&(l=wy);const{isTop:c,isBottom:p,isLeft:f,isRight:h}=dh(e),y={x:0,y:0},k={x:0,y:0},v={height:t.height*l.y,width:t.width*l.x};return!c&&s<=t.top+v.height?(y.y=Ae.Backward,k.y=r*Math.abs((t.top+v.height-s)/v.height)):!p&&u>=t.bottom-v.height&&(y.y=Ae.Forward,k.y=r*Math.abs((t.bottom-v.height-u)/v.height)),!h&&i>=t.right-v.width?(y.x=Ae.Forward,k.x=r*Math.abs((t.right-v.width-i)/v.width)):!f&&a<=t.left+v.width&&(y.x=Ae.Backward,k.x=r*Math.abs((t.left+v.width-a)/v.width)),{direction:y,speed:k}}function by(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function fh(e){return e.reduce((t,n)=>Nr(t,Si(n)),Bt)}function Sy(e){return e.reduce((t,n)=>t+ih(n),0)}function jy(e){return e.reduce((t,n)=>t+uh(n),0)}function ph(e,t){if(t===void 0&&(t=$r),!e)return;const{top:n,left:r,bottom:l,right:s}=t(e);ah(e)&&(l<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ny=[["x",["left","right"],Sy],["y",["top","bottom"],jy]];class Cu{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Nu(n),l=fh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,i]of Ny)for(const u of a)Object.defineProperty(this,u,{get:()=>{const c=i(r),p=l[s]-c;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Cy(e){const{EventTarget:t}=nt(e);return e instanceof t?e:Fr(e)}function ka(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var jt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jt||(jt={}));function od(e){e.preventDefault()}function Ey(e){e.stopPropagation()}var oe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(oe||(oe={}));const hh={start:[oe.Space,oe.Enter],cancel:[oe.Esc],end:[oe.Space,oe.Enter,oe.Tab]},My=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case oe.Right:return{...n,x:n.x+25};case oe.Left:return{...n,x:n.x-25};case oe.Down:return{...n,y:n.y+25};case oe.Up:return{...n,y:n.y-25}}};class mh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new pl(Fr(n)),this.windowListeners=new pl(nt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jt.Resize,this.handleCancel),this.windowListeners.add(jt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ph(r),n(Bt)}handleKeyDown(t){if($o(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:s=hh,coordinateGetter:a=My,scrollBehavior:i="smooth"}=l,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,p=c?{x:c.left,y:c.top}:Bt;this.referenceCoordinates||(this.referenceCoordinates=p);const f=a(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=uo(f,p),y={x:0,y:0},{scrollableAncestors:k}=r.current;for(const v of k){const b=t.code,{isTop:x,isRight:m,isLeft:g,isBottom:j,maxScroll:w,minScroll:C}=dh(v),S=by(v),E={x:Math.min(b===oe.Right?S.right-S.width/2:S.right,Math.max(b===oe.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===oe.Down?S.bottom-S.height/2:S.bottom,Math.max(b===oe.Down?S.top:S.top+S.height/2,f.y))},_=b===oe.Right&&!m||b===oe.Left&&!g,R=b===oe.Down&&!j||b===oe.Up&&!x;if(_&&E.x!==f.x){const D=v.scrollLeft+h.x,X=b===oe.Right&&D<=w.x||b===oe.Left&&D>=C.x;if(X&&!h.y){v.scrollTo({left:D,behavior:i});return}X?y.x=v.scrollLeft-D:y.x=b===oe.Right?v.scrollLeft-w.x:v.scrollLeft-C.x,y.x&&v.scrollBy({left:-y.x,behavior:i});break}else if(R&&E.y!==f.y){const D=v.scrollTop+h.y,X=b===oe.Down&&D<=w.y||b===oe.Up&&D>=C.y;if(X&&!h.x){v.scrollTo({top:D,behavior:i});return}X?y.y=v.scrollTop-D:y.y=b===oe.Down?v.scrollTop-w.y:v.scrollTop-C.y,y.y&&v.scrollBy({top:-y.y,behavior:i});break}}this.handleMove(t,Nr(uo(f,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=hh,onActivation:l}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function ad(e){return!!(e&&"distance"in e)}function id(e){return!!(e&&"delay"in e)}class Eu{constructor(t,n,r){var l;r===void 0&&(r=Cy(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Fr(a),this.documentListeners=new pl(this.document),this.listeners=new pl(r),this.windowListeners=new pl(nt(a)),this.initialCoordinates=(l=co(s))!=null?l:Bt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(jt.Resize,this.handleCancel),this.windowListeners.add(jt.DragStart,od),this.windowListeners.add(jt.VisibilityChange,this.handleCancel),this.windowListeners.add(jt.ContextMenu,od),this.documentListeners.add(jt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(id(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ad(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(jt.Click,Ey,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!l)return;const u=(n=co(t))!=null?n:Bt,c=uo(l,u);if(!r&&i){if(ad(i)){if(i.tolerance!=null&&ka(c,i.tolerance))return this.handleCancel();if(ka(c,i.distance))return this.handleStart()}if(id(i)&&ka(c,i.tolerance))return this.handleCancel();this.handlePending(i,c);return}t.cancelable&&t.preventDefault(),a(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===oe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ty={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Mu extends Eu{constructor(t){const{event:n}=t,r=Fr(n.target);super(t,Ty,r)}}Mu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const _y={move:{name:"mousemove"},end:{name:"mouseup"}};var ji;(function(e){e[e.RightClick=2]="RightClick"})(ji||(ji={}));class Dy extends Eu{constructor(t){super(t,_y,Fr(t.event.target))}}Dy.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ji.RightClick?!1:(r==null||r({event:n}),!0)}}];const ba={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xh extends Eu{constructor(t){super(t,ba)}static setup(){return window.addEventListener(ba.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ba.move.name,t)};function t(){}}}xh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r==null||r({event:n}),!0)}}];var hl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hl||(hl={}));var po;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(po||(po={}));function Ry(e){let{acceleration:t,activator:n=hl.Pointer,canScroll:r,draggingRect:l,enabled:s,interval:a=5,order:i=po.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:p,delta:f,threshold:h}=e;const y=Py({delta:f,disabled:!s}),[k,v]=Wv(),b=d.useRef({x:0,y:0}),x=d.useRef({x:0,y:0}),m=d.useMemo(()=>{switch(n){case hl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case hl.DraggableRect:return l}},[n,l,u]),g=d.useRef(null),j=d.useCallback(()=>{const C=g.current;if(!C)return;const S=b.current.x*x.current.x,E=b.current.y*x.current.y;C.scrollBy(S,E)},[]),w=d.useMemo(()=>i===po.TreeOrder?[...c].reverse():c,[i,c]);d.useEffect(()=>{if(!s||!c.length||!m){v();return}for(const C of w){if((r==null?void 0:r(C))===!1)continue;const S=c.indexOf(C),E=p[S];if(!E)continue;const{direction:_,speed:R}=ky(C,E,m,t,h);for(const D of["x","y"])y[D][_[D]]||(R[D]=0,_[D]=0);if(R.x>0||R.y>0){v(),g.current=C,k(j,a),b.current=R,x.current=_;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,j,r,v,s,a,JSON.stringify(m),JSON.stringify(y),k,c,w,p,JSON.stringify(h)])}const zy={x:{[Ae.Backward]:!1,[Ae.Forward]:!1},y:{[Ae.Backward]:!1,[Ae.Forward]:!1}};function Py(e){let{delta:t,disabled:n}=e;const r=io(t);return Ql(l=>{if(n||!r||!l)return zy;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ae.Backward]:l.x[Ae.Backward]||s.x===-1,[Ae.Forward]:l.x[Ae.Forward]||s.x===1},y:{[Ae.Backward]:l.y[Ae.Backward]||s.y===-1,[Ae.Forward]:l.y[Ae.Forward]||s.y===1}}},[n,t,r])}function Iy(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ql(l=>{var s;return t==null?null:(s=r!=null?r:l)!=null?s:null},[r,t])}function Ly(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,s=l.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Al;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Al||(Al={}));var Ni;(function(e){e.Optimized="optimized"})(Ni||(Ni={}));const ud=new Map;function Oy(e,t){let{dragging:n,dependencies:r,config:l}=t;const[s,a]=d.useState(null),{frequency:i,measure:u,strategy:c}=l,p=d.useRef(e),f=b(),h=Ol(f),y=d.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(m=>m===null?x:m.concat(x.filter(g=>!m.includes(g))))},[h]),k=d.useRef(null),v=Ql(x=>{if(f&&!n)return ud;if(!x||x===ud||p.current!==e||s!=null){const m=new Map;for(let g of e){if(!g)continue;if(s&&s.length>0&&!s.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const j=g.node.current,w=j?new Cu(u(j),j):null;g.rect.current=w,w&&m.set(g.id,w)}return m}return x},[e,s,n,f,u]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{f||y()},[n,f]),d.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),d.useEffect(()=>{f||typeof i!="number"||k.current!==null||(k.current=setTimeout(()=>{y(),k.current=null},i))},[i,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function b(){switch(c){case Al.Always:return!1;case Al.BeforeDragging:return n;default:return!n}}}function Tu(e,t){return Ql(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ay(e,t){return Tu(e,t)}function Fy(e){let{callback:t,disabled:n}=e;const r=Fo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Bo(e){let{callback:t,disabled:n}=e;const r=Fo(t),l=d.useMemo(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function $y(e){return new Cu($r(e),e)}function cd(e,t,n){t===void 0&&(t=$y);const[r,l]=d.useState(null);function s(){l(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u!=null?u:n)!=null?c:null}const p=t(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=Fy({callback(u){if(e)for(const c of u){const{type:p,target:f}=c;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),i=Bo({callback:s});return $t(()=>{s(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function By(e){const t=Tu(e);return sh(e,t)}const dd=[];function Uy(e){const t=d.useRef(e),n=Ql(r=>e?r&&r!==dd&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nu(e):dd,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Hy(e){const[t,n]=d.useState(null),r=d.useRef(e),l=d.useCallback(s=>{const a=wa(s.target);a&&n(i=>i?(i.set(a,Si(a)),new Map(i)):null)},[]);return d.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(u=>{const c=wa(u);return c?(c.addEventListener("scroll",l,{passive:!0}),[c,Si(c)]):null}).filter(u=>u!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(u=>{const c=wa(u);c==null||c.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Nr(s,a),Bt):fh(e):Bt,[e,t])}function fd(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==Bt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?uo(e,n.current):Bt}function Wy(e){d.useEffect(()=>{if(!Ao)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Vy(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:s}=r;return n[l]=a=>{s(a,t)},n},{}),[e,t])}function gh(e){return d.useMemo(()=>e?gy(e):null,[e])}const pd=[];function Xy(e,t){t===void 0&&(t=$r);const[n]=e,r=gh(n?nt(n):null),[l,s]=d.useState(pd);function a(){s(()=>e.length?e.map(u=>ch(u)?r:new Cu(t(u),u)):pd)}const i=Bo({callback:a});return $t(()=>{i==null||i.disconnect(),a(),e.forEach(u=>i==null?void 0:i.observe(u))},[e]),l}function vh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Kl(t)?t:e}function Ky(e){let{measure:t}=e;const[n,r]=d.useState(null),l=d.useCallback(c=>{for(const{target:p}of c)if(Kl(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Bo({callback:l}),a=d.useCallback(c=>{const p=vh(c);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[i,u]=ao(a);return d.useMemo(()=>({nodeRef:i,rect:n,setRef:u}),[n,i,u])}const Qy=[{sensor:Mu,options:{}},{sensor:mh,options:{}}],Yy={current:{}},Is={draggable:{measure:sd},droppable:{measure:sd,strategy:Al.WhileDragging,frequency:Ni.Optimized},dragOverlay:{measure:$r}};class ml extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Gy={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ml,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Is,measureDroppableContainers:fo,windowRect:null,measuringScheduled:!1},yh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fo,draggableNodes:new Map,over:null,measureDroppableContainers:fo},Gl=d.createContext(yh),wh=d.createContext(Gy);function Jy(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ml}}}function qy(e,t){switch(t.type){case ze.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ze.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ze.DragEnd:case ze.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ze.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new ml(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case ze.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new ml(e.droppable.containers);return a.set(n,{...s,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case ze.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const s=new ml(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Zy(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=d.useContext(Gl),s=io(r),a=io(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!$o(s)||document.activeElement===s.target)return;const i=l.get(a);if(!i)return;const{activatorNode:u,node:c}=i;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const p of[u.current,c.current]){if(!p)continue;const f=Kv(p);if(f){f.focus();break}}})}},[r,t,l,a,s]),null}function kh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,s)=>s({transform:l,...r}),n):n}function e1(e){return d.useMemo(()=>({draggable:{...Is.draggable,...e==null?void 0:e.draggable},droppable:{...Is.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Is.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function t1(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const s=d.useRef(!1),{x:a,y:i}=typeof l=="boolean"?{x:l,y:l}:l;$t(()=>{if(!a&&!i||!t){s.current=!1;return}if(s.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const p=n(c),f=sh(p,r);if(a||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=ah(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,i,r,n])}const Uo=d.createContext({...Bt,scaleX:1,scaleY:1});var wn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(wn||(wn={}));const n1=d.memo(function(t){var n,r,l,s;let{id:a,accessibility:i,autoScroll:u=!0,children:c,sensors:p=Qy,collisionDetection:f=dy,measuring:h,modifiers:y,...k}=t;const v=d.useReducer(qy,void 0,Jy),[b,x]=v,[m,g]=Zv(),[j,w]=d.useState(wn.Uninitialized),C=j===wn.Initialized,{draggable:{active:S,nodes:E,translate:_},droppable:{containers:R}}=b,D=S!=null?E.get(S):null,X=d.useRef({initial:null,translated:null}),$=d.useMemo(()=>{var Xe;return S!=null?{id:S,data:(Xe=D==null?void 0:D.data)!=null?Xe:Yy,rect:X}:null},[S,D]),K=d.useRef(null),[ge,ve]=d.useState(null),[U,z]=d.useState(null),O=Ol(k,Object.values(k)),F=Yl("DndDescribedBy",a),q=d.useMemo(()=>R.getEnabled(),[R]),Q=e1(h),{droppableRects:te,measureDroppableContainers:se,measuringScheduled:ke}=Oy(q,{dragging:C,dependencies:[_.x,_.y],config:Q.droppable}),re=Iy(E,S),de=d.useMemo(()=>U?co(U):null,[U]),_e=zh(),$e=Ay(re,Q.draggable.measure);t1({activeNode:S!=null?E.get(S):null,config:_e.layoutShiftCompensation,initialRect:$e,measure:Q.draggable.measure});const Z=cd(re,Q.draggable.measure,$e),dt=cd(re?re.parentElement:null),Be=d.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ft=R.getNodeFor((n=Be.current.over)==null?void 0:n.id),ye=Ky({measure:Q.dragOverlay.measure}),rt=(r=ye.nodeRef.current)!=null?r:re,fe=C?(l=ye.rect)!=null?l:Z:null,Dt=!!(ye.nodeRef.current&&ye.rect),fn=By(Dt?null:Z),N=gh(rt?nt(rt):null),P=Uy(C?ft!=null?ft:re:null),W=Xy(P),Ne=kh(y,{transform:{x:_.x-fn.x,y:_.y-fn.y,scaleX:1,scaleY:1},activatorEvent:U,active:$,activeNodeRect:Z,containerNodeRect:dt,draggingNodeRect:fe,over:Be.current.over,overlayNodeRect:ye.rect,scrollableAncestors:P,scrollableAncestorRects:W,windowRect:N}),Rt=de?Nr(de,_):null,Le=Hy(P),Br=fd(Le),Jl=fd(Le,[Z]),Jt=Nr(Ne,Br),qt=fe?hy(fe,Ne):null,pn=$&&qt?f({active:$,collisionRect:qt,droppableRects:te,droppableContainers:q,pointerCoordinates:Rt}):null,I=iy(pn,"id"),[le,ee]=d.useState(null),Ce=Dt?Ne:Nr(Ne,Jl),bt=fy(Ce,(s=le==null?void 0:le.rect)!=null?s:null,Z),Zt=d.useRef(null),Ho=d.useCallback((Xe,pt)=>{let{sensor:ht,options:hn}=pt;if(K.current==null)return;const St=E.get(K.current);if(!St)return;const mt=Xe.nativeEvent,Ht=new ht({active:K.current,activeNode:St,event:mt,options:hn,context:Be,onAbort(Ue){if(!E.get(Ue))return;const{onDragAbort:Wt}=O.current,en={id:Ue};Wt==null||Wt(en),m({type:"onDragAbort",event:en})},onPending(Ue,mn,Wt,en){if(!E.get(Ue))return;const{onDragPending:Hr}=O.current,xn={id:Ue,constraint:mn,initialCoordinates:Wt,offset:en};Hr==null||Hr(xn),m({type:"onDragPending",event:xn})},onStart(Ue){const mn=K.current;if(mn==null)return;const Wt=E.get(mn);if(!Wt)return;const{onDragStart:en}=O.current,Ur={activatorEvent:mt,active:{id:mn,data:Wt.data,rect:X}};vr.unstable_batchedUpdates(()=>{en==null||en(Ur),w(wn.Initializing),x({type:ze.DragStart,initialCoordinates:Ue,active:mn}),m({type:"onDragStart",event:Ur}),ve(Zt.current),z(mt)})},onMove(Ue){x({type:ze.DragMove,coordinates:Ue})},onEnd:rr(ze.DragEnd),onCancel:rr(ze.DragCancel)});Zt.current=Ht;function rr(Ue){return async function(){const{active:Wt,collisions:en,over:Ur,scrollAdjustedTranslate:Hr}=Be.current;let xn=null;if(Wt&&Hr){const{cancelDrop:Wr}=O.current;xn={activatorEvent:mt,active:Wt,collisions:en,delta:Hr,over:Ur},Ue===ze.DragEnd&&typeof Wr=="function"&&await Promise.resolve(Wr(xn))&&(Ue=ze.DragCancel)}K.current=null,vr.unstable_batchedUpdates(()=>{x({type:Ue}),w(wn.Uninitialized),ee(null),ve(null),z(null),Zt.current=null;const Wr=Ue===ze.DragEnd?"onDragEnd":"onDragCancel";if(xn){const Vo=O.current[Wr];Vo==null||Vo(xn),m({type:Wr,event:xn})}})}}},[E]),Wo=d.useCallback((Xe,pt)=>(ht,hn)=>{const St=ht.nativeEvent,mt=E.get(hn);if(K.current!==null||!mt||St.dndKit||St.defaultPrevented)return;const Ht={active:mt};Xe(ht,pt.options,Ht)===!0&&(St.dndKit={capturedBy:pt.sensor},K.current=hn,Ho(ht,pt))},[E,Ho]),Ru=Ly(p,Wo);Wy(p),$t(()=>{Z&&j===wn.Initializing&&w(wn.Initialized)},[Z,j]),d.useEffect(()=>{const{onDragMove:Xe}=O.current,{active:pt,activatorEvent:ht,collisions:hn,over:St}=Be.current;if(!pt||!ht)return;const mt={active:pt,activatorEvent:ht,collisions:hn,delta:{x:Jt.x,y:Jt.y},over:St};vr.unstable_batchedUpdates(()=>{Xe==null||Xe(mt),m({type:"onDragMove",event:mt})})},[Jt.x,Jt.y]),d.useEffect(()=>{const{active:Xe,activatorEvent:pt,collisions:ht,droppableContainers:hn,scrollAdjustedTranslate:St}=Be.current;if(!Xe||K.current==null||!pt||!St)return;const{onDragOver:mt}=O.current,Ht=hn.get(I),rr=Ht&&Ht.rect.current?{id:Ht.id,rect:Ht.rect.current,data:Ht.data,disabled:Ht.disabled}:null,Ue={active:Xe,activatorEvent:pt,collisions:ht,delta:{x:St.x,y:St.y},over:rr};vr.unstable_batchedUpdates(()=>{ee(rr),mt==null||mt(Ue),m({type:"onDragOver",event:Ue})})},[I]),$t(()=>{Be.current={activatorEvent:U,active:$,activeNode:re,collisionRect:qt,collisions:pn,droppableRects:te,draggableNodes:E,draggingNode:rt,draggingNodeRect:fe,droppableContainers:R,over:le,scrollableAncestors:P,scrollAdjustedTranslate:Jt},X.current={initial:fe,translated:qt}},[$,re,pn,qt,E,rt,fe,te,R,le,P,Jt]),Ry({..._e,delta:_,draggingRect:qt,pointerCoordinates:Rt,scrollableAncestors:P,scrollableAncestorRects:W});const Dh=d.useMemo(()=>({active:$,activeNode:re,activeNodeRect:Z,activatorEvent:U,collisions:pn,containerNodeRect:dt,dragOverlay:ye,draggableNodes:E,droppableContainers:R,droppableRects:te,over:le,measureDroppableContainers:se,scrollableAncestors:P,scrollableAncestorRects:W,measuringConfiguration:Q,measuringScheduled:ke,windowRect:N}),[$,re,Z,U,pn,dt,ye,E,R,te,le,se,P,W,Q,ke,N]),Rh=d.useMemo(()=>({activatorEvent:U,activators:Ru,active:$,activeNodeRect:Z,ariaDescribedById:{draggable:F},dispatch:x,draggableNodes:E,over:le,measureDroppableContainers:se}),[U,Ru,$,Z,x,F,E,le,se]);return me.createElement(lh.Provider,{value:g},me.createElement(Gl.Provider,{value:Rh},me.createElement(wh.Provider,{value:Dh},me.createElement(Uo.Provider,{value:bt},c)),me.createElement(Zy,{disabled:(i==null?void 0:i.restoreFocus)===!1})),me.createElement(ny,{...i,hiddenTextDescribedById:F}));function zh(){const Xe=(ge==null?void 0:ge.autoScrollEnabled)===!1,pt=typeof u=="object"?u.enabled===!1:u===!1,ht=C&&!Xe&&!pt;return typeof u=="object"?{...u,enabled:ht}:{enabled:ht}}}),r1=d.createContext(null),hd="button",l1="Draggable";function s1(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const s=Yl(l1),{activators:a,activatorEvent:i,active:u,activeNodeRect:c,ariaDescribedById:p,draggableNodes:f,over:h}=d.useContext(Gl),{role:y=hd,roleDescription:k="draggable",tabIndex:v=0}=l!=null?l:{},b=(u==null?void 0:u.id)===t,x=d.useContext(b?Uo:r1),[m,g]=ao(),[j,w]=ao(),C=Vy(a,t),S=Ol(n);$t(()=>(f.set(t,{id:t,key:s,node:m,activatorNode:j,data:S}),()=>{const _=f.get(t);_&&_.key===s&&f.delete(t)}),[f,t]);const E=d.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&y===hd?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,y,v,b,k,p.draggable]);return{active:u,activatorEvent:i,activeNodeRect:c,attributes:E,isDragging:b,listeners:r?void 0:C,node:m,over:h,setNodeRef:g,setActivatorNodeRef:w,transform:x}}function bh(){return d.useContext(wh)}const o1="Droppable",a1={timeout:25};function i1(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const s=Yl(o1),{active:a,dispatch:i,over:u,measureDroppableContainers:c}=d.useContext(Gl),p=d.useRef({disabled:n}),f=d.useRef(!1),h=d.useRef(null),y=d.useRef(null),{disabled:k,updateMeasurementsFor:v,timeout:b}={...a1,...l},x=Ol(v!=null?v:r),m=d.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),y.current=null},b)},[b]),g=Bo({callback:m,disabled:k||!a}),j=d.useCallback((E,_)=>{g&&(_&&(g.unobserve(_),f.current=!1),E&&g.observe(E))},[g]),[w,C]=ao(j),S=Ol(t);return d.useEffect(()=>{!g||!w.current||(g.disconnect(),f.current=!1,g.observe(w.current))},[w,g]),d.useEffect(()=>(i({type:ze.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:h,data:S}}),()=>i({type:ze.UnregisterDroppable,key:s,id:r})),[r]),d.useEffect(()=>{n!==p.current.disabled&&(i({type:ze.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,i]),{active:a,rect:h,isOver:(u==null?void 0:u.id)===r,node:w,over:u,setNodeRef:C}}function u1(e){let{animation:t,children:n}=e;const[r,l]=d.useState(null),[s,a]=d.useState(null),i=io(n);return!n&&!r&&i&&l(i),$t(()=>{if(!s)return;const u=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(u==null||c==null){l(null);return}Promise.resolve(t(c,s)).then(()=>{l(null)})},[t,r,s]),me.createElement(me.Fragment,null,n,r?d.cloneElement(r,{ref:a}):null)}const c1={x:0,y:0,scaleX:1,scaleY:1};function d1(e){let{children:t}=e;return me.createElement(Gl.Provider,{value:yh},me.createElement(Uo.Provider,{value:c1},t))}const f1={position:"fixed",touchAction:"none"},p1=e=>$o(e)?"transform 250ms ease":void 0,h1=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:s,className:a,rect:i,style:u,transform:c,transition:p=p1}=e;if(!i)return null;const f=l?c:{...c,scaleX:1,scaleY:1},h={...f1,width:i.width,height:i.height,top:i.top,left:i.left,transform:Ln.Transform.toString(f),transformOrigin:l&&r?sy(r,i):void 0,transition:typeof p=="function"?p(r):p,...u};return me.createElement(n,{className:a,style:h,ref:t},s)}),m1=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[i,u]of Object.entries(s.active))u!==void 0&&(l[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,u));if(s!=null&&s.dragOverlay)for(const[i,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(i,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,c]of Object.entries(l))n.node.style.setProperty(u,c);a!=null&&a.active&&n.node.classList.remove(a.active)}},x1=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ln.Transform.toString(t)},{transform:Ln.Transform.toString(n)}]},g1={duration:250,easing:"ease",keyframes:x1,sideEffects:m1({styles:{active:{opacity:"0"}}})};function v1(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return Fo((s,a)=>{if(t===null)return;const i=n.get(s);if(!i)return;const u=i.node.current;if(!u)return;const c=vh(a);if(!c)return;const{transform:p}=nt(a).getComputedStyle(a),f=oh(p);if(!f)return;const h=typeof t=="function"?t:y1(t);return ph(u,l.draggable.measure),h({active:{id:s,data:i.data,node:u,rect:l.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:l.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:l,transform:f})})}function y1(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...g1,...e};return s=>{let{active:a,dragOverlay:i,transform:u,...c}=s;if(!t)return;const p={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/i.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/i.rect.height:1},h={x:u.x-p.x,y:u.y-p.y,...f},y=l({...c,active:a,dragOverlay:i,transform:{initial:u,final:h}}),[k]=y,v=y[y.length-1];if(JSON.stringify(k)===JSON.stringify(v))return;const b=r==null?void 0:r({active:a,dragOverlay:i,...c}),x=i.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{x.onfinish=()=>{b==null||b(),m()}})}}let md=0;function w1(e){return d.useMemo(()=>{if(e!=null)return md++,md},[e])}const k1=me.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:s,modifiers:a,wrapperElement:i="div",className:u,zIndex:c=999}=e;const{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggableNodes:k,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:j,windowRect:w}=bh(),C=d.useContext(Uo),S=w1(f==null?void 0:f.id),E=kh(a,{activatorEvent:p,active:f,activeNodeRect:h,containerNodeRect:y,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:j,transform:C,windowRect:w}),_=Tu(h),R=v1({config:r,draggableNodes:k,droppableContainers:v,measuringConfiguration:m}),D=_?b.setRef:void 0;return me.createElement(d1,null,me.createElement(u1,{animation:R},f&&S?me.createElement(h1,{key:S,id:f.id,ref:D,as:i,activatorEvent:p,adjustScale:t,className:u,transition:s,rect:_,style:{zIndex:c,...l},transform:E},n):null))});function _u(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function b1(e,t){return e.reduce((n,r,l)=>{const s=t.get(r);return s&&(n[l]=s),n},Array(e.length))}function gs(e){return e!==null&&e>=0}function S1(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function j1(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Sh=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e;const s=_u(t,r,n),a=t[l],i=s[l];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},vs={scaleX:1,scaleY:1},N1=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:l,rects:s,overIndex:a}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(l===n){const c=s[a];return c?{x:0,y:n<a?c.top+c.height-(i.top+i.height):c.top-i.top,...vs}:null}const u=C1(s,l,n);return l>n&&l<=a?{x:0,y:-i.height-u,...vs}:l<n&&l>=a?{x:0,y:i.height+u,...vs}:{x:0,y:0,...vs}};function C1(e,t,n){const r=e[t],l=e[t-1],s=e[t+1];return r?n<t?l?r.top-(l.top+l.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):l?r.top-(l.top+l.height):0:0}const jh="Sortable",Nh=me.createContext({activeIndex:-1,containerId:jh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sh,disabled:{draggable:!1,droppable:!1}});function E1(e){let{children:t,id:n,items:r,strategy:l=Sh,disabled:s=!1}=e;const{active:a,dragOverlay:i,droppableRects:u,over:c,measureDroppableContainers:p}=bh(),f=Yl(jh,n),h=i.rect!==null,y=d.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),k=a!=null,v=a?y.indexOf(a.id):-1,b=c?y.indexOf(c.id):-1,x=d.useRef(y),m=!S1(y,x.current),g=b!==-1&&v===-1||m,j=j1(s);$t(()=>{m&&k&&p(y)},[m,y,k,p]),d.useEffect(()=>{x.current=y},[y]);const w=d.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:g,items:y,overIndex:b,useDragOverlay:h,sortedRects:b1(y,u),strategy:l}),[v,f,j.draggable,j.droppable,g,y,b,u,h,l]);return me.createElement(Nh.Provider,{value:w},t)}const M1=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return _u(n,r,l).indexOf(t)},T1=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:s,newIndex:a,previousItems:i,previousContainerId:u,transition:c}=e;return!c||!r||i!==s&&l===a?!1:n?!0:a!==l&&t===u},_1={duration:200,easing:"ease"},Ch="transform",D1=Ln.Transition.toString({property:Ch,duration:0,easing:"linear"}),R1={roleDescription:"sortable"};function z1(e){let{disabled:t,index:n,node:r,rect:l}=e;const[s,a]=d.useState(null),i=d.useRef(n);return $t(()=>{if(!t&&n!==i.current&&r.current){const u=l.current;if(u){const c=$r(r.current,{ignoreTransform:!0}),p={x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height};(p.x||p.y)&&a(p)}}n!==i.current&&(i.current=n)},[t,n,r,l]),d.useEffect(()=>{s&&a(null)},[s]),s}function P1(e){let{animateLayoutChanges:t=T1,attributes:n,disabled:r,data:l,getNewIndex:s=M1,id:a,strategy:i,resizeObserverConfig:u,transition:c=_1}=e;const{items:p,containerId:f,activeIndex:h,disabled:y,disableTransforms:k,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:m}=d.useContext(Nh),g=I1(r,y),j=p.indexOf(a),w=d.useMemo(()=>({sortable:{containerId:f,index:j,items:p},...l}),[f,l,j,p]),C=d.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:S,node:E,isOver:_,setNodeRef:R}=i1({id:a,data:w,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...u}}),{active:D,activatorEvent:X,activeNodeRect:$,attributes:K,setNodeRef:ge,listeners:ve,isDragging:U,over:z,setActivatorNodeRef:O,transform:F}=s1({id:a,data:w,attributes:{...R1,...n},disabled:g.draggable}),q=Hv(R,ge),Q=!!D,te=Q&&!k&&gs(h)&&gs(b),se=!x&&U,ke=se&&te?F:null,re=i!=null?i:m,de=te?ke!=null?ke:re({rects:v,activeNodeRect:$,activeIndex:h,overIndex:b,index:j}):null,_e=gs(h)&&gs(b)?s({id:a,items:p,activeIndex:h,overIndex:b}):j,$e=D==null?void 0:D.id,Z=d.useRef({activeId:$e,items:p,newIndex:_e,containerId:f}),dt=p!==Z.current.items,Be=t({active:D,containerId:f,isDragging:U,isSorting:Q,id:a,index:j,items:p,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:c,wasDragging:Z.current.activeId!=null}),ft=z1({disabled:!Be,index:j,node:E,rect:S});return d.useEffect(()=>{Q&&Z.current.newIndex!==_e&&(Z.current.newIndex=_e),f!==Z.current.containerId&&(Z.current.containerId=f),p!==Z.current.items&&(Z.current.items=p)},[Q,_e,f,p]),d.useEffect(()=>{if($e===Z.current.activeId)return;if($e!=null&&Z.current.activeId==null){Z.current.activeId=$e;return}const rt=setTimeout(()=>{Z.current.activeId=$e},50);return()=>clearTimeout(rt)},[$e]),{active:D,activeIndex:h,attributes:K,data:w,rect:S,index:j,newIndex:_e,items:p,isOver:_,isSorting:Q,isDragging:U,listeners:ve,node:E,overIndex:b,over:z,setNodeRef:q,setActivatorNodeRef:O,setDroppableNodeRef:R,setDraggableNodeRef:ge,transform:ft!=null?ft:de,transition:ye()};function ye(){if(ft||dt&&Z.current.newIndex===j)return D1;if(!(se&&!$o(X)||!c)&&(Q||Be))return Ln.Transition.toString({...c,property:Ch})}}function I1(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}oe.Down,oe.Right,oe.Up,oe.Left;const M={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function xd({label:e,value:t,onChange:n,placeholder:r,rows:l,onExpand:s,onHistory:a}){return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:a,children:o.jsx(gv,{size:13,style:{color:M.textMuted}})}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:s,children:o.jsx(Po,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:t,onChange:i=>n(i.target.value),placeholder:r,rows:l||6,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})}function Sa({label:e,value:t,onChange:n,presets:r}){const[l,s]=d.useState(!1),a=r.find(i=>i.id===t);return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text},onClick:()=>s(!l),children:[o.jsx("span",{style:{color:a?M.text:M.textMuted},children:a?a.name:""}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:M.textMuted,transform:l?"rotate(180deg)":"none",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),l&&o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:M.bg,boxShadow:"var(--card-shadow)",zIndex:40},children:[o.jsx("button",{className:"flex w-full items-center px-4 py-3 text-[14px]",style:{color:M.textMuted},onClick:()=>{n(null),s(!1)},children:""}),r.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[14px]",style:{color:M.text},onClick:()=>{n(i.id),s(!1)},children:[o.jsx("span",{children:i.name}),i.id===t&&o.jsx(Il,{size:14,style:{color:M.accentDark}})]},i.id))]})]})]})}function ja({value:e,onChange:t,onClose:n,title:r,placeholder:l}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:r||""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:s=>t(s.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:M.bg,color:M.text},placeholder:l||""})]})}function L1({items:e,currentContent:t,onApply:n,onClose:r}){const[l,s]=d.useState("current"),[a,i]=d.useState(null),u=p=>p?new Date(p).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",c=async()=>{if(l==="current"){r();return}const p=e.find(f=>f.id===l);p&&await n(p.content),r()};return a?o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("span",{className:"text-[15px] font-bold",style:{color:M.text},children:[" ",a.version]}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>i(null),children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10",children:o.jsx("div",{className:"rounded-[14px] p-4",style:{boxShadow:"var(--inset-shadow)",background:M.bg},children:o.jsx("p",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",style:{color:M.text},children:a.content})})})]}):o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r,children:o.jsx(Ll,{size:18,style:{color:M.accentDark}})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l==="current"?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s("current"),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l==="current"?M.accentDark:M.bg,boxShadow:l==="current"?"none":"var(--icon-inset)"},children:l==="current"&&o.jsx(Il,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:""}),o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{color:"#2a9d5c",background:"rgba(42,157,92,0.12)"},children:""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:t})]})]}),e.length===0&&o.jsx("p",{className:"py-8 text-center text-[13px]",style:{color:M.textMuted},children:""}),e.map(p=>o.jsxs("div",{className:"mb-2 flex items-center gap-3 rounded-[14px] p-3",style:{boxShadow:l===p.id?"var(--inset-shadow)":"var(--card-shadow-sm)",background:M.bg},children:[o.jsx("button",{onClick:()=>s(p.id),className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:l===p.id?M.accentDark:M.bg,boxShadow:l===p.id?"none":"var(--icon-inset)"},children:l===p.id&&o.jsx(Il,{size:12,color:"white"})}),o.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>i(p),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[13px] font-semibold",style:{color:M.text},children:[" ",p.version]}),o.jsx("span",{className:"text-[10px]",style:{color:M.textMuted},children:u(p.created_at)})]}),o.jsx("p",{className:"mt-0.5 truncate text-[11px]",style:{color:M.textMuted},children:p.content})]})]},p.id))]}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsx("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:c,children:""})})]})}function Eh(e){return e==="always"?"":e==="keyword"?"":""}function Mh(e){return!e||!Array.isArray(e)?[]:e.map((t,n)=>typeof t=="object"&&t!==null?t:{id:t,position:"after",sort_order:n})}function O1({item:e,book:t,position:n,sectionList:r,onRemove:l,onChangePosition:s}){const{attributes:a,listeners:i,setNodeRef:u,transform:c,transition:p,isDragging:f}=P1({id:String(e.id)}),h={transform:Ln.Transform.toString(c),transition:p,opacity:f?.35:1,zIndex:f?10:void 0};return t?o.jsxs("div",{ref:u,style:h,className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",children:[o.jsx("div",{...a,...i,className:"cursor-grab touch-none p-1",style:{cursor:f?"grabbing":"grab"},children:o.jsx(Jp,{size:14,style:{color:M.textMuted}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.text},children:t.name}),o.jsxs("div",{className:"text-[10px]",style:{color:M.textMuted},children:[Eh(t.activation),t.folder?`  ${t.folder}`:""]})]}),o.jsx("button",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},onClick:()=>s(e.id,n==="before"?"after":"before"),children:n==="before"?"":""}),o.jsx("button",{onClick:()=>l(e.id),children:o.jsx(Lo,{size:14,style:{color:M.textMuted}})})]}):null}function A1({allBooks:e,mountedIds:t,onClose:n,onConfirm:r}){const[l,s]=d.useState(new Set(t)),a={};e.forEach(c=>{const p=c.folder||"";a[p]||(a[p]=[]),a[p].push(c)});const i=c=>{s(p=>{const f=new Set(p);return f.has(c)?f.delete(c):f.add(c),f})},u=c=>{const p=c.every(f=>l.has(f.id));s(f=>{const h=new Set(f);return p?c.forEach(y=>h.delete(y.id)):c.forEach(y=>h.add(y.id)),h})};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end",style:{background:"rgba(0,0,0,0.4)"},children:o.jsxs("div",{className:"flex w-full flex-col rounded-t-[24px]",style:{background:M.bg,maxHeight:"82vh"},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between p-5 pb-3",children:[o.jsx("h3",{className:"text-[16px] font-bold",style:{color:M.text},children:""}),o.jsx("button",{onClick:n,children:o.jsx(Lo,{size:20,style:{color:M.textMuted}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5",children:Object.entries(a).map(([c,p])=>{const f=p.every(h=>l.has(h.id));return o.jsxs("div",{className:"mb-5",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:c}),o.jsx("button",{className:"rounded-full px-2.5 py-1 text-[11px] font-semibold",style:{background:f?"rgba(201,98,138,0.15)":"rgba(136,136,160,0.1)",color:f?M.accentDark:M.textMuted},onClick:()=>u(p),children:f?"":""})]}),o.jsx("div",{className:"space-y-2",children:p.map(h=>{const y=l.has(h.id);return o.jsxs("button",{className:"flex w-full items-center gap-3 rounded-[14px] p-3",style:{background:M.bg,boxShadow:y?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>i(h.id),children:[o.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:y?M.accentDark:M.bg,boxShadow:y?"none":"var(--icon-inset)"},children:y&&o.jsx(Il,{size:12,color:"white"})}),o.jsx("div",{className:"flex-1 min-w-0 text-left",children:o.jsx("div",{className:"truncate text-[13px] font-medium",style:{color:y?M.accentDark:M.text},children:h.name})}),o.jsx("span",{className:"shrink-0 rounded-full px-2 py-0.5 text-[10px]",style:{background:"rgba(136,136,160,0.1)",color:M.textMuted},children:Eh(h.activation)})]},h.id)})})]},c)})}),o.jsx("div",{className:"shrink-0 p-5",children:o.jsxs("button",{className:"w-full rounded-[14px] py-3.5 text-[15px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>r([...l]),children:[" ",l.size,""]})})]})})}function F1({ruleSetIds:e,onChange:t,allBooks:n}){const[r,l]=d.useState(!1),[s,a]=d.useState(null),i=Mh(e),u=i.filter(w=>w.position==="before").sort((w,C)=>w.sort_order-C.sort_order),c=i.filter(w=>w.position==="after").sort((w,C)=>w.sort_order-C.sort_order),p=w=>n.find(C=>C.id===w||C.id===Number(w)),f=ry(rd(Mu,{activationConstraint:{distance:5}}),rd(xh,{activationConstraint:{delay:150,tolerance:5}})),h=({active:w})=>a(w.id),y=({active:w,over:C})=>{if(!C)return;const S=i.find(_=>String(_.id)===String(w.id)),E=i.find(_=>String(_.id)===String(C.id));if(!(!S||!E)&&S.position!==E.position){const _=i.map(R=>String(R.id)===String(S.id)?{...R,position:E.position}:R);t(_)}},k=({active:w,over:C})=>{if(a(null),!C||w.id===C.id)return;const S=i.find(K=>String(K.id)===String(w.id)),E=i.find(K=>String(K.id)===String(C.id));if(!S||!E||S.position!==E.position)return;const _=S.position==="before"?[...u]:[...c],R=_.findIndex(K=>String(K.id)===String(w.id)),D=_.findIndex(K=>String(K.id)===String(C.id)),X=_u(_,R,D).map((K,ge)=>({...K,sort_order:ge})),$=i.filter(K=>K.position!==S.position);t([...$,...X])},v=w=>t(i.filter(C=>C.id!==w)),b=(w,C)=>{const E=(C==="before"?u:c).length;t(i.map(_=>_.id===w?{..._,position:C,sort_order:E}:_))},x=w=>{const C=i.map(D=>D.id),E=w.filter(D=>!C.includes(D)).map((D,X)=>({id:D,position:"after",sort_order:c.length+X})),_=new Set(C.filter(D=>!w.includes(D))),R=i.filter(D=>!_.has(D.id));t([...R,...E])},m=(w,C)=>w.length===0?o.jsx("div",{className:"py-3 text-center text-[12px]",style:{color:M.textMuted},children:""}):o.jsx(E1,{items:w.map(S=>String(S.id)),strategy:N1,children:o.jsx("div",{className:"rounded-[14px] px-2 pt-1",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},children:w.map((S,E)=>o.jsxs("div",{children:[E>0&&o.jsx("div",{className:"mx-2",style:{height:1,background:"rgba(0,0,0,0.06)"}}),o.jsx(O1,{item:S,book:p(S.id),position:C,sectionList:w,onRemove:v,onChangePosition:b})]},S.id))})}),g=s?i.find(w=>String(w.id)===String(s)):null,j=g?p(g.id):null;return o.jsxs(n1,{sensors:f,collisionDetection:uy,onDragStart:h,onDragOver:y,onDragEnd:k,children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(u,"before")]}),o.jsxs("div",{className:"my-4 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}}),o.jsx("span",{className:"rounded-full px-3 py-1 text-[11px] font-bold",style:{background:"rgba(232,160,191,0.15)",color:M.accentDark},children:"System Prompt"}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.25)"}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-wide",style:{color:M.textMuted},children:"System Prompt "}),m(c,"after")]}),o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[14px] py-3 text-[14px] font-semibold",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)",color:M.accentDark},onClick:()=>l(!0),children:[o.jsx(Vl,{size:16})," "]}),o.jsx(k1,{children:j&&o.jsxs("div",{className:"flex items-center gap-2 rounded-[14px] px-3 py-2.5",style:{background:M.bg,boxShadow:"var(--card-shadow)",opacity:.9},children:[o.jsx(Jp,{size:14,style:{color:M.textMuted}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"truncate text-[13px] font-semibold",style:{color:M.accentDark},children:j.name})})]})}),r&&o.jsx(A1,{allBooks:n,mountedIds:i.map(w=>w.id),onClose:()=>l(!1),onConfirm:w=>{x(w),l(!1)}})]})}function gd(){const e=Ut(),{id:t}=Hp(),n=!t,[r,l]=d.useState("basic"),[s,a]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState(null),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState(""),[g,j]=d.useState(""),[w,C]=d.useState(null),[S,E]=d.useState(null),[_,R]=d.useState([]),[D,X]=d.useState([]),[$,K]=d.useState([]),[ge,ve]=d.useState(!1),[U,z]=d.useState(!n),[O,F]=d.useState(null),[q,Q]=d.useState(!1),[te,se]=d.useState(!1),[ke,re]=d.useState(!1),[de,_e]=d.useState(null),[$e,Z]=d.useState([]),dt=d.useRef(null),Be=d.useRef(null),ft=N=>{var Ne;const P=(Ne=N.target.files)==null?void 0:Ne[0];if(!P)return;const W=new FileReader;W.onload=Rt=>p(Rt.target.result||""),W.readAsText(P),N.target.value=""},ye=N=>{F(N),setTimeout(()=>F(null),2500)},rt=async N=>{const P=N==="human"?w:S;if(!P){ye("");return}try{const W=await B(`/api/core-blocks/${P}/history`);Z(W.history||[]),_e(N)}catch(W){ye("")}};d.useEffect(()=>{(async()=>{const[P,W]=await Promise.all([B("/api/presets").catch(()=>({presets:[]})),B("/api/world-books").catch(()=>({world_books:[]}))]);if(X(P.presets||[]),K(W.world_books||[]),n)z(!1);else try{const[Ne,Rt]=await Promise.all([B(`/api/assistants/${t}`),B(`/api/core-blocks?assistant_id=${t}`).catch(()=>({blocks:[]}))]);a(Ne.name||""),Oo(`assistant-avatar-${t}`).then(Le=>{Le&&u(Le)}).catch(function(){}),p(Ne.system_prompt||""),h(Ne.model_preset_id||null),k(Ne.summary_model_preset_id||null),b(Ne.summary_fallback_preset_id||null),R(Ne.rule_set_ids||[]);for(const Le of Rt.blocks||[])Le.block_type==="human"?(m(Le.content||""),C(Le.id)):Le.block_type==="persona"&&(j(Le.content||""),E(Le.id))}catch(Ne){ye(": "+Ne.message)}finally{z(!1)}})()},[t,n]);const fe=N=>{var Ne;const P=(Ne=N.target.files)==null?void 0:Ne[0];if(!P)return;const W=new FileReader;W.onload=async Rt=>{const Le=Rt.target.result,Br=`assistant-avatar-${t||"new"}`;try{await bi(Br,Le),u(Le)}catch(Jl){ye("")}},W.readAsDataURL(P),N.target.value=""},Dt=async()=>{if(!s.trim()){ye("");return}ve(!0);try{const N={name:s.trim(),avatar_url:i?`assistant-avatar-${t||"new"}`:null,system_prompt:c,model_preset_id:f,summary_model_preset_id:y,summary_fallback_preset_id:v,rule_set_ids:Mh(_)};let P=t;n?(P=(await B("/api/assistants",{method:"POST",body:{name:s.trim()}})).id,i&&(await bi(`assistant-avatar-${P}`,i),N.avatar_url=`assistant-avatar-${P}`),await B(`/api/assistants/${P}`,{method:"PUT",body:N})):await B(`/api/assistants/${t}`,{method:"PUT",body:N});const W=[];w&&W.push(B(`/api/core-blocks/${w}`,{method:"PUT",body:{content:x}})),S&&W.push(B(`/api/core-blocks/${S}`,{method:"PUT",body:{content:g}})),await Promise.all(W),ye("")}catch(N){ye(": "+N.message)}finally{ve(!1)}},fn=[{key:"basic",label:""},{key:"about",label:""},{key:"books",label:""}];return o.jsxs("div",{className:"flex h-full flex-col",style:{background:M.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/assistants",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:M.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:M.text},children:n?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:M.bg,boxShadow:ge?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:Dt,disabled:ge,children:o.jsx(Io,{size:18,style:{color:M.accentDark}})})]}),o.jsx("div",{className:"flex shrink-0 gap-1 px-5 pb-3",children:fn.map(N=>o.jsx("button",{className:"flex-1 rounded-[12px] py-2.5 text-[13px] font-semibold transition-all",style:{background:r===N.key?M.bg:"transparent",boxShadow:r===N.key?"var(--card-shadow-sm)":"none",color:r===N.key?M.accentDark:M.textMuted},onClick:()=>l(N.key),children:N.label},N.key))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:U?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:M.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[r==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var N;return(N=dt.current)==null?void 0:N.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:M.bg},children:i?o.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{className:"text-[24px]",style:{color:M.accentDark},children:(s==null?void 0:s[0])||"?"})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:M.accentDark},children:o.jsx(Yp,{size:9,color:"white"})})]}),o.jsx("input",{ref:dt,type:"file",accept:"image/*",className:"hidden",onChange:fe}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"",className:"w-full rounded-[12px] px-4 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]})]}),o.jsxs("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:M.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>{var N;return(N=Be.current)==null?void 0:N.click()},title:"",children:o.jsx(ku,{size:13,style:{color:M.textMuted}})}),o.jsx("input",{ref:Be,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:ft}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:M.bg},onClick:()=>Q(!0),title:"",children:o.jsx(Po,{size:13,style:{color:M.accentDark}})})]})]}),o.jsx("textarea",{value:c,onChange:N=>p(N.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:M.bg,color:M.text}})]}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(Sa,{label:"",value:f,onChange:h,presets:D}),o.jsx(Sa,{label:"",value:y,onChange:k,presets:D}),o.jsx(Sa,{label:"",value:v,onChange:b,presets:D})]})]}),r==="about"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(xd,{label:"AI ",value:x,onChange:m,placeholder:" AI ...",rows:7,onExpand:()=>se(!0),onHistory:()=>rt("human")})}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(xd,{label:"",value:g,onChange:j,placeholder:"AI ...",rows:7,onExpand:()=>re(!0),onHistory:()=>rt("persona")})})]}),r==="books"&&o.jsx("div",{className:"rounded-[20px] p-4",style:{background:M.bg,boxShadow:"var(--card-shadow)"},children:o.jsx(F1,{ruleSetIds:_,onChange:R,allBooks:$})})]})}),q&&o.jsx(ja,{value:c,onChange:p,onClose:()=>Q(!1),title:"",placeholder:"..."}),te&&o.jsx(ja,{value:x,onChange:m,onClose:()=>se(!1),title:"AI ",placeholder:" AI ..."}),ke&&o.jsx(ja,{value:g,onChange:j,onClose:()=>re(!1),title:"",placeholder:"AI ..."}),de&&o.jsx(L1,{items:$e,currentContent:de==="human"?x:g,onApply:async N=>{const P=de==="human"?w:S;try{await B(`/api/core-blocks/${P}`,{method:"PUT",body:{content:N}}),de==="human"?m(N):j(N),ye("")}catch(W){ye("")}},onClose:()=>_e(null)}),O&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:O})})]})}const Y={bg:"var(--bg)",accent:"var(--accent)",text:"var(--text)",textMuted:"var(--text-muted)"};function $1({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full transition-all",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":Y.bg},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function vd({icon:e,label:t,hint:n,onClick:r}){return o.jsxs("button",{className:"flex w-full items-center gap-4 px-4 py-4",onClick:r,children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Y.bg},children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Y.text},children:t}),n&&o.jsx("div",{className:"text-[11px]",style:{color:Y.textMuted},children:n})]}),o.jsx(Wl,{size:16,style:{color:Y.textMuted}})]})}function B1(){return o.jsx("div",{className:"mx-4 h-px",style:{background:"rgba(136,136,160,0.15)"}})}function Zr({value:e,onChange:t,min:n,max:r}){const[l,s]=d.useState(String(e));d.useEffect(()=>s(String(e)),[e]);const a=()=>{let i=parseInt(l);isNaN(i)&&(i=n),i=Math.max(n,Math.min(r,i)),s(String(i)),t(i)};return o.jsx("input",{type:"number",value:l,onChange:i=>s(i.target.value),onBlur:a,onKeyDown:i=>i.key==="Enter"&&a(),className:"w-20 rounded-[10px] py-2 text-center text-[14px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:Y.bg,color:Y.text},min:n,max:r})}function U1(){const e=Ut(),[t,n]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessage)||!1}),[r,l]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMin)||30}),[s,a]=d.useState(()=>{var w;return((w=JSON.parse(localStorage.getItem("app-settings")||"{}"))==null?void 0:w.autoMessageIntervalMax)||60}),[i,u]=d.useState(()=>parseInt(localStorage.getItem("telegram_buffer_seconds")||"15")),[c,p]=d.useState(8e3),[f,h]=d.useState(16e3),[y,k]=d.useState(!1),[v,b]=d.useState(!1),[x,m]=d.useState(null),g=w=>{m(w),setTimeout(()=>m(null),2e3)};d.useEffect(()=>{B("/api/settings/context-budget").then(w=>{p(w.retain_budget),h(w.trigger_threshold),k(!0)}).catch(()=>k(!0))},[]),d.useEffect(()=>{const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,autoMessage:t,autoMessageIntervalMin:r,autoMessageIntervalMax:s}))},[t,r,s]),d.useEffect(()=>{localStorage.setItem("telegram_buffer_seconds",String(i)),B("/api/settings/buffer-seconds",{method:"PUT",body:{seconds:i}}).catch(()=>{})},[i]);const j=async()=>{b(!0);try{await B("/api/settings/context-budget",{method:"PUT",body:{retain_budget:c,trigger_threshold:f}}),g("")}catch(w){g("")}finally{b(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Y.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Y.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:Y.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Y.text},children:""}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:[o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsx(vd,{icon:o.jsx(wv,{size:18,style:{color:Y.text}}),label:"API ",hint:"  ",onClick:()=>e("/settings/api")}),o.jsx(B1,{}),o.jsx(vd,{icon:o.jsx(vv,{size:18,style:{color:Y.textMuted}}),label:"",hint:"",onClick:()=>g("")})]}),o.jsxs("div",{className:"rounded-[20px] overflow-hidden",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Y.bg},children:o.jsx(qp,{size:18,style:{color:Y.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Y.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Y.textMuted},children:" AI "})]}),o.jsx($1,{on:t,onToggle:()=>n(!t)})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between rounded-[12px] px-4 py-3",style:{boxShadow:"var(--inset-shadow)",background:Y.bg},children:[o.jsx("span",{className:"text-[12px] font-medium",style:{color:Y.textMuted},children:" ()"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zr,{value:r,onChange:l,min:1,max:999}),o.jsx("span",{style:{color:Y.textMuted},children:"~"}),o.jsx(Zr,{value:s,onChange:a,min:1,max:999})]})]})})]}),o.jsx("div",{className:"rounded-[20px] p-4",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Y.bg},children:o.jsx(Sv,{size:18,style:{color:Y.text}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Y.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Y.textMuted},children:" ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Zr,{value:i,onChange:u,min:1,max:120}),o.jsx("span",{className:"text-[12px]",style:{color:Y.textMuted},children:""})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-4",style:{background:Y.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:Y.bg},children:o.jsx(pv,{size:18,style:{color:Y.text}})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[15px] font-semibold",style:{color:Y.text},children:""}),o.jsx("div",{className:"text-[11px]",style:{color:Y.textMuted},children:""})]})]}),y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Y.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Y.textMuted},children:" token "})]}),o.jsx(Zr,{value:c,onChange:p,min:1e3,max:1e5})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium",style:{color:Y.text},children:" (tokens)"}),o.jsx("div",{className:"text-[10px]",style:{color:Y.textMuted},children:""})]}),o.jsx(Zr,{value:f,onChange:h,min:1e3,max:2e5})]}),o.jsx("button",{className:"w-full rounded-[14px] py-3 text-[14px] font-bold text-white",style:{background:v?"rgba(201,98,138,0.5)":"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"3px 3px 8px rgba(201,98,138,0.3)"},onClick:j,disabled:v,children:v?"...":""})]}):o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2",style:{borderColor:Y.accent,borderTopColor:"transparent"}})})]})]}),x&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:x})})]})}const L={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},H1=["claude-opus-4-6","claude-opus-4-5-20251101","claude-sonnet-4-6","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001"];function W1(e){try{return new URL(e).hostname}catch(t){return e}}function yd({label:e,value:t,onChange:n,placeholder:r,password:l,disabled:s}){const[a,i]=d.useState(!1);return o.jsxs("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:L.textMuted},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:l&&!a?"password":"text",value:t,onChange:u=>n(u.target.value),placeholder:r,disabled:s,className:"w-full rounded-[14px] px-4 py-3 text-[14px] outline-none pr-12",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:s?L.textMuted:L.text,opacity:s?.5:1}}),l&&o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),children:a?o.jsx(mv,{size:16,style:{color:L.textMuted}}):o.jsx(hv,{size:16,style:{color:L.textMuted}})})]})]})}function V1({value:e,onChange:t,options:n}){return o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:L.bg},children:n.map(r=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[12px] font-semibold transition-all",style:{background:e===r.value?L.bg:"transparent",boxShadow:e===r.value?"var(--card-shadow-sm)":"none",color:e===r.value?L.accentDark:L.textMuted},onClick:()=>t(r.value),children:r.label},r.value))})}function X1({value:e,onChange:t,options:n,placeholder:r}){const[l,s]=d.useState(!1),a=d.useRef(null);return d.useEffect(()=>{if(!l)return;const i=u=>{a.current&&!a.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[l]),o.jsxs("div",{className:"relative",ref:a,children:[o.jsxs("button",{className:"flex w-full items-center justify-between rounded-[14px] px-4 py-3 text-[14px] text-left",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:e?L.text:L.textMuted},onClick:()=>s(!l),children:[o.jsx("span",{className:"truncate",children:e||r||""}),o.jsx(Or,{size:16,style:{color:L.textMuted,flexShrink:0,transform:l?"rotate(180deg)":"none"}})]}),l&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:L.bg,boxShadow:"var(--card-shadow)"},children:n.map(i=>o.jsxs("button",{className:"flex w-full items-center justify-between px-4 py-3 text-[13px]",style:{color:L.text},onClick:()=>{t(i),s(!1)},children:[o.jsx("span",{className:"truncate",children:i}),i===e&&o.jsx(Il,{size:12,style:{color:L.accentDark,flexShrink:0}})]},i))})]})}function K1({value:e,onChange:t}){const[n,r]=d.useState(!1),l=d.useRef(null);return d.useEffect(()=>{if(!n)return;const s=a=>{l.current&&!l.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[n]),o.jsxs("div",{className:"relative",ref:l,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"",value:e,onChange:s=>t(s.target.value),className:"w-full rounded-[14px] px-4 py-3 pr-10 text-[14px] outline-none",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:L.text}}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>r(!n),children:o.jsx(Or,{size:16,style:{color:L.textMuted}})})]}),n&&o.jsx("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 max-h-[200px] overflow-y-auto rounded-[14px]",style:{background:L.bg,boxShadow:"var(--card-shadow)"},children:H1.map(s=>o.jsx("button",{className:"flex w-full px-4 py-3 text-left text-[13px]",style:{color:L.text},onClick:()=>{t(s),r(!1)},children:s},s))})]})}function Na({value:e,onChange:t,min:n,max:r,step:l}){const[s,a]=d.useState(String(e));d.useEffect(()=>a(String(e)),[e]);const i=()=>{let u=parseFloat(s);isNaN(u)&&(u=n),u=Math.max(n,Math.min(r,u)),u=Math.round(u/l)*l,u=parseFloat(u.toFixed(4)),a(String(u)),t(u)};return o.jsx("input",{type:"number",value:s,onChange:u=>a(u.target.value),onBlur:i,onKeyDown:u=>u.key==="Enter"&&i(),step:l,min:n,max:r,className:"w-20 rounded-[10px] py-2 text-center text-[13px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:L.text}})}function wd({on:e,onToggle:t}){return o.jsx("button",{onClick:t,className:"relative flex h-7 w-12 shrink-0 items-center rounded-full",style:{boxShadow:"var(--inset-shadow)",background:e?"var(--accent)":L.bg,transition:"background 0.2s"},children:o.jsx("span",{className:"absolute h-5 w-5 rounded-full",style:{left:e?"calc(100% - 22px)":"2px",background:"white",boxShadow:"2px 2px 5px rgba(174,176,182,0.5)",transition:"left 0.2s ease"}})})}function Ca({children:e,className:t=""}){return o.jsx("div",{className:`rounded-[20px] p-5 mb-4 space-y-4 ${t}`,style:{background:L.bg,boxShadow:"var(--card-shadow)"},children:e})}function Q1(){const e=Ut(),[t,n]=d.useState([]),[r,l]=d.useState([]),[s,a]=d.useState(!0),[i,u]=d.useState(""),[c,p]=d.useState(""),[f,h]=d.useState("api_key"),[y,k]=d.useState(""),[v,b]=d.useState([]),[x,m]=d.useState(!1),[g,j]=d.useState(1),[w,C]=d.useState(!1),[S,E]=d.useState(1),[_,R]=d.useState(!1),[D,X]=d.useState(4096),[$,K]=d.useState(null),[ge,ve]=d.useState(null),[U,z]=d.useState(!1),[O,F]=d.useState(!1),[q,Q]=d.useState(""),[te,se]=d.useState(!1),[ke,re]=d.useState(!1),[de,_e]=d.useState(null),[$e,Z]=d.useState(null),[dt,Be]=d.useState(""),ft=d.useRef(null),ye=d.useRef(!1),rt=d.useRef({});rt.current={baseUrl:i,apiKey:c,authType:f,modelName:y,temperature:g,tempEnabled:w,topP:S,topPEnabled:_,maxTokens:D,editingPreset:$,providers:t};const fe=d.useCallback(I=>{ve(I),setTimeout(()=>ve(null),2500)},[]),Dt=d.useCallback(async()=>{try{const[I,le]=await Promise.all([B("/api/providers"),B("/api/presets")]);n(I.providers||[]),l(le.presets||[])}catch(I){fe(": "+I.message)}finally{a(!1)}},[fe]);d.useEffect(()=>{Dt()},[Dt]);const fn=I=>{var ee,Ce;K(I),k(I.model_name),C(I.temperature!=null),j((ee=I.temperature)!=null?ee:1),R(I.top_p!=null),E((Ce=I.top_p)!=null?Ce:1),X(I.max_tokens);const le=t.find(bt=>bt.id===I.api_provider_id);le&&(u(le.base_url),p(le.api_key),h(le.auth_type||"api_key"))},N=()=>{K(null),u(""),p(""),h("api_key"),k(""),j(1),C(!1),E(1),R(!1),X(4096),b([])},P=async()=>{if(!i.trim()||!c.trim()){fe(" API  Key");return}m(!0);try{const I=await fetch(`${i.trim().replace(/\/+$/,"")}/models`,{headers:{Authorization:`Bearer ${c.trim()}`}});if(!I.ok)throw new Error(`HTTP ${I.status}`);const ee=((await I.json()).data||[]).map(Ce=>Ce.id).sort();b(ee),fe(ee.length?` ${ee.length} `:"")}catch(I){fe(": "+I.message)}finally{m(!1)}},W=async()=>{var I;if(!i.trim()||!c.trim()||!y.trim()){fe(" API Key ");return}z(!0);try{const le=i.trim().replace(/\/+$/,""),ee={"Content-Type":"application/json",Authorization:`Bearer ${c.trim()}`};f==="oauth_token"&&(ee["anthropic-beta"]="claude-code-20250219,oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14",ee["anthropic-dangerous-direct-browser-access"]="true",ee["x-app"]="cli");const Ce=await fetch(`${le}/chat/completions`,{method:"POST",headers:ee,body:JSON.stringify({model:y.trim(),max_tokens:10,messages:[{role:"user",content:"Hi"}]})});if(!Ce.ok){const bt=await Ce.json().catch(()=>({}));throw new Error(((I=bt.error)==null?void 0:I.message)||`HTTP ${Ce.status}`)}fe(" ")}catch(le){fe(": "+le.message)}finally{z(!1)}},Ne=async I=>{const le=rt.current,ee=le.baseUrl.trim(),Ce=le.apiKey.trim(),bt=le.authType,Zt=I.find(Wo=>Wo.base_url===ee);return Zt?((Zt.api_key!==Ce||Zt.auth_type!==bt)&&await B(`/api/providers/${Zt.id}`,{method:"PUT",body:{api_key:Ce,auth_type:bt}}),Zt.id):(await B("/api/providers",{method:"POST",body:{name:W1(ee),base_url:ee,api_key:Ce,auth_type:bt}})).id},Rt=async(I,le)=>{const ee=rt.current;if(!ee.baseUrl.trim()||!ee.apiKey.trim()||!ee.modelName.trim()){fe("");return}re(!0);try{const Ce=await Ne(ee.providers),bt={name:I,model_name:ee.modelName.trim(),temperature:ee.tempEnabled?ee.temperature:null,top_p:ee.topPEnabled?ee.topP:null,max_tokens:Number(ee.maxTokens)||4096,api_provider_id:Ce};ee.editingPreset&&!le?(await B(`/api/presets/${ee.editingPreset.id}`,{method:"PUT",body:bt}),fe("")):(await B("/api/presets",{method:"POST",body:bt}),fe("")),await Dt()}catch(Ce){fe(": "+Ce.message)}finally{re(!1)}},Le=()=>{const I=q.trim();I&&(F(!1),Rt(I,te))},Br=()=>{$&&Rt($.name,!1)},Jl=async()=>{if(de){try{await B(`/api/presets/${de.id}`,{method:"DELETE"}),fe(""),($==null?void 0:$.id)===de.id&&N(),Dt()}catch(I){fe(": "+I.message)}_e(null)}},Jt=async()=>{const I=dt.trim();if(!(!I||!$e)){try{await B(`/api/presets/${$e.id}`,{method:"PUT",body:{name:I}}),fe(""),Dt()}catch(le){fe("")}Z(null)}},qt=(I,le)=>{ye.current=!1,I.touches?I.touches[0].clientX:I.clientX,I.touches?I.touches[0].clientY:I.clientY,ft.current=setTimeout(()=>{ye.current=!0,_e(le)},600)},pn=()=>clearTimeout(ft.current);return o.jsxs("div",{className:"flex h-full flex-col",style:{background:L.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/settings",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:L.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:L.text},children:"API "}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px",children:s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:L.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ca,{children:[o.jsx(yd,{label:"API ",value:i,onChange:u,placeholder:"https://api.openai.com/v1",disabled:f==="oauth_token"}),o.jsx(yd,{label:"API Key",value:c,onChange:p,placeholder:f==="oauth_token"?"sk-ant-oat01-...":"sk-...",password:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:L.textMuted},children:""}),o.jsx(V1,{value:f,onChange:I=>{h(I),I==="oauth_token"&&u("https://api.anthropic.com/v1")},options:[{value:"api_key",label:" API Key"},{value:"oauth_token",label:"Setup Token"}]})]})]}),o.jsxs(Ca,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-[11px] font-semibold uppercase tracking-wide",style:{color:L.textMuted},children:""}),f==="oauth_token"?o.jsx(K1,{value:y,onChange:k}):o.jsx(X1,{value:y,onChange:k,options:v})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text},onClick:W,disabled:U,children:[U?o.jsx(Jc,{size:14,className:"animate-spin"}):null,""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[14px] py-3 text-[13px] font-semibold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text,opacity:f==="oauth_token"?.4:1},onClick:P,disabled:x||f==="oauth_token",children:[x?o.jsx(Jc,{size:14,className:"animate-spin"}):o.jsx(bu,{size:14}),""]})]})]}),o.jsxs(Ca,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[14px] font-semibold",style:{color:L.text},children:" (0-2)"}),o.jsx("div",{className:"text-[11px]",style:{color:L.textMuted},children:""})]}),o.jsx(wd,{on:w,onToggle:()=>C(!w)})]}),w&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:L.textMuted},children:""}),o.jsx(Na,{value:g,onChange:j,min:0,max:2,step:.1})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:L.text},children:"Top P (0-1)"}),o.jsx(wd,{on:_,onToggle:()=>R(!_)})]}),_&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[12px]",style:{color:L.textMuted},children:""}),o.jsx(Na,{value:S,onChange:E,min:0,max:1,step:.05})]}),o.jsx("div",{className:"h-px",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[14px] font-semibold",style:{color:L.text},children:"Max Tokens"}),o.jsx(Na,{value:D,onChange:X,min:128,max:2e5,step:1})]})]}),o.jsxs("div",{className:"mb-4 space-y-3",children:[$?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:Br,disabled:ke,children:[o.jsx(Io,{size:14}),ke?"...":""]}),o.jsxs("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text},onClick:()=>{se(!0),Q(""),F(!0)},disabled:ke,children:[o.jsx(dv,{size:14}),""]})]}):o.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-[18px] py-3.5 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))",boxShadow:"4px 4px 10px rgba(201,98,138,0.35)"},onClick:()=>{se(!0),Q(""),F(!0)},disabled:ke,children:[o.jsx(Vl,{size:14}),""]}),$&&o.jsx("button",{className:"w-full py-1 text-center text-[12px]",style:{color:L.textMuted},onClick:N,children:""})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 text-[12px] font-bold uppercase tracking-wide",style:{color:L.textMuted},children:""}),r.length===0?o.jsx("div",{className:"rounded-[20px] py-8 text-center text-[13px]",style:{background:L.bg,boxShadow:"var(--card-shadow)",color:L.textMuted},children:""}):o.jsx("div",{className:"space-y-3",children:r.map(I=>{var le,ee;return o.jsxs("div",{className:"rounded-[18px] p-4",style:{background:L.bg,boxShadow:($==null?void 0:$.id)===I.id?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>{ye.current||fn(I)},onTouchStart:Ce=>qt(Ce,I),onTouchEnd:pn,onMouseDown:Ce=>qt(Ce,I),onMouseUp:pn,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[14px] font-bold truncate",style:{color:($==null?void 0:$.id)===I.id?L.accentDark:L.text},children:I.name}),o.jsx(Zp,{size:12,style:{color:L.textMuted,flexShrink:0,marginLeft:8}})]}),o.jsx("div",{className:"mt-0.5 truncate text-[11px]",style:{color:L.textMuted},children:I.model_name}),o.jsxs("div",{className:"mt-1 text-[10px] font-mono",style:{color:L.textMuted},children:["T: ",(le=I.temperature)!=null?le:""," | Top-P: ",(ee=I.top_p)!=null?ee:""," | Max: ",I.max_tokens]})]},I.id)})})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>F(!1),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:L.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:I=>I.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:L.text},children:""}),o.jsx("input",{type:"text",value:q,onChange:I=>Q(I.target.value),placeholder:"",className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:L.text},autoFocus:!0,onKeyDown:I=>I.key==="Enter"&&Le()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text},onClick:()=>F(!1),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:q.trim()?"linear-gradient(135deg, var(--accent), var(--accent-dark))":"rgba(201,98,138,0.3)"},onClick:Le,disabled:!q.trim(),children:""})]})]})}),de&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>_e(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:L.bg,boxShadow:"0 -4px 20px rgba(0,0,0,0.12)"},onClick:I=>I.stopPropagation(),children:[o.jsx("p",{className:"mb-1 text-center text-[16px] font-bold",style:{color:L.text},children:""}),o.jsxs("p",{className:"mb-6 text-center text-[13px]",style:{color:L.textMuted},children:["",de.name,""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text},onClick:()=>_e(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"#ff4d6d"},onClick:Jl,children:""})]})]})}),$e&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:()=>Z(null),children:o.jsxs("div",{className:"w-full rounded-t-[28px] p-6 pb-[max(1.5rem,env(safe-area-inset-bottom))]",style:{background:L.bg},onClick:I=>I.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[16px] font-bold",style:{color:L.text},children:""}),o.jsx("input",{autoFocus:!0,type:"text",value:dt,onChange:I=>Be(I.target.value),className:"w-full rounded-[14px] px-4 py-3 text-[15px] outline-none mb-4",style:{boxShadow:"var(--inset-shadow)",background:L.bg,color:L.text},onKeyDown:I=>I.key==="Enter"&&Jt()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-semibold",style:{background:L.bg,boxShadow:"var(--card-shadow-sm)",color:L.text},onClick:()=>Z(null),children:""}),o.jsx("button",{className:"flex-1 rounded-[16px] py-3 text-[14px] font-bold text-white",style:{background:"linear-gradient(135deg, var(--accent), var(--accent-dark))"},onClick:Jt,children:""})]})]})}),ge&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:ge})})]})}const ue={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},Th={thinking:{bg:"rgba(168,130,200,0.12)",color:"#8860c8",label:""},text:{bg:"rgba(100,170,120,0.12)",color:"#3a9b5c",label:""},tool_use:{bg:"rgba(232,160,60,0.12)",color:"#b8820a",label:""},tool_result:{bg:"rgba(80,160,200,0.12)",color:"#1a7ab0",label:""}},Y1=[{key:"short",label:""},{key:"long",label:""},{key:"theater",label:""}],G1=[{key:"happy",label:""},{key:"sad",label:""},{key:"angry",label:""},{key:"anxious",label:""},{key:"tired",label:""},{key:"emo",label:""},{key:"flirty",label:""},{key:"proud",label:""},{key:"calm",label:""}];function J1({block_type:e}){const t=Th[e]||{bg:"rgba(136,136,160,0.1)",color:ue.textMuted,label:e};return o.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-semibold",style:{background:t.bg,color:t.color},children:t.label})}function q1({item:e,expanded:t,onToggle:n,live:r}){return o.jsxs("div",{className:"mb-3 rounded-[18px] overflow-hidden",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("button",{className:"flex w-full items-center gap-3 p-4",onClick:n,children:[o.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full",style:{boxShadow:"var(--icon-inset)",background:ue.bg},children:e.has_tool_calls?o.jsx(jv,{size:15,style:{color:"#b8820a"}}):o.jsx(qp,{size:15,style:{color:ue.accentDark}})}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-[1.5px]",style:{borderColor:ue.accentDark,borderTopColor:"transparent"}}),e.has_tool_calls&&o.jsx("span",{className:"rounded-full px-1.5 py-0.5 text-[9px] font-semibold",style:{background:"rgba(232,160,60,0.15)",color:"#b8820a"},children:""}),o.jsx("span",{className:"text-[10px]",style:{color:ue.textMuted},children:e.created_at||""})]}),o.jsx("p",{className:"mt-0.5 truncate text-[13px]",style:{color:ue.text},children:e.preview||"()"})]}),t?o.jsx(cv,{size:16,style:{color:ue.textMuted,flexShrink:0}}):o.jsx(Or,{size:16,style:{color:ue.textMuted,flexShrink:0}})]}),t&&o.jsx("div",{className:"px-4 pb-4",children:e.rounds.map(l=>o.jsxs("div",{className:"mb-3",children:[e.rounds.length>1&&o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}}),o.jsxs("span",{className:"text-[10px] font-semibold",style:{color:ue.textMuted},children:[" ",l.round_index+1]}),o.jsx("div",{className:"h-px flex-1",style:{background:"rgba(136,136,160,0.15)"}})]}),l.blocks.map((s,a)=>{const i=Th[s.block_type]||{bg:"rgba(136,136,160,0.08)",color:ue.textMuted,label:s.block_type};return o.jsxs("div",{className:"mb-2 rounded-[12px] p-3",style:{background:i.bg},children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx(J1,{block_type:s.block_type}),s.tool_name&&o.jsx("span",{className:"text-[10px] font-mono",style:{color:i.color},children:s.tool_name})]}),o.jsx("p",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed",style:{color:ue.text,maxHeight:200,overflow:"hidden"},children:s.content.length>500?s.content.slice(0,500)+"...":s.content})]},a)})]},l.round_index))})]})}function Z1(){const e=Ut(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[s,a]=d.useState(null),[i,u]=d.useState(()=>localStorage.getItem("chat_mode")||"long"),[c,p]=d.useState(!1),[f,h]=d.useState(new Set),y=d.useRef(null),[k,v]=d.useState("calm"),[b,x]=d.useState(!1),m=d.useRef(null),g=()=>{l(!0),B("/api/cot?limit=30").then(w=>n(w)).catch(()=>{}).finally(()=>l(!1))};d.useEffect(()=>{g()},[]),d.useEffect(()=>{B("/api/settings/mood").then(w=>{w.mood&&v(w.mood)}).catch(()=>{})},[]),d.useEffect(()=>{if(!b)return;const w=C=>{m.current&&!m.current.contains(C.target)&&x(!1)};return document.addEventListener("pointerdown",w),()=>document.removeEventListener("pointerdown",w)},[b]),d.useEffect(()=>{const w=localStorage.getItem("whisper_token");if(!w)return;const S=`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/ws/cot?token=${encodeURIComponent(w)}`;let E,_,R=!1;const D=()=>{R||(E=new WebSocket(S),y.current=E,E.onopen=()=>p(!0),E.onmessage=X=>{try{const $=JSON.parse(X.data);if($.type==="done"){h(O=>{const F=new Set(O);return F.delete($.request_id),F});return}const{request_id:K,round_index:ge,block_type:ve,content:U,tool_name:z}=$;n(O=>{const F=O.findIndex(te=>te.request_id===K);if(F>=0){const te={...O[F]},se=[...te.rounds],ke=se.findIndex(de=>de.round_index===ge);ke>=0?se[ke]={...se[ke],blocks:[...se[ke].blocks,{block_type:ve,content:U,tool_name:z}]}:(se.push({round_index:ge,blocks:[{block_type:ve,content:U,tool_name:z}]}),se.sort((de,_e)=>de.round_index-_e.round_index)),te.rounds=se,ve==="tool_use"&&(te.has_tool_calls=!0),ve==="text"&&!te.preview&&(te.preview=U.slice(0,80));const re=[...O];return re[F]=te,re}return[{request_id:K,created_at:new Date().toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),preview:ve==="text"?U.slice(0,80):"",has_tool_calls:ve==="tool_use",rounds:[{round_index:ge,blocks:[{block_type:ve,content:U,tool_name:z}]}]},...O]}),h(O=>new Set(O).add(K)),a(K)}catch($){}},E.onclose=()=>{p(!1),y.current=null,R||(_=setTimeout(D,3e3))},E.onerror=()=>E.close())};return D(),()=>{R=!0,clearTimeout(_),y.current&&(y.current.onclose=null,y.current.close())}},[]),d.useEffect(()=>{localStorage.setItem("chat_mode",i);const w=JSON.parse(localStorage.getItem("app-settings")||"{}");localStorage.setItem("app-settings",JSON.stringify({...w,shortMode:i==="short",theaterMode:i==="theater"})),B("/api/settings/chat-mode",{method:"PUT",body:{mode:i}}).catch(()=>{})},[i]);const j=w=>{v(w),x(!1),B("/api/settings/mood",{method:"PUT",body:{mood:w}}).catch(()=>{})};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ue.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:ue.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ue.text},children:"COT "}),o.jsxs("div",{className:"flex items-center gap-2",children:[c&&o.jsx("div",{className:"h-2 w-2 rounded-full",style:{background:"#2a9d5c"},title:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ue.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:g,disabled:r,children:o.jsx(bu,{size:16,style:{color:ue.accentDark},className:r?"animate-spin":""})})]})]}),o.jsx("div",{className:"shrink-0 pb-3",style:{paddingLeft:20,paddingRight:20},children:o.jsxs("div",{className:"flex items-stretch gap-4 justify-center",children:[o.jsxs("div",{className:"relative flex",ref:m,children:[o.jsx("button",{className:"flex w-[42px] shrink-0 items-center justify-center rounded-[14px]",style:{background:ue.bg,boxShadow:"var(--inset-shadow)"},onClick:()=>x(!b),children:o.jsx("img",{src:`/miniapp/assets/mood/${k}.png`,alt:k,className:"h-6 w-6",style:{imageRendering:"pixelated"}})}),b&&o.jsx("div",{className:"absolute left-0 top-12 z-50 rounded-[16px] overflow-hidden",style:{background:ue.bg,boxShadow:"var(--card-shadow-sm)",width:174},children:G1.map((w,C)=>{const S=Math.floor(C/3),E=C%3,_=k===w.key;return o.jsxs("button",{className:"inline-flex flex-col items-center justify-center",style:{width:"calc(100% / 3)",padding:"8px 0 6px",background:_?"rgba(232,160,191,0.18)":"transparent",boxShadow:[E<2?"inset -1px 0 0 rgba(136,136,160,0.12)":"",S<2?"inset 0 -1px 0 rgba(136,136,160,0.12)":""].filter(Boolean).join(", ")||"none"},onClick:()=>j(w.key),children:[o.jsx("img",{src:`/miniapp/assets/mood/${w.key}.png`,alt:w.label,className:"h-7 w-7",style:{imageRendering:"pixelated",filter:_?"drop-shadow(0 0 3px #e8a0bf)":"none"}}),o.jsx("span",{className:"text-[10px] mt-0.5",style:{color:_?"#d48aab":ue.textMuted},children:w.label})]},w.key)})})]}),o.jsx("div",{className:"flex rounded-[14px] p-1",style:{boxShadow:"var(--inset-shadow)",background:ue.bg,width:240},children:Y1.map(w=>o.jsx("button",{className:"flex-1 rounded-[10px] py-2 text-[13px] font-semibold transition-all",style:{background:i===w.key?ue.bg:"transparent",boxShadow:i===w.key?"var(--card-shadow-sm)":"none",color:i===w.key?ue.accentDark:ue.textMuted},onClick:()=>u(w.key),children:w.label},w.key))})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:r?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:ue.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center gap-3 py-16",children:[o.jsx(fv,{size:36,style:{color:ue.textMuted,opacity:.5}}),o.jsx("p",{className:"text-[14px]",style:{color:ue.textMuted},children:" COT "})]}):t.map(w=>o.jsx(q1,{item:w,expanded:s===w.request_id,onToggle:()=>a(s===w.request_id?null:w.request_id),live:f.has(w.request_id)},w.request_id))})]})}const Ye={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},ys=72;function e0({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,u)=>{const c=n.current,p=r.current;if(!c)return;const f=u?"all .25s ease":"none";if(c.style.transition=f,c.style.transform=`translateX(${i}px)`,p){const h=Math.min(1,Math.abs(i)/ys);p.style.transition=f,p.style.opacity=`${h}`}l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative overflow-hidden rounded-[14px]",children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-8px)] w-[56px] flex-col items-center justify-center gap-0.5 rounded-xl",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.2)"},children:[o.jsx(Xl,{size:14,color:"#ef4444"}),o.jsx("span",{className:"text-[9px] font-medium",style:{color:"#ef4444"},children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const u=i.touches[0],c=l.current;c.sx=u.clientX,c.sy=u.clientY,c.base=c.cur,c.drag=!0,c.locked=!1,c.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const u=l.current;if(!u.drag)return;const c=i.touches[0],p=c.clientX-u.sx,f=c.clientY-u.sy;if(!u.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;u.locked=!0,u.horiz=Math.abs(p)>Math.abs(f)}if(!u.horiz){u.drag=!1;return}i.preventDefault();const h=Math.max(-ys,Math.min(0,u.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/ys)}`),u.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-36?-ys:0,!0)},children:e})]})}function t0(){const e=Ut(),[t,n]=d.useState([]),[r,l]=d.useState(null),[s,a]=d.useState(!0),[i,u]=d.useState(!1),c=async()=>{var v;a(!0);try{const x=(v=(await B("/api/sessions?limit=1")).sessions)==null?void 0:v[0];if(!x){a(!1);return}l(x.id);const m=await B(`/api/sessions/${x.id}/messages?limit=50`);n((m.messages||[]).reverse()),u(m.has_more||!1)}catch(b){console.error(b)}a(!1)};d.useEffect(()=>{c()},[]);const p=async v=>{if(r)try{await B(`/api/sessions/${r}/messages/${v}`,{method:"DELETE"}),n(b=>b.filter(x=>x.id!==v))}catch(b){console.error("Delete failed",b)}},f=async()=>{if(!r||!i||s)return;const v=t[t.length-1];if(v){a(!0);try{const b=await B(`/api/sessions/${r}/messages?limit=50&before_id=${v.id}`),x=(b.messages||[]).reverse();n(m=>[...m,...x]),u(b.has_more||!1)}catch(b){console.error(b)}a(!1)}},h=v=>{if(!v)return"";const b=new Date(v),x=new Date;return b.toDateString()===x.toDateString()?b.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):b.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=v=>v==="user"?"":v==="assistant"?"AI":"",k=v=>v==="user"?Ye.accentDark:v==="assistant"?"#3a9b5c":Ye.textMuted;return o.jsxs("div",{className:"flex h-full flex-col",style:{background:Ye.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ye.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:Ye.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:Ye.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:Ye.bg,boxShadow:s?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:c,disabled:s,children:o.jsx(bu,{size:16,style:{color:Ye.accentDark},className:s?"animate-spin":""})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("p",{className:"text-[11px]",style:{color:Ye.textMuted},children:""})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:s&&t.length===0?o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:Ye.accent,borderTopColor:"transparent"}})}):t.length===0?o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:Ye.textMuted},children:""}):o.jsxs(o.Fragment,{children:[t.map(v=>o.jsx(e0,{onDelete:()=>p(v.id),children:o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:Ye.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:k(v.role)},children:y(v.role)}),o.jsx("span",{className:"text-[10px]",style:{color:Ye.textMuted},children:h(v.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:Ye.text,maxHeight:120,overflow:"hidden"},children:v.content.length>200?v.content.slice(0,200)+"...":v.content})]})},v.id)),i&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:Ye.bg,boxShadow:"var(--card-shadow-sm)",color:Ye.accentDark},onClick:f,disabled:s,children:s?"...":""})]})})]})}const H={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"},n0=[{key:"memories",label:""},{key:"summaries",label:""},{key:"messages",label:""}],ws=72;function Ls(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),s=`${r}:${l}`;return n-t<864e5&&t.toDateString()===n.toDateString()?s:`${t.getMonth()+1}/${t.getDate()} ${s}`}function Du({text:e,keyword:t}){if(!t||!e)return o.jsx(o.Fragment,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),l=[];let s=0,a=n.indexOf(r,s);for(;a!==-1;)a>s&&l.push(o.jsx("span",{children:e.slice(s,a)},s)),l.push(o.jsx("span",{style:{color:H.accentDark,fontWeight:600},children:e.slice(a,a+r.length)},`h${a}`)),s=a+r.length,a=n.indexOf(r,s);return s<e.length&&l.push(o.jsx("span",{children:e.slice(s)},s)),o.jsx(o.Fragment,{children:l})}function r0({message:e,onConfirm:t,onCancel:n}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-8 w-full max-w-[280px] rounded-[18px] p-5",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:r=>r.stopPropagation(),children:[o.jsx("p",{className:"mb-4 text-center text-[13px]",style:{color:H.text},children:e}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:t,children:""})]})]})})}function l0({initialText:e,onSave:t,onCancel:n}){const[r,l]=d.useState(e);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.25)"},onClick:n,children:o.jsxs("div",{className:"mx-5 w-full max-w-[340px] rounded-[18px] p-4",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:s=>s.stopPropagation(),children:[o.jsx("textarea",{className:"w-full rounded-[12px] p-3 text-[12px] leading-relaxed resize-none outline-none",style:{background:H.bg,boxShadow:"var(--inset-shadow)",color:H.text,minHeight:140,maxHeight:280},value:r,onChange:s=>l(s.target.value),autoFocus:!0}),o.jsxs("div",{className:"mt-3 flex gap-3",children:[o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.textMuted},onClick:n,children:""}),o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.accentDark},onClick:()=>t(r),disabled:!r.trim(),children:""})]})]})})}function _h({children:e,onDelete:t}){const n=d.useRef(null),r=d.useRef(null),l=d.useRef({sx:0,sy:0,base:0,cur:0,drag:!1,locked:!1,horiz:!1}),s=d.useCallback((i,u)=>{const c=n.current,p=r.current;if(!c)return;const f=u?"all .25s ease":"none";c.style.transition=f,c.style.transform=`translateX(${i}px)`,p&&(p.style.transition=f,p.style.opacity=`${Math.min(1,Math.abs(i)/ws)}`),l.current.cur=i},[]),a=d.useCallback(()=>s(0,!0),[s]);return o.jsxs("div",{className:"relative overflow-hidden rounded-[14px]",children:[o.jsx("div",{ref:r,className:"absolute right-0 top-0 bottom-0 flex items-center pr-2",style:{opacity:0},children:o.jsxs("button",{onClick:()=>{a(),t()},className:"flex h-[calc(100%-8px)] w-[56px] flex-col items-center justify-center gap-0.5 rounded-xl",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.2)"},children:[o.jsx(Xl,{size:14,color:"#ef4444"}),o.jsx("span",{className:"text-[9px] font-medium",style:{color:"#ef4444"},children:""})]})}),o.jsx("div",{ref:n,className:"relative z-10",style:{transform:"translateX(0)",willChange:"transform"},onTouchStart:i=>{const u=i.touches[0],c=l.current;c.sx=u.clientX,c.sy=u.clientY,c.base=c.cur,c.drag=!0,c.locked=!1,c.horiz=!1,n.current&&(n.current.style.transition="none"),r.current&&(r.current.style.transition="none")},onTouchMove:i=>{const u=l.current;if(!u.drag)return;const c=i.touches[0],p=c.clientX-u.sx,f=c.clientY-u.sy;if(!u.locked){if(Math.abs(p)<5&&Math.abs(f)<5)return;u.locked=!0,u.horiz=Math.abs(p)>Math.abs(f)}if(!u.horiz){u.drag=!1;return}i.preventDefault();const h=Math.max(-ws,Math.min(0,u.base+p));n.current&&(n.current.style.transform=`translateX(${h}px)`),r.current&&(r.current.style.opacity=`${Math.min(1,Math.abs(h)/ws)}`),u.cur=h},onTouchEnd:()=>{l.current.drag=!1,s(l.current.cur<-36?-ws:0,!0)},children:e})]})}function kd({children:e,time:t,badge:n,keyword:r,onSwipeDelete:l,onEdit:s}){const[a,i]=d.useState(!1),u=o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[n,o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer transition-all",style:{color:H.text,maxHeight:a?"none":64},onClick:()=>i(!a),children:o.jsx(Du,{text:typeof e=="string"?e:"",keyword:r})})]}),s&&o.jsx("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:c=>{c.stopPropagation(),s()},children:o.jsx(Zp,{size:11,style:{color:H.accentDark}})})]}),t&&o.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:H.textMuted},children:t}),!a&&o.jsx(Or,{size:12,style:{color:H.textMuted}})]})]});return l?o.jsx(_h,{onDelete:l,children:u}):u}function s0({content:e,deletedAt:t,keyword:n,onRestore:r,onPermanentDelete:l}){const[s,a]=d.useState(!1);return o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",opacity:.75},children:[o.jsx("div",{className:"text-[12px] leading-relaxed break-words overflow-hidden cursor-pointer",style:{color:H.text,maxHeight:s?"none":64},onClick:()=>a(!s),children:o.jsx(Du,{text:e,keyword:n})}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px]",style:{color:H.textMuted},children:t?` ${Ls(t)}`:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(59,130,246,0.1)",color:"#3b82f6"},onClick:r,children:""}),o.jsx("button",{className:"rounded-lg px-2 py-1 text-[10px] font-medium",style:{background:"rgba(239,68,68,0.1)",color:"#ef4444"},onClick:l,children:""})]})]})]})}function o0(){const e=Ut(),[t,n]=d.useState("memories"),[r,l]=d.useState(!1),[s,a]=d.useState(null),[i,u]=d.useState([]),[c,p]=d.useState(null),[f,h]=d.useState(""),[y,k]=d.useState(null),[v,b]=d.useState(null),[x,m]=d.useState([]),[g,j]=d.useState([]),[w,C]=d.useState([]),[S,E]=d.useState([]),[_,R]=d.useState([]),[D,X]=d.useState(!0),[$,K]=d.useState(!1);d.useEffect(()=>{B("/api/sessions?limit=50").then(N=>{const P=N.sessions||[];u(P),P.length>0&&!s&&a(P[0].id)}).catch(()=>{})},[]),d.useEffect(()=>{s&&B(`/api/sessions/${s}/info`).then(N=>p(N.assistant_name||null)).catch(()=>p(null))},[s]),d.useEffect(()=>{s&&ge()},[s,r]),d.useEffect(()=>{s&&!r&&ge()},[t]);const ge=async()=>{if(s){X(!0);try{if(r){const[N,P]=await Promise.all([B("/api/memories/trash?limit=100"),B(`/api/sessions/${s}/summaries/trash`)]);E(N.memories||[]),R(P.summaries||[])}else if(t==="memories"){const N=await B("/api/memories?limit=100");m(N.memories||[])}else if(t==="summaries"){const N=await B(`/api/sessions/${s}/summaries`);j(N.summaries||[])}else{const N=await B(`/api/sessions/${s}/messages?limit=50`);C((N.messages||[]).reverse()),K(N.has_more||!1)}}catch(N){console.error(N)}X(!1)}},ve=async()=>{if(!s||!$||D)return;const N=w[w.length-1];if(N){X(!0);try{const P=await B(`/api/sessions/${s}/messages?limit=50&before_id=${N.id}`);C(W=>[...W,...(P.messages||[]).reverse()]),K(P.has_more||!1)}catch(P){console.error(P)}X(!1)}},U=f.trim().toLowerCase(),z=d.useMemo(()=>U?x.filter(N=>N.content.toLowerCase().includes(U)):x,[x,U]),O=d.useMemo(()=>U?g.filter(N=>(N.summary_content||"").toLowerCase().includes(U)):g,[g,U]),F=d.useMemo(()=>U?w.filter(N=>N.content.toLowerCase().includes(U)):w,[w,U]),q=d.useMemo(()=>U?S.filter(N=>N.content.toLowerCase().includes(U)):S,[S,U]),Q=d.useMemo(()=>U?_.filter(N=>(N.summary_content||"").toLowerCase().includes(U)):_,[_,U]),te=(N,P)=>k({message:N,action:P}),se=N=>te("",async()=>{await B(`/api/memories/${N}`,{method:"DELETE"}),m(P=>P.filter(W=>W.id!==N))}),ke=N=>te("",async()=>{await B(`/api/sessions/${s}/summaries/${N}`,{method:"DELETE"}),j(P=>P.filter(W=>W.id!==N))}),re=N=>te("",async()=>{await B(`/api/sessions/${s}/messages/${N}`,{method:"DELETE"}),C(P=>P.filter(W=>W.id!==N))}),de=async N=>{await B(`/api/memories/${N}/restore`,{method:"POST"}),E(P=>P.filter(W=>W.id!==N))},_e=N=>te("",async()=>{await B(`/api/memories/${N}/permanent`,{method:"DELETE"}),E(P=>P.filter(W=>W.id!==N))}),$e=async N=>{await B(`/api/sessions/${s}/summaries/${N}/restore`,{method:"POST"}),R(P=>P.filter(W=>W.id!==N))},Z=N=>te("",async()=>{await B(`/api/sessions/${s}/summaries/${N}/permanent`,{method:"DELETE"}),R(P=>P.filter(W=>W.id!==N))}),dt=async N=>{if(v){try{v.type==="memory"?(await B(`/api/memories/${v.id}`,{method:"PUT",body:JSON.stringify({content:N})}),m(P=>P.map(W=>W.id===v.id?{...W,content:N}:W))):(await B(`/api/sessions/${s}/summaries/${v.id}`,{method:"PATCH",body:JSON.stringify({summary_content:N})}),j(P=>P.map(W=>W.id===v.id?{...W,summary_content:N}:W)))}catch(P){console.error(P)}b(null)}},Be=N=>N==="user"?"":N==="assistant"?c||"":"",ft=N=>N==="user"?H.accentDark:N==="assistant"?"#3a9b5c":H.textMuted,fn=r?(()=>{if(D)return o.jsx(ks,{});const N=t==="memories"?q:Q;return N.length===0?o.jsx(bs,{text:U?"":""}):N.map(P=>o.jsx(s0,{content:P.content||P.summary_content||"()",deletedAt:P.deleted_at,keyword:U,onRestore:()=>t==="memories"?de(P.id):$e(P.id),onPermanentDelete:()=>t==="memories"?_e(P.id):Z(P.id)},P.id))})():t==="memories"?D&&x.length===0?o.jsx(ks,{}):z.length===0?o.jsx(bs,{text:U?"":""}):z.map(N=>o.jsx(kd,{time:Ls(N.created_at),keyword:U,onSwipeDelete:()=>se(N.id),onEdit:()=>b({type:"memory",id:N.id,text:N.content}),badge:o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:H.accentDark},children:N.klass}),children:N.content},N.id)):t==="summaries"?D&&g.length===0?o.jsx(ks,{}):O.length===0?o.jsx(bs,{text:U?"":""}):O.map(N=>o.jsx(kd,{time:Ls(N.created_at),keyword:U,onSwipeDelete:()=>ke(N.id),onEdit:()=>b({type:"summary",id:N.id,text:N.summary_content}),badge:N.mood_tag?o.jsx("span",{className:"mb-1 inline-block rounded-full px-2 py-0.5 text-[10px] font-medium",style:{background:"rgba(232,160,191,0.15)",color:H.accentDark},children:N.mood_tag}):null,children:N.summary_content||"()"},N.id)):D&&w.length===0?o.jsx(ks,{}):F.length===0?o.jsx(bs,{text:U?"":""}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-[11px]",style:{color:H.textMuted},children:""}),F.map(N=>o.jsx(_h,{onDelete:()=>re(N.id),children:o.jsxs("div",{className:"mb-2 rounded-[14px] p-3",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-[11px] font-semibold",style:{color:ft(N.role)},children:Be(N.role)}),o.jsx("span",{className:"text-[10px]",style:{color:H.textMuted},children:Ls(N.created_at)})]}),o.jsx("p",{className:"text-[12px] leading-relaxed break-words",style:{color:H.text,maxHeight:120,overflow:"hidden"},children:o.jsx(Du,{text:N.content.length>200?N.content.slice(0,200)+"...":N.content,keyword:U})})]})},N.id)),$&&!U&&o.jsx("button",{className:"mx-auto mt-2 block rounded-[10px] px-4 py-2 text-[12px]",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.accentDark},onClick:ve,disabled:D,children:D?"...":""})]});return o.jsxs("div",{className:"flex h-full flex-col",style:{background:H.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-3",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:H.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:H.text},children:r?"":""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:H.bg,boxShadow:r?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:()=>l(!r),children:o.jsx(Xl,{size:16,style:{color:r?"#ef4444":H.accentDark}})})]}),o.jsx("div",{className:"shrink-0 px-5 pb-2",children:o.jsx("div",{className:"flex rounded-[14px] p-1",style:{background:H.bg,boxShadow:"var(--inset-shadow)"},children:n0.map(N=>{const P=r&&N.key==="messages",W=t===N.key;return o.jsx("button",{className:"flex-1 rounded-[12px] py-2 text-[12px] font-medium transition-all",style:P?{color:H.textMuted,opacity:.35,cursor:"default"}:W?{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.accentDark}:{color:H.textMuted},disabled:P,onClick:()=>!P&&n(N.key),children:N.label},N.key)})})}),o.jsx("div",{className:"shrink-0 px-5 pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",style:{width:"33%"},children:[o.jsx("select",{className:"w-full appearance-none rounded-[12px] py-2 pl-3 pr-7 text-[11px] font-medium outline-none truncate",style:{background:H.bg,boxShadow:"var(--card-shadow-sm)",color:H.text,WebkitAppearance:"none"},value:s!=null?s:"",onChange:N=>a(Number(N.target.value)),children:i.map(N=>o.jsxs("option",{value:N.id,children:["#",N.id," ",N.title||""]},N.id))}),o.jsx(Or,{size:12,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",style:{color:H.textMuted}})]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(yv,{size:13,className:"absolute left-2.5 top-1/2 -translate-y-1/2",style:{color:H.textMuted}}),o.jsx("input",{className:"w-full rounded-[12px] py-2 pl-8 pr-7 text-[11px] outline-none",style:{background:H.bg,boxShadow:"var(--inset-shadow)",color:H.text},placeholder:"...",value:f,onChange:N=>h(N.target.value)}),f&&o.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>h(""),children:o.jsx(Lo,{size:13,style:{color:H.textMuted}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:fn}),y&&o.jsx(r0,{message:y.message,onConfirm:async()=>{try{await y.action()}catch(N){console.error(N)}k(null)},onCancel:()=>k(null)}),v&&o.jsx(l0,{initialText:v.text,onSave:dt,onCancel:()=>b(null)})]})}function ks(){return o.jsx("div",{className:"flex justify-center py-16",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:H.accent,borderTopColor:"transparent"}})})}function bs({text:e}){return o.jsx("p",{className:"py-16 text-center text-[14px]",style:{color:H.textMuted},children:e})}const ae={bg:"var(--bg)",accent:"var(--accent)",accentDark:"var(--accent-dark)",text:"var(--text)",textMuted:"var(--text-muted)"};function a0({value:e,onChange:t,onClose:n}){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col",style:{background:ae.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 py-4",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsx("span",{className:"text-[15px] font-bold",style:{color:ae.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ae.bg,boxShadow:"var(--card-shadow-sm)"},onClick:n,children:o.jsx(Ll,{size:18,style:{color:ae.accentDark}})})]}),o.jsx("textarea",{autoFocus:!0,value:e,onChange:r=>t(r.target.value),className:"flex-1 px-5 pb-10 text-[14px] resize-none outline-none",style:{background:ae.bg,color:ae.text},placeholder:"..."})]})}function i0(){const e=Ut(),[t,n]=d.useState(""),[r,l]=d.useState(""),[s,a]=d.useState(""),[i,u]=d.useState(""),[c,p]=d.useState(!1),[f,h]=d.useState(!0),[y,k]=d.useState(null),[v,b]=d.useState(!1),x=d.useRef(null),m=d.useRef(null),g=S=>{k(S),setTimeout(()=>k(null),2e3)};d.useEffect(()=>{B("/api/user/profile").then(S=>{n(S.nickname||""),l(S.background_url||""),a(S.basic_info||"")}).catch(()=>{}).finally(()=>h(!1)),Oo("user-avatar").then(S=>{S&&u(S)}).catch(function(){})},[]);const j=S=>{var R;const E=(R=S.target.files)==null?void 0:R[0];if(!E)return;const _=new FileReader;_.onload=async D=>{const X=D.target.result;try{await bi("user-avatar",X),u(X)}catch($){g("")}},_.readAsDataURL(E),S.target.value=""},w=S=>{var R;const E=(R=S.target.files)==null?void 0:R[0];if(!E)return;const _=new FileReader;_.onload=D=>a(D.target.result||""),_.readAsText(E),S.target.value=""},C=async()=>{p(!0);try{const S={nickname:t.trim()||null,background_url:r||null,basic_info:s||null,avatar_url:i?"user-avatar":null};await B("/api/user/profile",{method:"PUT",body:S});try{const E=JSON.parse(localStorage.getItem("whisper_profile")||"{}");localStorage.setItem("whisper_profile",JSON.stringify({...E,...S}))}catch(E){}g("")}catch(S){g("")}finally{p(!1)}};return o.jsxs("div",{className:"flex h-full flex-col",style:{background:ae.bg},children:[o.jsxs("div",{className:"flex shrink-0 items-center justify-between px-5 pb-4",style:{paddingTop:"max(1.25rem, env(safe-area-inset-top))"},children:[o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ae.bg,boxShadow:"var(--card-shadow-sm)"},onClick:()=>e("/",{replace:!0}),children:o.jsx(Gt,{size:22,style:{color:ae.text}})}),o.jsx("h1",{className:"text-[17px] font-bold",style:{color:ae.text},children:""}),o.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full",style:{background:ae.bg,boxShadow:c?"var(--inset-shadow)":"var(--card-shadow-sm)"},onClick:C,disabled:c,children:o.jsx(Io,{size:18,style:{color:ae.accentDark}})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 pt-px space-y-4",children:f?o.jsx("div",{className:"flex h-40 items-center justify-center",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2",style:{borderColor:ae.accent,borderTopColor:"transparent"}})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-[20px] p-5",style:{background:ae.bg,boxShadow:"var(--card-shadow)"},children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("button",{className:"relative shrink-0",style:{width:68,height:68},onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:"linear-gradient(135deg, #f0c4d8, var(--accent))",padding:3},children:o.jsx("div",{className:"flex h-full w-full items-center justify-center overflow-hidden rounded-full",style:{background:ae.bg},children:i?o.jsx("img",{src:i,alt:"avatar",className:"h-full w-full object-cover rounded-full"}):o.jsx("span",{style:{fontSize:24},children:""})})}),o.jsx("div",{className:"absolute bottom-0 right-0 flex h-5 w-5 items-center justify-center rounded-full",style:{background:ae.accentDark},children:o.jsx(Yp,{size:9,color:"white"})})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:j}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ae.textMuted},children:""}),o.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2.5 text-[15px] font-bold outline-none",style:{boxShadow:"var(--inset-shadow)",background:ae.bg,color:ae.text}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-[11px] font-semibold uppercase tracking-wide",style:{color:ae.textMuted},children:""}),o.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),placeholder:"",className:"w-full rounded-[12px] px-3 py-2 text-[13px] italic outline-none",style:{boxShadow:"var(--inset-shadow)",background:ae.bg,color:ae.text}})]})]})]})}),o.jsxs("div",{className:"rounded-[20px] p-5",style:{background:ae.bg,boxShadow:"var(--card-shadow)"},children:[o.jsxs("div",{className:"mb-1.5 flex items-center justify-between",children:[o.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide",style:{color:ae.textMuted},children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ae.bg},onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},title:"",children:o.jsx(ku,{size:13,style:{color:ae.textMuted}})}),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.text",className:"hidden",onChange:w}),o.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-full",style:{boxShadow:"var(--card-shadow-sm)",background:ae.bg},onClick:()=>b(!0),title:"",children:o.jsx(Po,{size:13,style:{color:ae.accentDark}})})]})]}),o.jsx("textarea",{value:s,onChange:S=>a(S.target.value),placeholder:"...",rows:8,className:"w-full rounded-[14px] px-4 py-3 text-[14px] resize-none outline-none",style:{boxShadow:"var(--inset-shadow)",background:ae.bg,color:ae.text}})]})]})}),v&&o.jsx(a0,{value:s,onChange:a,onClose:()=>b(!1)}),y&&o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-1/2 z-[200] flex justify-center",children:o.jsx("div",{className:"rounded-2xl px-6 py-3 text-[14px] font-medium text-white",style:{background:"rgba(0,0,0,0.75)"},children:y})})]})}function u0(){return d.useEffect(()=>{var t;const e=()=>{var l;const n=(l=window.Telegram)==null?void 0:l.WebApp,r=(n==null?void 0:n.viewportStableHeight)||window.innerHeight;document.documentElement.style.setProperty("--tg-viewport-height",r+"px")};return e(),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.location.hash.startsWith("#/cot")||window.Telegram.WebApp.expand(),window.Telegram.WebApp.onEvent("viewportChanged",e),()=>{window.Telegram.WebApp.offEvent("viewportChanged",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[]),o.jsx(rv,{children:o.jsxs(ev,{children:[o.jsx(lt,{path:"/",element:o.jsx(Ev,{})}),o.jsx(lt,{path:"/profile",element:o.jsx(i0,{})}),o.jsx(lt,{path:"/world-books",element:o.jsx(Rv,{})}),o.jsx(lt,{path:"/world-books/new",element:o.jsx(td,{})}),o.jsx(lt,{path:"/world-books/:id",element:o.jsx(td,{})}),o.jsx(lt,{path:"/assistants",element:o.jsx(Uv,{})}),o.jsx(lt,{path:"/assistants/new",element:o.jsx(gd,{})}),o.jsx(lt,{path:"/assistants/:id",element:o.jsx(gd,{})}),o.jsx(lt,{path:"/settings",element:o.jsx(U1,{})}),o.jsx(lt,{path:"/settings/api",element:o.jsx(Q1,{})}),o.jsx(lt,{path:"/cot",element:o.jsx(Z1,{})}),o.jsx(lt,{path:"/memories",element:o.jsx(o0,{})}),o.jsx(lt,{path:"/messages",element:o.jsx(t0,{})})]})})}Ea.createRoot(document.getElementById("root")).render(o.jsx(me.StrictMode,{children:o.jsx(u0,{})}));
